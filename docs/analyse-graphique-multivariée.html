<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 6 Analyse graphique multivariée | Introduction aux Data Sciences</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 6 Analyse graphique multivariée | Introduction aux Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 6 Analyse graphique multivariée | Introduction aux Data Sciences" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-09-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analyse-bi-variée.html"/>
<link rel="next" href="analyses-factorielles.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NLP en r et en français</a></li>

<li class="divider"></li>
<li><a href="index.html#avant-propos" id="toc-avant-propos"><span class="toc-section-number">1</span> Avant propos</a>
<ul>
<li><a href="index.html#plan-du-manuel" id="toc-plan-du-manuel"><span class="toc-section-number">1.1</span> Plan du manuel</a></li>
<li><a href="index.html#les-jeux-de-données" id="toc-les-jeux-de-données"><span class="toc-section-number">1.2</span> Les jeux de données</a></li>
<li><a href="index.html#le-cadre-technique-et-les-packages-utilisés" id="toc-le-cadre-technique-et-les-packages-utilisés"><span class="toc-section-number">1.3</span> Le cadre technique et les packages utilisés</a></li>
<li><a href="index.html#a-faire" id="toc-a-faire"><span class="toc-section-number">1.4</span> A faire</a></li>
</ul></li>
<li><a href="intro.html#intro" id="toc-intro"><span class="toc-section-number">2</span> Introduction aux data sciences</a>
<ul>
<li><a href="intro.html#objectif-et-sommaire" id="toc-objectif-et-sommaire"><span class="toc-section-number">2.1</span> Objectif et sommaire</a></li>
<li><a href="intro.html#science-ou-technique" id="toc-science-ou-technique"><span class="toc-section-number">2.2</span> Science ou technique ?</a></li>
<li><a href="intro.html#histoires-des-logiciels-statistiques" id="toc-histoires-des-logiciels-statistiques"><span class="toc-section-number">2.3</span> histoires des logiciels statistiques</a></li>
<li><a href="intro.html#le-processus-de-traitement-des-données" id="toc-le-processus-de-traitement-des-données"><span class="toc-section-number">2.4</span> Le processus de traitement des données</a></li>
<li><a href="intro.html#les-facteurs-de-développement-des-datasciences" id="toc-les-facteurs-de-développement-des-datasciences"><span class="toc-section-number">2.5</span> Les facteurs de développement des datasciences</a>
<ul>
<li><a href="intro.html#une-lingua-franca" id="toc-une-lingua-franca"><span class="toc-section-number">2.5.1</span> Une lingua franca</a></li>
<li><a href="intro.html#une-communauté" id="toc-une-communauté"><span class="toc-section-number">2.5.2</span> Une communauté</a></li>
<li><a href="intro.html#la-multiplication-des-sources-de-données." id="toc-la-multiplication-des-sources-de-données."><span class="toc-section-number">2.5.3</span> La multiplication des sources de données.</a></li>
<li><a href="intro.html#du-ml-à-lia" id="toc-du-ml-à-lia"><span class="toc-section-number">2.5.4</span> du ML à l’IA</a></li>
</ul></li>
</ul></li>
<li><a href="prise-en-main.html#prise-en-main" id="toc-prise-en-main"><span class="toc-section-number">3</span> Prise en main</a>
<ul>
<li><a href="prise-en-main.html#la-convention-du-rmarkdown" id="toc-la-convention-du-rmarkdown"><span class="toc-section-number">3.1</span> La convention du Rmarkdown</a></li>
<li><a href="prise-en-main.html#lire-les-données" id="toc-lire-les-données"><span class="toc-section-number">3.2</span> Lire les données</a>
<ul>
<li><a href="prise-en-main.html#la-diversité-des-formats" id="toc-la-diversité-des-formats"><span class="toc-section-number">3.2.1</span> La diversité des formats</a></li>
<li><a href="prise-en-main.html#les-autres-accès-aux-données" id="toc-les-autres-accès-aux-données"><span class="toc-section-number">3.2.2</span> Les autres accès aux données</a></li>
</ul></li>
<li><a href="prise-en-main.html#dplyr-pour-manipuler-les-données" id="toc-dplyr-pour-manipuler-les-données"><span class="toc-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données</a>
<ul>
<li><a href="prise-en-main.html#des-pipes" id="toc-des-pipes"><span class="toc-section-number">3.3.1</span> Des pipes %&gt;%</a></li>
<li><a href="prise-en-main.html#des-verbes" id="toc-des-verbes"><span class="toc-section-number">3.3.2</span> Des verbes</a></li>
</ul></li>
<li><a href="prise-en-main.html#pour-aller-plus-loin" id="toc-pour-aller-plus-loin"><span class="toc-section-number">3.4</span> Pour aller plus loin</a></li>
</ul></li>
<li><a href="analyses-univariées.html#analyses-univariées" id="toc-analyses-univariées"><span class="toc-section-number">4</span> Analyses univariées</a>
<ul>
<li><a href="analyses-univariées.html#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques"><span class="toc-section-number">4.1</span> La grammaire des graphiques</a>
<ul>
<li><a href="analyses-univariées.html#un-modèle-en-couche" id="toc-un-modèle-en-couche"><span class="toc-section-number">4.1.1</span> Un modèle en couche</a></li>
<li><a href="analyses-univariées.html#une-typologie-des-représentations" id="toc-une-typologie-des-représentations"><span class="toc-section-number">4.1.2</span> Une typologie des représentations</a></li>
<li><a href="analyses-univariées.html#lesthétique" id="toc-lesthétique"><span class="toc-section-number">4.1.3</span> L’esthétique</a></li>
</ul></li>
<li><a href="analyses-univariées.html#une-étude-de-cas" id="toc-une-étude-de-cas"><span class="toc-section-number">4.2</span> Une étude de cas</a>
<ul>
<li><a href="analyses-univariées.html#le-cas-des-variables-quantitatives" id="toc-le-cas-des-variables-quantitatives"><span class="toc-section-number">4.2.1</span> Le cas des variables quantitatives</a></li>
<li><a href="analyses-univariées.html#quand-la-variable-est-qualitative" id="toc-quand-la-variable-est-qualitative"><span class="toc-section-number">4.2.2</span> Quand la variable est qualitative</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-bi-variée.html#analyse-bi-variée" id="toc-analyse-bi-variée"><span class="toc-section-number">5</span> Analyse bi variée</a>
<ul>
<li><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" id="toc-diagrammes-xy---la-magie-des-corrélations"><span class="toc-section-number">5.1</span> Diagrammes xy - la magie des corrélations</a></li>
<li><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" id="toc-comparer-les-distributions-et-des-moyennes"><span class="toc-section-number">5.2</span> Comparer les distributions et des moyennes</a>
<ul>
<li><a href="analyse-bi-variée.html#comparaison-de-moyennes" id="toc-comparaison-de-moyennes"><span class="toc-section-number">5.2.1</span> Comparaison de moyennes</a></li>
<li><a href="analyse-bi-variée.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">5.2.2</span> Deux variables qualitatives</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#analyse-graphique-multivariée" id="toc-analyse-graphique-multivariée"><span class="toc-section-number">6</span> Analyse graphique multivariée</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail" id="toc-la-confiance-institutionnelle-en-détail"><span class="toc-section-number">6.1</span> La confiance institutionnelle, en détail</a></li>
<li><a href="analyse-graphique-multivariée.html#table-de-corrélation" id="toc-table-de-corrélation"><span class="toc-section-number">6.2</span> Table de corrélation</a></li>
<li><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020" id="toc-un-cas-plus-complexe-présidentielle2020"><span class="toc-section-number">6.3</span> Un cas plus complexe : présidentielle2020</a></li>
<li><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" id="toc-une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><span class="toc-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#effet-sondeur" id="toc-effet-sondeur"><span class="toc-section-number">6.4.1</span> effet sondeur</a></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur" id="toc-modéliser-le-biais-du-sondeur"><span class="toc-section-number">6.5</span> Modéliser le biais du sondeur</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#analyses-factorielles" id="toc-analyses-factorielles"><span class="toc-section-number">7</span> Analyses factorielles</a>
<ul>
<li><a href="analyses-factorielles.html#origine-et-histoire" id="toc-origine-et-histoire"><span class="toc-section-number">7.1</span> Origine et histoire</a>
<ul>
<li><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie" id="toc-une-petite-histoire-de-la-psychométrie"><span class="toc-section-number">7.1.1</span> Une petite histoire de la psychométrie</a></li>
<li><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales" id="toc-lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><span class="toc-section-number">7.1.2</span> L’école française de l’analyse des données appliquée aux sciences sociales</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques" id="toc-le-modèle-factoriel-des-tests-psychologiques"><span class="toc-section-number">7.2</span> Le modèle factoriel des tests psychologiques</a>
<ul>
<li><a href="analyses-factorielles.html#un-peu-de-théorie" id="toc-un-peu-de-théorie"><span class="toc-section-number">7.2.1</span> Un peu de théorie</a></li>
<li><a href="analyses-factorielles.html#lestimation" id="toc-lestimation"><span class="toc-section-number">7.2.2</span> L’estimation</a></li>
<li><a href="analyses-factorielles.html#ressources" id="toc-ressources"><span class="toc-section-number">7.2.3</span> Ressources</a></li>
<li><a href="analyses-factorielles.html#cas-dapplication" id="toc-cas-dapplication"><span class="toc-section-number">7.2.4</span> Cas d’application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation" id="toc-examen-de-la-matrice-de-corrélation"><span class="toc-section-number">7.3</span> Examen de la matrice de corrélation</a></li>
<li><a href="analyses-factorielles.html#modèle-factoriel" id="toc-modèle-factoriel"><span class="toc-section-number">7.4</span> Modèle factoriel</a></li>
<li><a href="analyses-factorielles.html#lanalyse-en-composante-principale" id="toc-lanalyse-en-composante-principale"><span class="toc-section-number">7.5</span> L’analyse en composante principale</a>
<ul>
<li><a href="analyses-factorielles.html#le-problème-théorique" id="toc-le-problème-théorique"><span class="toc-section-number">7.5.1</span> le problème théorique</a></li>
<li><a href="analyses-factorielles.html#une-représentation-symbolique" id="toc-une-représentation-symbolique"><span class="toc-section-number">7.5.2</span> Une représentation symbolique</a></li>
<li><a href="analyses-factorielles.html#application" id="toc-application"><span class="toc-section-number">7.5.3</span> Application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc" id="toc-une-généralisation-de-lacp-lafc"><span class="toc-section-number">7.6</span> Une généralisation de l’ACP : l’AFC</a>
<ul>
<li><a href="analyses-factorielles.html#afcm-multiple" id="toc-afcm-multiple"><span class="toc-section-number">7.6.1</span> AFCM multiple</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#développements" id="toc-développements"><span class="toc-section-number">7.7</span> Développements</a>
<ul>
<li><a href="analyses-factorielles.html#le-svd" id="toc-le-svd"><span class="toc-section-number">7.7.1</span> le SVD</a></li>
<li><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante" id="toc-acm-analyse-canonique-analyse-discriminante"><span class="toc-section-number">7.7.2</span> ACM , analyse canonique , analyse discriminante</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#en-conclusion" id="toc-en-conclusion"><span class="toc-section-number">7.8</span> En conclusion</a></li>
</ul></li>
<li><a href="clus.html#clus" id="toc-clus"><span class="toc-section-number">8</span> Clustering</a>
<ul>
<li><a href="clus.html#les-méthodes-hiérarchiques-ascendantes" id="toc-les-méthodes-hiérarchiques-ascendantes"><span class="toc-section-number">8.1</span> Les méthodes hiérarchiques ascendantes</a>
<ul>
<li><a href="clus.html#mise-en-oeuvre" id="toc-mise-en-oeuvre"><span class="toc-section-number">8.1.1</span> Mise en oeuvre</a></li>
</ul></li>
<li><a href="clus.html#segmentation-simplifiée" id="toc-segmentation-simplifiée"><span class="toc-section-number">8.2</span> segmentation simplifiée</a></li>
<li><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" id="toc-tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><span class="toc-section-number">8.3</span> tableaux croisés de la typologie et des critères sociaux démos</a></li>
<li><a href="clus.html#afcm-pour-une-synthèse" id="toc-afcm-pour-une-synthèse"><span class="toc-section-number">8.4</span> AFCM pour une synthèse</a>
<ul>
<li><a href="clus.html#forces-et-limites" id="toc-forces-et-limites"><span class="toc-section-number">8.4.1</span> Forces et limites</a></li>
</ul></li>
<li><a href="clus.html#les-méthodes-non-hiérarchiques" id="toc-les-méthodes-non-hiérarchiques"><span class="toc-section-number">8.5</span> Les méthodes non-hiérarchiques</a>
<ul>
<li><a href="clus.html#principe" id="toc-principe"><span class="toc-section-number">8.5.1</span> principe</a></li>
<li><a href="clus.html#application-1" id="toc-application-1"><span class="toc-section-number">8.5.2</span> Application</a></li>
<li><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe" id="toc-le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><span class="toc-section-number">8.5.3</span> Le problème de la détermination du nombre optimal de groupe</a></li>
</ul></li>
<li><a href="clus.html#autres-méthodes" id="toc-autres-méthodes"><span class="toc-section-number">8.6</span> Autres méthodes</a></li>
<li><a href="clus.html#conclusion" id="toc-conclusion"><span class="toc-section-number">8.7</span> Conclusion</a></li>
</ul></li>
<li><a href="régression.html#régression" id="toc-régression"><span class="toc-section-number">9</span> 9 - Régression</a>
<ul>
<li><a href="régression.html#une-étude-de-cas-les-offres-blablacar" id="toc-une-étude-de-cas-les-offres-blablacar"><span class="toc-section-number">9.1</span> Une étude de cas : les offres Blablacar</a>
<ul>
<li><a href="régression.html#les-caractérisques-de-loffre" id="toc-les-caractérisques-de-loffre"><span class="toc-section-number">9.1.1</span> Les caractérisques de l’offre</a></li>
</ul></li>
<li><a href="régression.html#notes-prix-et-taux-doccupations" id="toc-notes-prix-et-taux-doccupations"><span class="toc-section-number">9.2</span> Notes, prix et taux d’occupations</a></li>
<li><a href="régression.html#analyse-des-prix" id="toc-analyse-des-prix"><span class="toc-section-number">9.3</span> Analyse des prix</a></li>
<li><a href="régression.html#analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" id="toc-analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation"><span class="toc-section-number">9.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?</a>
<ul>
<li><a href="régression.html#un-modèle-ols" id="toc-un-modèle-ols"><span class="toc-section-number">9.4.1</span> Un modèle OLS</a></li>
</ul></li>
<li><a href="régression.html#autres-modèles" id="toc-autres-modèles"><span class="toc-section-number">9.5</span> Autres modèles</a>
<ul>
<li><a href="régression.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">9.5.1</span> régression logistique</a></li>
</ul></li>
<li><a href="régression.html#un-cas-danalyse-de-survie" id="toc-un-cas-danalyse-de-survie"><span class="toc-section-number">9.6</span> un cas d’analyse de survie</a></li>
<li><a href="régression.html#pour-généraliser" id="toc-pour-généraliser"><span class="toc-section-number">9.7</span> Pour généraliser</a></li>
<li><a href="régression.html#spécification-fonctionnelle" id="toc-spécification-fonctionnelle"><span class="toc-section-number">9.8</span> Spécification fonctionnelle</a>
<ul>
<li><a href="régression.html#structure-des-données" id="toc-structure-des-données"><span class="toc-section-number">9.8.1</span> Structure des données</a></li>
<li><a href="régression.html#les-méthodes-destimation" id="toc-les-méthodes-destimation"><span class="toc-section-number">9.8.2</span> les méthodes d’estimation</a></li>
</ul></li>
</ul></li>
<li><a href="arbre-de-décision.html#arbre-de-décision" id="toc-arbre-de-décision"><span class="toc-section-number">10</span> Arbre de Décision</a>
<ul>
<li><a href="arbre-de-décision.html#construire-un-arbre-de-décision" id="toc-construire-un-arbre-de-décision"><span class="toc-section-number">10.1</span> Construire un arbre de décision</a></li>
<li><a href="arbre-de-décision.html#mise-en-oeuvre-avec-partykit" id="toc-mise-en-oeuvre-avec-partykit"><span class="toc-section-number">10.2</span> Mise en oeuvre avec Partykit</a></li>
<li><a href="arbre-de-décision.html#forêts-aléatoires" id="toc-forêts-aléatoires"><span class="toc-section-number">10.3</span> forêts aléatoires</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#premiers-éléments-de-machine-learning" id="toc-premiers-éléments-de-machine-learning"><span class="toc-section-number">11</span> Premiers éléments de Machine Learning</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#une-typologie-de-modèles" id="toc-une-typologie-de-modèles"><span class="toc-section-number">11.1</span> une typologie de modèles</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-linéaire" id="toc-le-modèle-linéaire"><span class="toc-section-number">11.1.1</span> le modèle linéaire</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-logit" id="toc-le-modèle-logit"><span class="toc-section-number">11.1.2</span> le modèle logit</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-modèles-à-régularisation" id="toc-les-modèles-à-régularisation"><span class="toc-section-number">11.1.3</span> les modèles à régularisation</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-random-forest" id="toc-les-random-forest"><span class="toc-section-number">11.1.4</span> les random forest</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#forêts-aléatoires-1" id="toc-forêts-aléatoires-1"><span class="toc-section-number">11.2</span> forêts aléatoires</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analyse-graphique-multivariée" class="section level1" number="6">
<h1><span class="header-section-number">Chapitre 6</span> Analyse graphique multivariée</h1>
<p>Dans ce chapitre, on généralise à des ensembles de variables.</p>
<div id="la-confiance-institutionnelle-en-détail" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> La confiance institutionnelle, en détail</h2>
<p>On veut reprénter 6 variables, correspondant à 5 types d’habitats et 2 pays.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="analyse-graphique-multivariée.html#cb66-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;./data/dfTrust.rds)&quot;</span>)</span>
<span id="cb66-2"><a href="analyse-graphique-multivariée.html#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="analyse-graphique-multivariée.html#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="analyse-graphique-multivariée.html#cb66-4" aria-hidden="true" tabindex="-1"></a>rad<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb66-5"><a href="analyse-graphique-multivariée.html#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (habitat,cntry) <span class="sc">%&gt;%</span> </span>
<span id="cb66-6"><a href="analyse-graphique-multivariée.html#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Partis=</span><span class="fu">mean</span>(Partis, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-7"><a href="analyse-graphique-multivariée.html#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Parlement=</span><span class="fu">mean</span>(Parlement, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-8"><a href="analyse-graphique-multivariée.html#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Politiques=</span><span class="fu">mean</span>(Politiques, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-9"><a href="analyse-graphique-multivariée.html#cb66-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Police=</span><span class="fu">mean</span>(Police, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-10"><a href="analyse-graphique-multivariée.html#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Justice=</span><span class="fu">mean</span>(Justice, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-11"><a href="analyse-graphique-multivariée.html#cb66-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">NationsUnies=</span><span class="fu">mean</span>(NationsUnies, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb66-12"><a href="analyse-graphique-multivariée.html#cb66-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">ParlementEurop=</span><span class="fu">mean</span>(ParlementEurop, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb66-13"><a href="analyse-graphique-multivariée.html#cb66-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(habitat)) <span class="sc">%&gt;%</span></span>
<span id="cb66-14"><a href="analyse-graphique-multivariée.html#cb66-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(variable, value, <span class="sc">-</span>habitat, <span class="sc">-</span>cntry)</span>
<span id="cb66-15"><a href="analyse-graphique-multivariée.html#cb66-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-16"><a href="analyse-graphique-multivariée.html#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rad, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(variable, value),<span class="at">y=</span>value, <span class="at">group=</span>habitat))<span class="sc">+</span></span>
<span id="cb66-17"><a href="analyse-graphique-multivariée.html#cb66-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color=</span>habitat), <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb66-18"><a href="analyse-graphique-multivariée.html#cb66-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(.<span class="sc">~</span>cntry) <span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb66-19"><a href="analyse-graphique-multivariée.html#cb66-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type=</span><span class="st">&quot;div&quot;</span>,<span class="at">palette=</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Les éléments de la confiance institutionnelle&quot;</span>, <span class="at">caption=</span><span class="st">&quot;ESS2002-2018&quot;</span>,<span class="at">y=</span> <span class="st">&quot;confiance (de 1 à 10)&quot;</span>,<span class="at">x=</span><span class="st">&quot;institutions&quot;</span>) </span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0501-1.png" width="672" /></p>
<p>Une autre variante qui donne l’évolution de l’évolution de les éléments de la confiance institutionnelle</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="analyse-graphique-multivariée.html#cb67-1" aria-hidden="true" tabindex="-1"></a>rad<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="analyse-graphique-multivariée.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (Year,cntry) <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="analyse-graphique-multivariée.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Partis=</span><span class="fu">mean</span>(Partis, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-4"><a href="analyse-graphique-multivariée.html#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Parlement=</span><span class="fu">mean</span>(Parlement, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-5"><a href="analyse-graphique-multivariée.html#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Politiques=</span><span class="fu">mean</span>(Politiques, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-6"><a href="analyse-graphique-multivariée.html#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Police=</span><span class="fu">mean</span>(Police, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-7"><a href="analyse-graphique-multivariée.html#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Justice=</span><span class="fu">mean</span>(Justice, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-8"><a href="analyse-graphique-multivariée.html#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">NationsUnies=</span><span class="fu">mean</span>(NationsUnies, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb67-9"><a href="analyse-graphique-multivariée.html#cb67-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">ParlementEurop=</span><span class="fu">mean</span>(ParlementEurop, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb67-10"><a href="analyse-graphique-multivariée.html#cb67-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(variable, value, <span class="sc">-</span>Year, <span class="sc">-</span>cntry)</span>
<span id="cb67-11"><a href="analyse-graphique-multivariée.html#cb67-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-12"><a href="analyse-graphique-multivariée.html#cb67-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rad, <span class="fu">aes</span>(<span class="at">x=</span>Year,<span class="at">y=</span>value, <span class="at">group=</span>variable))<span class="sc">+</span></span>
<span id="cb67-13"><a href="analyse-graphique-multivariée.html#cb67-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color=</span>variable), <span class="at">size=</span><span class="fl">1.2</span>)<span class="sc">+</span></span>
<span id="cb67-14"><a href="analyse-graphique-multivariée.html#cb67-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>cntry, <span class="at">nrow=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb67-15"><a href="analyse-graphique-multivariée.html#cb67-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Spectral&quot;</span>)<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Les éléments de la confiance institutionnelle&quot;</span>, <span class="at">caption=</span><span class="st">&quot;ESS2002-2018&quot;</span>,<span class="at">y=</span> <span class="st">&quot;confiance (de 1 à 10)&quot;</span>,<span class="at">x=</span><span class="st">&quot;institutions&quot;</span>) </span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0503-1.png" width="672" /></p>
<p>La différence entre les deux pays est claire, la rupture est accusée plus fortement en France qu’en Allemagne. L’explication n’est sans doute pas culturelle mais démographique, un coup d’oeil à la carte des densité permet de comprendre mieux : <a href="https://www.populationdata.net/cartes/allemagne-france-densite-de-population-2011/" class="uri">https://www.populationdata.net/cartes/allemagne-france-densite-de-population-2011/</a>.</p>
<p>On pourra tenté un graphe en radar. Mais il n’est pas si convaincant.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="analyse-graphique-multivariée.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb68-2"><a href="analyse-graphique-multivariée.html#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="analyse-graphique-multivariée.html#cb68-3" aria-hidden="true" tabindex="-1"></a>rad<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">&quot;FR&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-4"><a href="analyse-graphique-multivariée.html#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span> (habitat) <span class="sc">%&gt;%</span></span>
<span id="cb68-5"><a href="analyse-graphique-multivariée.html#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Partis=</span><span class="fu">mean</span>(Partis, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-6"><a href="analyse-graphique-multivariée.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Parlement=</span><span class="fu">mean</span>(Parlement, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-7"><a href="analyse-graphique-multivariée.html#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Politiques=</span><span class="fu">mean</span>(Politiques, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-8"><a href="analyse-graphique-multivariée.html#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Police=</span><span class="fu">mean</span>(Police, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-9"><a href="analyse-graphique-multivariée.html#cb68-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Justice=</span><span class="fu">mean</span>(Justice, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-10"><a href="analyse-graphique-multivariée.html#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">NationsUnies=</span><span class="fu">mean</span>(NationsUnies, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb68-11"><a href="analyse-graphique-multivariée.html#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">ParlementEurop=</span><span class="fu">mean</span>(ParlementEurop, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-12"><a href="analyse-graphique-multivariée.html#cb68-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(habitat)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-13"><a href="analyse-graphique-multivariée.html#cb68-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>habitat)</span>
<span id="cb68-14"><a href="analyse-graphique-multivariée.html#cb68-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-15"><a href="analyse-graphique-multivariée.html#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="co">#on doit indiquer les valeurs minimale et maximale - la fonction rep permet de repeter (ici 7 fois pour les 7 variables/col)</span></span>
<span id="cb68-16"><a href="analyse-graphique-multivariée.html#cb68-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">7</span>,<span class="dv">7</span>) , <span class="fu">rep</span>(<span class="dv">3</span>,<span class="dv">7</span>) , rad)</span>
<span id="cb68-17"><a href="analyse-graphique-multivariée.html#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="co">#l&#39;autre method c&#39;est ce choisir maxmin=FALSE</span></span>
<span id="cb68-18"><a href="analyse-graphique-multivariée.html#cb68-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-19"><a href="analyse-graphique-multivariée.html#cb68-19" aria-hidden="true" tabindex="-1"></a><span class="co">#rownames(rad) &lt;- c(&quot;big city&quot;, &quot;suburbs&quot; ,&quot;town&quot;,&quot;village&quot;, &quot;countryside&quot;)</span></span>
<span id="cb68-20"><a href="analyse-graphique-multivariée.html#cb68-20" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>(rad, <span class="at">axistype=</span><span class="dv">0</span>, <span class="at">seg=</span><span class="dv">4</span>, <span class="at">title=</span><span class="st">&quot;Moyenne par institution&quot;</span>, <span class="at">maxmin=</span><span class="cn">FALSE</span>)</span>
<span id="cb68-21"><a href="analyse-graphique-multivariée.html#cb68-21" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x=</span><span class="fl">0.7</span>, <span class="at">y=</span><span class="dv">1</span>, <span class="at">legend =</span> <span class="fu">rownames</span>(rad), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,<span class="at">text.col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">cex=</span><span class="fl">1.2</span>, <span class="at">pt.cex=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0504-1.png" width="672" /></p>
</div>
<div id="table-de-corrélation" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Table de corrélation</h2>
<p>Comparer les moyennes est une chose, on souhaiter en plus savoir quelle structure de corrélation les caractérisent. Rien de plus simple</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="analyse-graphique-multivariée.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb69-2"><a href="analyse-graphique-multivariée.html#cb69-2" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;./data/dfTrust.rds)&quot;</span>)<span class="sc">%&gt;%</span><span class="fu">filter</span>(Year<span class="sc">==</span><span class="dv">2018</span>)</span>
<span id="cb69-3"><a href="analyse-graphique-multivariée.html#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="analyse-graphique-multivariée.html#cb69-4" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(NationsUnies,ParlementEurop, Parlement, Justice, Police, Politiques, Partis) <span class="sc">%&gt;%</span> </span>
<span id="cb69-5"><a href="analyse-graphique-multivariée.html#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb69-6"><a href="analyse-graphique-multivariée.html#cb69-6" aria-hidden="true" tabindex="-1"></a>r<span class="ot">&lt;-</span><span class="fu">cor</span>(foo)</span>
<span id="cb69-7"><a href="analyse-graphique-multivariée.html#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="analyse-graphique-multivariée.html#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(r, <span class="at">hc.order =</span> <span class="cn">TRUE</span>, <span class="at">type =</span> <span class="st">&quot;lower&quot;</span>,</span>
<span id="cb69-9"><a href="analyse-graphique-multivariée.html#cb69-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">lab =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0505-1.png" width="672" /></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="analyse-graphique-multivariée.html#cb70-1" aria-hidden="true" tabindex="-1"></a>g<span class="ot">&lt;-</span><span class="fu">paste0</span>(<span class="st">&quot;./plot/g1&quot;</span>,<span class="st">&quot;.jpg&quot;</span>)</span>
<span id="cb70-2"><a href="analyse-graphique-multivariée.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(g,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">19</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
</div>
<div id="un-cas-plus-complexe-présidentielle2020" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Un cas plus complexe : présidentielle2020</h2>
<p>Nsppolls cumulent les sondages publiés des grands instituts. On utilise ces données , ainsi qu’une boucle, pour explorer différents paramètre d’un modèle de lissage.</p>
<p>Le but : mieux percevoir les tendance par une sorte de méta-analyse des différents sondages :</p>
</div>
<div id="une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre</h2>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="analyse-graphique-multivariée.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb71-2"><a href="analyse-graphique-multivariée.html#cb71-2" aria-hidden="true" tabindex="-1"></a>alph<span class="ot">&lt;-</span>.<span class="dv">5</span></span>
<span id="cb71-3"><a href="analyse-graphique-multivariée.html#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="analyse-graphique-multivariée.html#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (alph <span class="cf">in</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span> <span class="dv">1</span>, <span class="at">by=</span>.<span class="dv">05</span>)){</span>
<span id="cb71-5"><a href="analyse-graphique-multivariée.html#cb71-5" aria-hidden="true" tabindex="-1"></a>df_pol <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;https://raw.githubusercontent.com/nsppolls/nsppolls/master/presidentielle.csv&quot;</span>, </span>
<span id="cb71-6"><a href="analyse-graphique-multivariée.html#cb71-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-7"><a href="analyse-graphique-multivariée.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tour<span class="sc">==</span><span class="st">&quot;Premier tour&quot;</span>) <span class="sc">%&gt;%</span><span class="fu">filter</span>(candidat<span class="sc">==</span><span class="st">&quot;Eric Zemmour&quot;</span><span class="sc">|</span></span>
<span id="cb71-8"><a href="analyse-graphique-multivariée.html#cb71-8" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span> <span class="st">&quot;Marine Le Pen&quot;</span><span class="sc">|</span></span>
<span id="cb71-9"><a href="analyse-graphique-multivariée.html#cb71-9" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span> <span class="st">&quot;Emmanuel Macron&quot;</span><span class="sc">|</span></span>
<span id="cb71-10"><a href="analyse-graphique-multivariée.html#cb71-10" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span> <span class="st">&quot;Jean-Luc Mélenchon&quot;</span><span class="sc">|</span></span>
<span id="cb71-11"><a href="analyse-graphique-multivariée.html#cb71-11" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span> <span class="st">&quot;Yannick Jadot&quot;</span><span class="sc">|</span></span>
<span id="cb71-12"><a href="analyse-graphique-multivariée.html#cb71-12" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span> <span class="st">&quot;Valérie Pécresse&quot;</span><span class="sc">|</span> </span>
<span id="cb71-13"><a href="analyse-graphique-multivariée.html#cb71-13" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span><span class="st">&quot;Fabien Roussel&quot;</span><span class="sc">|</span></span>
<span id="cb71-14"><a href="analyse-graphique-multivariée.html#cb71-14" aria-hidden="true" tabindex="-1"></a>                                           candidat<span class="sc">==</span><span class="st">&quot;Anne Hidalgo&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb71-15"><a href="analyse-graphique-multivariée.html#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fin_enquete<span class="sc">&gt;</span><span class="fu">ymd</span>(<span class="st">&quot;2022-01-09&quot;</span>)) <span class="co"># on commence en septembre , octobre est-il meilleur ?</span></span>
<span id="cb71-16"><a href="analyse-graphique-multivariée.html#cb71-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-17"><a href="analyse-graphique-multivariée.html#cb71-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-18"><a href="analyse-graphique-multivariée.html#cb71-18" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_pol<span class="sc">$</span>candidat)</span>
<span id="cb71-19"><a href="analyse-graphique-multivariée.html#cb71-19" aria-hidden="true" tabindex="-1"></a>SensiP1<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;pink&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;gray20&quot;</span>, <span class="st">&quot;red&quot;</span>,<span class="st">&quot;firebrick&quot;</span>, <span class="st">&quot;Royalblue&quot;</span>, <span class="st">&quot; skyblue&quot;</span>, <span class="st">&quot;Chartreuse&quot;</span>)</span>
<span id="cb71-20"><a href="analyse-graphique-multivariée.html#cb71-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-21"><a href="analyse-graphique-multivariée.html#cb71-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_pol, <span class="fu">aes</span>(<span class="at">y=</span>intentions, <span class="at">x=</span>fin_enquete))<span class="sc">+</span></span>
<span id="cb71-22"><a href="analyse-graphique-multivariée.html#cb71-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>candidat), <span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span><span class="dv">1</span><span class="sc">-</span>alph)<span class="sc">+</span></span>
<span id="cb71-23"><a href="analyse-graphique-multivariée.html#cb71-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">span =</span> alph, <span class="fu">aes</span>(<span class="at">col=</span>candidat,<span class="at">fill=</span>candidat), <span class="at">alpha=</span><span class="fl">0.2</span>)<span class="sc">+</span></span>
<span id="cb71-24"><a href="analyse-graphique-multivariée.html#cb71-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>SensiP1)<span class="sc">+</span>  </span>
<span id="cb71-25"><a href="analyse-graphique-multivariée.html#cb71-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>SensiP1)<span class="sc">+</span> </span>
<span id="cb71-26"><a href="analyse-graphique-multivariée.html#cb71-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Evolution des intentions de vote #présidentielle2022 1er tour&quot;</span>,</span>
<span id="cb71-27"><a href="analyse-graphique-multivariée.html#cb71-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span><span class="fu">paste</span>(<span class="st">&quot;Lissage méthode loess. alpha=&quot;</span>,alph, <span class="st">&quot; - ci=95%&quot;</span>),</span>
<span id="cb71-28"><a href="analyse-graphique-multivariée.html#cb71-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;data @nsppolls viz @benavent&quot;</span>,</span>
<span id="cb71-29"><a href="analyse-graphique-multivariée.html#cb71-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>)<span class="sc">+</span><span class="fu">theme_minimal</span>()<span class="sc">+</span><span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>, <span class="at">date_minor_breaks =</span> <span class="st">&quot;1 week&quot;</span>,</span>
<span id="cb71-30"><a href="analyse-graphique-multivariée.html#cb71-30" aria-hidden="true" tabindex="-1"></a>             <span class="at">date_labels =</span> <span class="st">&quot;%B&quot;</span>)</span>
<span id="cb71-31"><a href="analyse-graphique-multivariée.html#cb71-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-32"><a href="analyse-graphique-multivariée.html#cb71-32" aria-hidden="true" tabindex="-1"></a>sondage_nsppolls<span class="ot">&lt;-</span><span class="fu">paste0</span>(<span class="st">&quot;./nsppolls/sondage_nsppolls&quot;</span>, alph<span class="sc">*</span><span class="dv">20</span>, <span class="st">&quot;.jpg&quot;</span>)</span>
<span id="cb71-33"><a href="analyse-graphique-multivariée.html#cb71-33" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(sondage_nsppolls,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">19</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb71-34"><a href="analyse-graphique-multivariée.html#cb71-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-35"><a href="analyse-graphique-multivariée.html#cb71-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb71-36"><a href="analyse-graphique-multivariée.html#cb71-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-37"><a href="analyse-graphique-multivariée.html#cb71-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-38"><a href="analyse-graphique-multivariée.html#cb71-38" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span>df_pol<span class="sc">%&gt;%</span></span>
<span id="cb71-39"><a href="analyse-graphique-multivariée.html#cb71-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb71-40"><a href="analyse-graphique-multivariée.html#cb71-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id)<span class="sc">%&gt;%</span><span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">sum</span>(n))</span>
<span id="cb71-41"><a href="analyse-graphique-multivariée.html#cb71-41" aria-hidden="true" tabindex="-1"></a><span class="co">#nombre de sondage</span></span>
<span id="cb71-42"><a href="analyse-graphique-multivariée.html#cb71-42" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">nrow</span>(n)</span></code></pre></div>
<p>Pour créer le gif on emplie magick. On a pris soin de sauvegarder les graphes dans un répertoire propre, ça facilite la lecture en boucle et la fabrication du gif.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="analyse-graphique-multivariée.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magick)</span>
<span id="cb72-2"><a href="analyse-graphique-multivariée.html#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="analyse-graphique-multivariée.html#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co">#gif                                                     </span></span>
<span id="cb72-4"><a href="analyse-graphique-multivariée.html#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="analyse-graphique-multivariée.html#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="co">#on constitue une liste des noms des fichier *.jpg que l&#39;on veut associer                                                     </span></span>
<span id="cb72-6"><a href="analyse-graphique-multivariée.html#cb72-6" aria-hidden="true" tabindex="-1"></a>frames <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;./nsppolls/&quot;</span>,<span class="st">&quot;sondage_nsppolls&quot;</span>, <span class="dv">0</span><span class="sc">:</span><span class="dv">20</span>,<span class="st">&quot;.jpg&quot;</span>)</span>
<span id="cb72-7"><a href="analyse-graphique-multivariée.html#cb72-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-8"><a href="analyse-graphique-multivariée.html#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="co">#on lit et on stoke dans m les images</span></span>
<span id="cb72-9"><a href="analyse-graphique-multivariée.html#cb72-9" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">image_read</span>(frames)</span>
<span id="cb72-10"><a href="analyse-graphique-multivariée.html#cb72-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-11"><a href="analyse-graphique-multivariée.html#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="co">#on fabrique et on sauvergarde le gif</span></span>
<span id="cb72-12"><a href="analyse-graphique-multivariée.html#cb72-12" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">image_animate</span>(m, <span class="at">fps=</span><span class="dv">1</span>)</span>
<span id="cb72-13"><a href="analyse-graphique-multivariée.html#cb72-13" aria-hidden="true" tabindex="-1"></a><span class="fu">image_write</span>(m, <span class="st">&quot;./plot/sondages_lissage.gif&quot;</span>)</span></code></pre></div>
<div id="effet-sondeur" class="section level3" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> effet sondeur</h3>
<p>pour anticiper sur le chapitre suivant</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="analyse-graphique-multivariée.html#cb73-1" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df_pol<span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="analyse-graphique-multivariée.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(candidat, intentions, fin_enquete, echantillon,nom_institut)<span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="analyse-graphique-multivariée.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nom_institut, candidat)<span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="analyse-graphique-multivariée.html#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy=</span><span class="fu">mean</span>(intentions, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb73-5"><a href="analyse-graphique-multivariée.html#cb73-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std=</span><span class="fu">sd</span>(intentions, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb73-6"><a href="analyse-graphique-multivariée.html#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="analyse-graphique-multivariée.html#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="analyse-graphique-multivariée.html#cb73-8" aria-hidden="true" tabindex="-1"></a>SensiP2<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;gray90&quot;</span>,<span class="st">&quot;gray20&quot;</span>, <span class="st">&quot;Royalblue&quot;</span>, <span class="st">&quot;skyblue&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;firebrick&quot;</span>, <span class="st">&quot;green&quot;</span>)</span>
<span id="cb73-9"><a href="analyse-graphique-multivariée.html#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="analyse-graphique-multivariée.html#cb73-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-11"><a href="analyse-graphique-multivariée.html#cb73-11" aria-hidden="true" tabindex="-1"></a>g<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>candidat,<span class="at">y=</span>moy))<span class="sc">+</span></span>
<span id="cb73-12"><a href="analyse-graphique-multivariée.html#cb73-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> candidat, </span>
<span id="cb73-13"><a href="analyse-graphique-multivariée.html#cb73-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> <span class="sc">-</span>std<span class="sc">+</span>moy, </span>
<span id="cb73-14"><a href="analyse-graphique-multivariée.html#cb73-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">xend =</span> candidat, </span>
<span id="cb73-15"><a href="analyse-graphique-multivariée.html#cb73-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">yend =</span> std<span class="sc">+</span>moy, </span>
<span id="cb73-16"><a href="analyse-graphique-multivariée.html#cb73-16" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> nom_institut), <span class="at">size=</span><span class="fl">1.2</span>)<span class="sc">+</span></span>
<span id="cb73-17"><a href="analyse-graphique-multivariée.html#cb73-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>nom_institut), <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb73-18"><a href="analyse-graphique-multivariée.html#cb73-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> SensiP2)<span class="sc">+</span></span>
<span id="cb73-19"><a href="analyse-graphique-multivariée.html#cb73-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb73-20"><a href="analyse-graphique-multivariée.html#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb73-21"><a href="analyse-graphique-multivariée.html#cb73-21" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0510-1.png" width="672" /></p>
</div>
</div>
<div id="modéliser-le-biais-du-sondeur" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Modéliser le biais du sondeur</h2>
<p><a href="http://www.stat.yale.edu/Courses/1997-98/101/anovareg.htm" class="uri">http://www.stat.yale.edu/Courses/1997-98/101/anovareg.htm</a></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="analyse-graphique-multivariée.html#cb74-1" aria-hidden="true" tabindex="-1"></a>df_pol<span class="sc">$</span>tps<span class="ot">&lt;-</span><span class="dv">2</span></span>
<span id="cb74-2"><a href="analyse-graphique-multivariée.html#cb74-2" aria-hidden="true" tabindex="-1"></a>df_pol<span class="sc">$</span>tps[df_pol<span class="sc">$</span>fin_enquete <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">&quot;2022-01-31&quot;</span>)]<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb74-3"><a href="analyse-graphique-multivariée.html#cb74-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-4"><a href="analyse-graphique-multivariée.html#cb74-4" aria-hidden="true" tabindex="-1"></a>df_pol<span class="sc">$</span>tps[df_pol<span class="sc">$</span>fin_enquete <span class="sc">&gt;</span> <span class="fu">ymd</span>(<span class="st">&quot;2022-03-01&quot;</span>)]<span class="ot">&lt;-</span><span class="dv">3</span></span>
<span id="cb74-5"><a href="analyse-graphique-multivariée.html#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="analyse-graphique-multivariée.html#cb74-6" aria-hidden="true" tabindex="-1"></a>df_pol<span class="sc">$</span>tps<span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df_pol<span class="sc">$</span>tps)</span>
<span id="cb74-7"><a href="analyse-graphique-multivariée.html#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="analyse-graphique-multivariée.html#cb74-8" aria-hidden="true" tabindex="-1"></a>fit1<span class="ot">&lt;-</span> <span class="fu">lm</span>(intentions<span class="sc">~</span>candidat<span class="sc">*</span>tps,<span class="at">data=</span>df_pol)</span>
<span id="cb74-9"><a href="analyse-graphique-multivariée.html#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fit1)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: intentions
##                Df Sum Sq Mean Sq   F value    Pr(&gt;F)    
## candidat        7  91455 13065.0 13327.297 &lt; 2.2e-16 ***
## tps             2     22    11.1    11.336 1.291e-05 ***
## candidat:tps   14   2591   185.1   188.785 &lt; 2.2e-16 ***
## Residuals    1608   1576     1.0                        
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="analyse-graphique-multivariée.html#cb76-1" aria-hidden="true" tabindex="-1"></a>fit2<span class="ot">&lt;-</span> <span class="fu">lm</span>(intentions<span class="sc">~</span>candidat<span class="sc">*</span>tps<span class="sc">+</span>candidat<span class="sc">*</span>nom_institut,<span class="at">data=</span>df_pol)</span>
<span id="cb76-2"><a href="analyse-graphique-multivariée.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fit2)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: intentions
##                         Df Sum Sq Mean Sq    F value    Pr(&gt;F)    
## candidat                 7  91455 13065.0 18131.7707 &lt; 2.2e-16 ***
## tps                      2     22    11.1    15.4233 2.332e-07 ***
## nom_institut             8     22     2.7     3.7658 0.0002207 ***
## candidat:tps            14   2591   185.1   256.8418 &lt; 2.2e-16 ***
## candidat:nom_institut   56    442     7.9    10.9564 &lt; 2.2e-16 ***
## Residuals             1544   1113     0.7                         
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="analyse-graphique-multivariée.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fit1,fit2)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Model 1: intentions ~ candidat * tps
## Model 2: intentions ~ candidat * tps + candidat * nom_institut
##   Res.Df    RSS Df Sum of Sq      F    Pr(&gt;F)    
## 1   1608 1576.3                                  
## 2   1544 1112.5 64    463.81 10.057 &lt; 2.2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="analyse-graphique-multivariée.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = intentions ~ candidat * tps, data = df_pol)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.7639 -0.5882  0.0062  0.5741  4.0741 
## 
## Coefficients:
##                                 Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                       3.1765     0.1386  22.911  &lt; 2e-16 ***
## candidatEmmanuel Macron          21.5392     0.1961 109.854  &lt; 2e-16 ***
## candidatEric Zemmour              9.7549     0.1961  49.752  &lt; 2e-16 ***
## candidatFabien Roussel           -0.8039     0.1961  -4.100 4.33e-05 ***
## candidatJean-Luc Mélenchon        6.4118     0.1961  32.701  &lt; 2e-16 ***
## candidatMarine Le Pen            13.7353     0.1961  70.053  &lt; 2e-16 ***
## candidatValérie Pécresse         13.2255     0.1961  67.453  &lt; 2e-16 ***
## candidatYannick Jadot             2.7255     0.1961  13.901  &lt; 2e-16 ***
## tps2                             -0.6765     0.1812  -3.733 0.000196 ***
## tps3                             -0.8431     0.1770  -4.764 2.07e-06 ***
## candidatEmmanuel Macron:tps2      0.6844     0.2563   2.671 0.007648 ** 
## candidatEric Zemmour:tps2         2.0645     0.2563   8.056 1.52e-15 ***
## candidatFabien Roussel:tps2       2.1511     0.2563   8.394  &lt; 2e-16 ***
## candidatJean-Luc Mélenchon:tps2   1.6438     0.2563   6.414 1.86e-10 ***
## candidatMarine Le Pen:tps2        0.5842     0.2563   2.279 0.022772 *  
## candidatValérie Pécresse:tps2    -0.9616     0.2563  -3.752 0.000181 ***
## candidatYannick Jadot:tps2       -0.1630     0.2563  -0.636 0.524863    
## candidatEmmanuel Macron:tps3      5.5534     0.2503  22.187  &lt; 2e-16 ***
## candidatEric Zemmour:tps3        -0.4956     0.2503  -1.980 0.047850 *  
## candidatFabien Roussel:tps3       2.2607     0.2503   9.032  &lt; 2e-16 ***
## candidatJean-Luc Mélenchon:tps3   3.4956     0.2503  13.966  &lt; 2e-16 ***
## candidatMarine Le Pen:tps3        1.6968     0.2503   6.779 1.69e-11 ***
## candidatValérie Pécresse:tps3    -4.0650     0.2503 -16.241  &lt; 2e-16 ***
## candidatYannick Jadot:tps3        0.4967     0.2503   1.985 0.047363 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.9901 on 1608 degrees of freedom
## Multiple R-squared:  0.9835, Adjusted R-squared:  0.9833 
## F-statistic:  4172 on 23 and 1608 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="analyse-graphique-multivariée.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = intentions ~ candidat * tps + candidat * nom_institut, 
##     data = df_pol)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.0364 -0.4365 -0.0473  0.5315  4.0598 
## 
## Coefficients:
##                                                            Estimate Std. Error
## (Intercept)                                                2.996288   0.343330
## candidatEmmanuel Macron                                   21.420362   0.485542
## candidatEric Zemmour                                      10.309018   0.485542
## candidatFabien Roussel                                    -0.698575   0.485542
## candidatJean-Luc Mélenchon                                 6.675419   0.485542
## candidatMarine Le Pen                                     13.939990   0.485542
## candidatValérie Pécresse                                  13.036636   0.485542
## candidatYannick Jadot                                      2.896003   0.485542
## tps2                                                      -0.677181   0.156273
## tps3                                                      -0.904913   0.158066
## nom_institutCluster17                                     -0.653941   0.419813
## nom_institutElabe                                         -0.404567   0.405893
## nom_institutHarris Interactive                             0.203762   0.400643
## nom_institutIfop                                           0.232704   0.341681
## nom_institutIpsos                                          0.458974   0.373498
## nom_institutKantar Public                                 -0.333952   0.586121
## nom_institutOdoxa                                         -0.455241   0.681187
## nom_institutOpinion Way                                    0.377135   0.335325
## candidatEmmanuel Macron:tps2                               0.746163   0.221004
## candidatEric Zemmour:tps2                                  2.129084   0.221004
## candidatFabien Roussel:tps2                                2.123362   0.221004
## candidatJean-Luc Mélenchon:tps2                            1.701235   0.221004
## candidatMarine Le Pen:tps2                                 0.573065   0.221004
## candidatValérie Pécresse:tps2                             -0.988110   0.221004
## candidatYannick Jadot:tps2                                -0.145368   0.221004
## candidatEmmanuel Macron:tps3                               5.641284   0.223539
## candidatEric Zemmour:tps3                                 -0.355324   0.223539
## candidatFabien Roussel:tps3                                2.285824   0.223539
## candidatJean-Luc Mélenchon:tps3                            3.717399   0.223539
## candidatMarine Le Pen:tps3                                 1.943484   0.223539
## candidatValérie Pécresse:tps3                             -3.945058   0.223539
## candidatYannick Jadot:tps3                                 0.379679   0.223539
## candidatEmmanuel Macron:nom_institutCluster17             -0.411213   0.593705
## candidatEric Zemmour:nom_institutCluster17                 1.545945   0.593705
## candidatFabien Roussel:nom_institutCluster17               0.563482   0.593705
## candidatJean-Luc Mélenchon:nom_institutCluster17           3.078867   0.593705
## candidatMarine Le Pen:nom_institutCluster17               -1.052262   0.593705
## candidatValérie Pécresse:nom_institutCluster17            -0.357875   0.593705
## candidatYannick Jadot:nom_institutCluster17                0.198241   0.593705
## candidatEmmanuel Macron:nom_institutElabe                  0.691749   0.574020
## candidatEric Zemmour:nom_institutElabe                    -0.982306   0.574020
## candidatFabien Roussel:nom_institutElabe                   0.325718   0.574020
## candidatJean-Luc Mélenchon:nom_institutElabe               0.769716   0.574020
## candidatMarine Le Pen:nom_institutElabe                    0.085361   0.574020
## candidatValérie Pécresse:nom_institutElabe                 0.236341   0.574020
## candidatYannick Jadot:nom_institutElabe                    0.486314   0.574020
## candidatEmmanuel Macron:nom_institutHarris Interactive     0.336971   0.566595
## candidatEric Zemmour:nom_institutHarris Interactive       -0.007437   0.566595
## candidatFabien Roussel:nom_institutHarris Interactive     -0.645601   0.566595
## candidatJean-Luc Mélenchon:nom_institutHarris Interactive  0.543168   0.566595
## candidatMarine Le Pen:nom_institutHarris Interactive       0.198796   0.566595
## candidatValérie Pécresse:nom_institutHarris Interactive   -0.823119   0.566595
## candidatYannick Jadot:nom_institutHarris Interactive       0.072290   0.566595
## candidatEmmanuel Macron:nom_institutIfop                   0.558648   0.483210
## candidatEric Zemmour:nom_institutIfop                     -0.271076   0.483210
## candidatFabien Roussel:nom_institutIfop                   -0.156132   0.483210
## candidatJean-Luc Mélenchon:nom_institutIfop               -0.513746   0.483210
## candidatMarine Le Pen:nom_institutIfop                    -0.037347   0.483210
## candidatValérie Pécresse:nom_institutIfop                  0.270337   0.483210
## candidatYannick Jadot:nom_institutIfop                    -0.365942   0.483210
## candidatEmmanuel Macron:nom_institutIpsos                  0.311750   0.528206
## candidatEric Zemmour:nom_institutIpsos                    -0.761888   0.528206
## candidatFabien Roussel:nom_institutIpsos                  -0.459298   0.528206
## candidatJean-Luc Mélenchon:nom_institutIpsos              -0.818654   0.528206
## candidatMarine Le Pen:nom_institutIpsos                   -1.908563   0.528206
## candidatValérie Pécresse:nom_institutIpsos                -1.004626   0.528206
## candidatYannick Jadot:nom_institutIpsos                    0.916043   0.528206
## candidatEmmanuel Macron:nom_institutKantar Public          1.070060   0.828900
## candidatEric Zemmour:nom_institutKantar Public             0.884836   0.828900
## candidatFabien Roussel:nom_institutKantar Public          -0.033096   0.828900
## candidatJean-Luc Mélenchon:nom_institutKantar Public       0.779237   0.828900
## candidatMarine Le Pen:nom_institutKantar Public            0.573332   0.828900
## candidatValérie Pécresse:nom_institutKantar Public        -0.577227   0.828900
## candidatYannick Jadot:nom_institutKantar Public           -0.767333   0.828900
## candidatEmmanuel Macron:nom_institutOdoxa                  0.635914   0.963344
## candidatEric Zemmour:nom_institutOdoxa                    -0.445898   0.963344
## candidatFabien Roussel:nom_institutOdoxa                   0.743981   0.963344
## candidatJean-Luc Mélenchon:nom_institutOdoxa               0.115264   0.963344
## candidatMarine Le Pen:nom_institutOdoxa                    1.801735   0.963344
## candidatValérie Pécresse:nom_institutOdoxa                -0.820052   0.963344
## candidatYannick Jadot:nom_institutOdoxa                   -0.013158   0.963344
## candidatEmmanuel Macron:nom_institutOpinion Way           -0.493794   0.474222
## candidatEric Zemmour:nom_institutOpinion Way              -1.309243   0.474222
## candidatFabien Roussel:nom_institutOpinion Way            -0.073700   0.474222
## candidatJean-Luc Mélenchon:nom_institutOpinion Way        -1.004659   0.474222
## candidatMarine Le Pen:nom_institutOpinion Way             -0.240672   0.474222
## candidatValérie Pécresse:nom_institutOpinion Way           0.632251   0.474222
## candidatYannick Jadot:nom_institutOpinion Way             -0.380987   0.474222
##                                                           t value Pr(&gt;|t|)    
## (Intercept)                                                 8.727  &lt; 2e-16 ***
## candidatEmmanuel Macron                                    44.116  &lt; 2e-16 ***
## candidatEric Zemmour                                       21.232  &lt; 2e-16 ***
## candidatFabien Roussel                                     -1.439 0.150424    
## candidatJean-Luc Mélenchon                                 13.748  &lt; 2e-16 ***
## candidatMarine Le Pen                                      28.710  &lt; 2e-16 ***
## candidatValérie Pécresse                                   26.850  &lt; 2e-16 ***
## candidatYannick Jadot                                       5.964 3.04e-09 ***
## tps2                                                       -4.333 1.56e-05 ***
## tps3                                                       -5.725 1.24e-08 ***
## nom_institutCluster17                                      -1.558 0.119510    
## nom_institutElabe                                          -0.997 0.319050    
## nom_institutHarris Interactive                              0.509 0.611114    
## nom_institutIfop                                            0.681 0.495938    
## nom_institutIpsos                                           1.229 0.219314    
## nom_institutKantar Public                                  -0.570 0.568919    
## nom_institutOdoxa                                          -0.668 0.504039    
## nom_institutOpinion Way                                     1.125 0.260898    
## candidatEmmanuel Macron:tps2                                3.376 0.000753 ***
## candidatEric Zemmour:tps2                                   9.634  &lt; 2e-16 ***
## candidatFabien Roussel:tps2                                 9.608  &lt; 2e-16 ***
## candidatJean-Luc Mélenchon:tps2                             7.698 2.46e-14 ***
## candidatMarine Le Pen:tps2                                  2.593 0.009604 ** 
## candidatValérie Pécresse:tps2                              -4.471 8.35e-06 ***
## candidatYannick Jadot:tps2                                 -0.658 0.510788    
## candidatEmmanuel Macron:tps3                               25.236  &lt; 2e-16 ***
## candidatEric Zemmour:tps3                                  -1.590 0.112144    
## candidatFabien Roussel:tps3                                10.226  &lt; 2e-16 ***
## candidatJean-Luc Mélenchon:tps3                            16.630  &lt; 2e-16 ***
## candidatMarine Le Pen:tps3                                  8.694  &lt; 2e-16 ***
## candidatValérie Pécresse:tps3                             -17.648  &lt; 2e-16 ***
## candidatYannick Jadot:tps3                                  1.698 0.089617 .  
## candidatEmmanuel Macron:nom_institutCluster17              -0.693 0.488651    
## candidatEric Zemmour:nom_institutCluster17                  2.604 0.009306 ** 
## candidatFabien Roussel:nom_institutCluster17                0.949 0.342721    
## candidatJean-Luc Mélenchon:nom_institutCluster17            5.186 2.43e-07 ***
## candidatMarine Le Pen:nom_institutCluster17                -1.772 0.076531 .  
## candidatValérie Pécresse:nom_institutCluster17             -0.603 0.546743    
## candidatYannick Jadot:nom_institutCluster17                 0.334 0.738497    
## candidatEmmanuel Macron:nom_institutElabe                   1.205 0.228351    
## candidatEric Zemmour:nom_institutElabe                     -1.711 0.087231 .  
## candidatFabien Roussel:nom_institutElabe                    0.567 0.570503    
## candidatJean-Luc Mélenchon:nom_institutElabe                1.341 0.180143    
## candidatMarine Le Pen:nom_institutElabe                     0.149 0.881803    
## candidatValérie Pécresse:nom_institutElabe                  0.412 0.680595    
## candidatYannick Jadot:nom_institutElabe                     0.847 0.397011    
## candidatEmmanuel Macron:nom_institutHarris Interactive      0.595 0.552111    
## candidatEric Zemmour:nom_institutHarris Interactive        -0.013 0.989529    
## candidatFabien Roussel:nom_institutHarris Interactive      -1.139 0.254696    
## candidatJean-Luc Mélenchon:nom_institutHarris Interactive   0.959 0.337884    
## candidatMarine Le Pen:nom_institutHarris Interactive        0.351 0.725741    
## candidatValérie Pécresse:nom_institutHarris Interactive    -1.453 0.146497    
## candidatYannick Jadot:nom_institutHarris Interactive        0.128 0.898493    
## candidatEmmanuel Macron:nom_institutIfop                    1.156 0.247812    
## candidatEric Zemmour:nom_institutIfop                      -0.561 0.574886    
## candidatFabien Roussel:nom_institutIfop                    -0.323 0.746652    
## candidatJean-Luc Mélenchon:nom_institutIfop                -1.063 0.287860    
## candidatMarine Le Pen:nom_institutIfop                     -0.077 0.938404    
## candidatValérie Pécresse:nom_institutIfop                   0.559 0.575929    
## candidatYannick Jadot:nom_institutIfop                     -0.757 0.448977    
## candidatEmmanuel Macron:nom_institutIpsos                   0.590 0.555140    
## candidatEric Zemmour:nom_institutIpsos                     -1.442 0.149390    
## candidatFabien Roussel:nom_institutIpsos                   -0.870 0.384685    
## candidatJean-Luc Mélenchon:nom_institutIpsos               -1.550 0.121376    
## candidatMarine Le Pen:nom_institutIpsos                    -3.613 0.000312 ***
## candidatValérie Pécresse:nom_institutIpsos                 -1.902 0.057362 .  
## candidatYannick Jadot:nom_institutIpsos                     1.734 0.083073 .  
## candidatEmmanuel Macron:nom_institutKantar Public           1.291 0.196918    
## candidatEric Zemmour:nom_institutKantar Public              1.067 0.285921    
## candidatFabien Roussel:nom_institutKantar Public           -0.040 0.968156    
## candidatJean-Luc Mélenchon:nom_institutKantar Public        0.940 0.347321    
## candidatMarine Le Pen:nom_institutKantar Public             0.692 0.489244    
## candidatValérie Pécresse:nom_institutKantar Public         -0.696 0.486297    
## candidatYannick Jadot:nom_institutKantar Public            -0.926 0.354734    
## candidatEmmanuel Macron:nom_institutOdoxa                   0.660 0.509281    
## candidatEric Zemmour:nom_institutOdoxa                     -0.463 0.643526    
## candidatFabien Roussel:nom_institutOdoxa                    0.772 0.440061    
## candidatJean-Luc Mélenchon:nom_institutOdoxa                0.120 0.904776    
## candidatMarine Le Pen:nom_institutOdoxa                     1.870 0.061632 .  
## candidatValérie Pécresse:nom_institutOdoxa                 -0.851 0.394760    
## candidatYannick Jadot:nom_institutOdoxa                    -0.014 0.989104    
## candidatEmmanuel Macron:nom_institutOpinion Way            -1.041 0.297912    
## candidatEric Zemmour:nom_institutOpinion Way               -2.761 0.005834 ** 
## candidatFabien Roussel:nom_institutOpinion Way             -0.155 0.876516    
## candidatJean-Luc Mélenchon:nom_institutOpinion Way         -2.119 0.034288 *  
## candidatMarine Le Pen:nom_institutOpinion Way              -0.508 0.611870    
## candidatValérie Pécresse:nom_institutOpinion Way            1.333 0.182650    
## candidatYannick Jadot:nom_institutOpinion Way              -0.803 0.421871    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.8489 on 1544 degrees of freedom
## Multiple R-squared:  0.9884, Adjusted R-squared:  0.9877 
## F-statistic:  1508 on 87 and 1544 DF,  p-value: &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="analyse-graphique-multivariée.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jtools)</span>
<span id="cb84-2"><a href="analyse-graphique-multivariée.html#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="analyse-graphique-multivariée.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(interactions)</span>
<span id="cb84-4"><a href="analyse-graphique-multivariée.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat_plot</span>(fit2, <span class="at">pred=</span>candidat,<span class="at">modx=</span> nom_institut, <span class="at">color.class=</span><span class="st">&quot;Spectral&quot;</span>)<span class="sc">+</span></span>
<span id="cb84-5"><a href="analyse-graphique-multivariée.html#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> SensiP2)<span class="sc">+</span><span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/biais-1.png" width="672" /></p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="analyse-graphique-multivariée.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat_plot</span>(fit2, <span class="at">pred=</span> tps,<span class="at">modx=</span>candidat, <span class="at">color.class=</span><span class="st">&quot;Spectral&quot;</span>, <span class="at">dodge.width=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb85-2"><a href="analyse-graphique-multivariée.html#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> SensiP2)<span class="sc">+</span><span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color=</span>candidat))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/biais-2.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analyse-bi-variée.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyses-factorielles.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-GGplotMultvar.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
