<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 9 Régression et arbre de régression | Introduction aux Data Sciences</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 9 Régression et arbre de régression | Introduction aux Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 9 Régression et arbre de régression | Introduction aux Data Sciences" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-03-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clus.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NLP en r et en français</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Avant propos</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#plan-du-manuel"><i class="fa fa-check"></i><b>1.1</b> Plan du manuel</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#les-jeux-de-données"><i class="fa fa-check"></i><b>1.2</b> Les jeux de données</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#le-cadre-technique-et-les-packages-utilisés"><i class="fa fa-check"></i><b>1.3</b> Le cadre technique et les packages utilisés</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#a-faire"><i class="fa fa-check"></i><b>1.4</b> A faire</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction aux data sciences</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#objectif-et-sommaire"><i class="fa fa-check"></i><b>2.1</b> Objectif et sommaire</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#science-ou-technique"><i class="fa fa-check"></i><b>2.2</b> Science ou technique ?</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#histoires-des-logiciels-statistiques"><i class="fa fa-check"></i><b>2.3</b> histoires des logiciels statistiques</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#le-processus-de-traitement-des-données"><i class="fa fa-check"></i><b>2.4</b> Le processus de traitement des données</a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#les-facteurs-de-développement-des-datasciences"><i class="fa fa-check"></i><b>2.5</b> Les facteurs de développement des datasciences</a><ul>
<li class="chapter" data-level="2.5.1" data-path="intro.html"><a href="intro.html#une-lingua-franca"><i class="fa fa-check"></i><b>2.5.1</b> Une lingua franca</a></li>
<li class="chapter" data-level="2.5.2" data-path="intro.html"><a href="intro.html#une-communauté"><i class="fa fa-check"></i><b>2.5.2</b> Une communauté</a></li>
<li class="chapter" data-level="2.5.3" data-path="intro.html"><a href="intro.html#la-multiplication-des-sources-de-données."><i class="fa fa-check"></i><b>2.5.3</b> La multiplication des sources de données.</a></li>
<li class="chapter" data-level="2.5.4" data-path="intro.html"><a href="intro.html#du-ml-à-lia"><i class="fa fa-check"></i><b>2.5.4</b> du ML à l’IA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prise-en-main.html"><a href="prise-en-main.html"><i class="fa fa-check"></i><b>3</b> Prise en main</a><ul>
<li class="chapter" data-level="3.1" data-path="prise-en-main.html"><a href="prise-en-main.html#la-convention-du-rmarkdown"><i class="fa fa-check"></i><b>3.1</b> La convention du Rmarkdown</a></li>
<li class="chapter" data-level="3.2" data-path="prise-en-main.html"><a href="prise-en-main.html#lire-les-données"><i class="fa fa-check"></i><b>3.2</b> Lire les données</a><ul>
<li class="chapter" data-level="3.2.1" data-path="prise-en-main.html"><a href="prise-en-main.html#la-diversité-des-formats"><i class="fa fa-check"></i><b>3.2.1</b> La diversité des formats</a></li>
<li class="chapter" data-level="3.2.2" data-path="prise-en-main.html"><a href="prise-en-main.html#les-autres-accès-aux-données"><i class="fa fa-check"></i><b>3.2.2</b> Les autres accès aux données</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="prise-en-main.html"><a href="prise-en-main.html#dplyr-pour-manipuler-les-données"><i class="fa fa-check"></i><b>3.3</b> <code>Dplyr</code> pour manipuler les données</a><ul>
<li class="chapter" data-level="3.3.1" data-path="prise-en-main.html"><a href="prise-en-main.html#des-pipes"><i class="fa fa-check"></i><b>3.3.1</b> Des pipes %&gt;%</a></li>
<li class="chapter" data-level="3.3.2" data-path="prise-en-main.html"><a href="prise-en-main.html#des-verbes"><i class="fa fa-check"></i><b>3.3.2</b> Des verbes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="prise-en-main.html"><a href="prise-en-main.html#pour-aller-plus-loin"><i class="fa fa-check"></i><b>3.4</b> Pour aller plus loin</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analyses-univariées.html"><a href="analyses-univariées.html"><i class="fa fa-check"></i><b>4</b> Analyses univariées</a><ul>
<li class="chapter" data-level="4.1" data-path="analyses-univariées.html"><a href="analyses-univariées.html#la-grammaire-des-graphiques"><i class="fa fa-check"></i><b>4.1</b> La grammaire des graphiques</a><ul>
<li class="chapter" data-level="4.1.1" data-path="analyses-univariées.html"><a href="analyses-univariées.html#un-modèle-en-couche"><i class="fa fa-check"></i><b>4.1.1</b> Un modèle en couche</a></li>
<li class="chapter" data-level="4.1.2" data-path="analyses-univariées.html"><a href="analyses-univariées.html#une-typologie-des-représentations"><i class="fa fa-check"></i><b>4.1.2</b> Une typologie des représentations</a></li>
<li class="chapter" data-level="4.1.3" data-path="analyses-univariées.html"><a href="analyses-univariées.html#lesthétique"><i class="fa fa-check"></i><b>4.1.3</b> L’esthétique</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="analyses-univariées.html"><a href="analyses-univariées.html#une-étude-de-cas"><i class="fa fa-check"></i><b>4.2</b> Une étude de cas</a><ul>
<li class="chapter" data-level="4.2.1" data-path="analyses-univariées.html"><a href="analyses-univariées.html#le-cas-des-variables-quantitatives"><i class="fa fa-check"></i><b>4.2.1</b> Le cas des variables quantitatives</a></li>
<li class="chapter" data-level="4.2.2" data-path="analyses-univariées.html"><a href="analyses-univariées.html#quand-la-variable-est-qualitative"><i class="fa fa-check"></i><b>4.2.2</b> Quand la variable est qualitative</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="analyse-bi-variée.html"><a href="analyse-bi-variée.html"><i class="fa fa-check"></i><b>5</b> Analyse bi variée</a><ul>
<li class="chapter" data-level="5.1" data-path="analyse-bi-variée.html"><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations"><i class="fa fa-check"></i><b>5.1</b> Diagrammes xy - la magie des corrélations</a></li>
<li class="chapter" data-level="5.2" data-path="analyse-bi-variée.html"><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes"><i class="fa fa-check"></i><b>5.2</b> Comparer les distributions et des moyennes</a><ul>
<li class="chapter" data-level="5.2.1" data-path="analyse-bi-variée.html"><a href="analyse-bi-variée.html#comparaison-de-moyennes"><i class="fa fa-check"></i><b>5.2.1</b> Comparaison de moyennes</a></li>
<li class="chapter" data-level="5.2.2" data-path="analyse-bi-variée.html"><a href="analyse-bi-variée.html#deux-variables-qualitatives"><i class="fa fa-check"></i><b>5.2.2</b> Deux variables qualitatives</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html"><i class="fa fa-check"></i><b>6</b> Analyse graphique multivariée</a><ul>
<li class="chapter" data-level="6.1" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail"><i class="fa fa-check"></i><b>6.1</b> La confiance institutionnelle, en détail</a></li>
<li class="chapter" data-level="6.2" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#table-de-corrélation"><i class="fa fa-check"></i><b>6.2</b> Table de corrélation</a></li>
<li class="chapter" data-level="6.3" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020"><i class="fa fa-check"></i><b>6.3</b> Un cas plus complexe : présidentielle2020</a></li>
<li class="chapter" data-level="6.4" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><i class="fa fa-check"></i><b>6.4</b> une boucle pour produire de multiple graphe en variant un paramètre</a><ul>
<li class="chapter" data-level="6.4.1" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#effet-sondeur"><i class="fa fa-check"></i><b>6.4.1</b> effet sondeur</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur"><i class="fa fa-check"></i><b>6.5</b> Modéliser le biais du sondeur</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html"><i class="fa fa-check"></i><b>7</b> Analyses factorielles</a><ul>
<li class="chapter" data-level="7.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#origine-et-histoire"><i class="fa fa-check"></i><b>7.1</b> Origine et histoire</a><ul>
<li class="chapter" data-level="7.1.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie"><i class="fa fa-check"></i><b>7.1.1</b> Une petite histoire de la psychométrie</a></li>
<li class="chapter" data-level="7.1.2" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><i class="fa fa-check"></i><b>7.1.2</b> L’école française de l’analyse des données appliquée aux sciences sociales</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques"><i class="fa fa-check"></i><b>7.2</b> Le modèle factoriel des tests psychologiques</a><ul>
<li class="chapter" data-level="7.2.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#un-peu-de-théorie"><i class="fa fa-check"></i><b>7.2.1</b> Un peu de théorie</a></li>
<li class="chapter" data-level="7.2.2" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#lestimation"><i class="fa fa-check"></i><b>7.2.2</b> L’estimation</a></li>
<li class="chapter" data-level="7.2.3" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#ressources"><i class="fa fa-check"></i><b>7.2.3</b> Ressources</a></li>
<li class="chapter" data-level="7.2.4" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#cas-dapplication"><i class="fa fa-check"></i><b>7.2.4</b> Cas d’application</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation"><i class="fa fa-check"></i><b>7.3</b> Examen de la matrice de corrélation</a></li>
<li class="chapter" data-level="7.4" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#modèle-factoriel"><i class="fa fa-check"></i><b>7.4</b> Modèle factoriel</a></li>
<li class="chapter" data-level="7.5" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#lanalyse-en-composante-principale"><i class="fa fa-check"></i><b>7.5</b> L’analyse en composante principale</a><ul>
<li class="chapter" data-level="7.5.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#le-problème-théorique"><i class="fa fa-check"></i><b>7.5.1</b> le problème théorique</a></li>
<li class="chapter" data-level="7.5.2" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#une-représentation-symbolique"><i class="fa fa-check"></i><b>7.5.2</b> Une représentation symbolique</a></li>
<li class="chapter" data-level="7.5.3" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#application"><i class="fa fa-check"></i><b>7.5.3</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc"><i class="fa fa-check"></i><b>7.6</b> Une généralisation de l’ACP : l’AFC</a><ul>
<li class="chapter" data-level="7.6.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#afcm-multiple"><i class="fa fa-check"></i><b>7.6.1</b> AFCM multiple</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#développements"><i class="fa fa-check"></i><b>7.7</b> Développements</a><ul>
<li class="chapter" data-level="7.7.1" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#le-svd"><i class="fa fa-check"></i><b>7.7.1</b> le SVD</a></li>
<li class="chapter" data-level="7.7.2" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante"><i class="fa fa-check"></i><b>7.7.2</b> ACM , analyse canonique , analyse discriminante</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="analyses-factorielles.html"><a href="analyses-factorielles.html#en-conclusion"><i class="fa fa-check"></i><b>7.8</b> En conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="clus.html"><a href="clus.html"><i class="fa fa-check"></i><b>8</b> Clustering</a><ul>
<li class="chapter" data-level="8.1" data-path="clus.html"><a href="clus.html#les-méthodes-hiérarchiques-ascendantes"><i class="fa fa-check"></i><b>8.1</b> Les méthodes hiérarchiques ascendantes</a><ul>
<li class="chapter" data-level="8.1.1" data-path="clus.html"><a href="clus.html#mise-en-oeuvre"><i class="fa fa-check"></i><b>8.1.1</b> Mise en oeuvre</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="clus.html"><a href="clus.html#segmentation-simplifiée"><i class="fa fa-check"></i><b>8.2</b> segmentation simplifiée</a></li>
<li class="chapter" data-level="8.3" data-path="clus.html"><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><i class="fa fa-check"></i><b>8.3</b> tableaux croisés de la typologie et des critères sociaux démos</a></li>
<li class="chapter" data-level="8.4" data-path="clus.html"><a href="clus.html#afcm-pour-une-synthèse"><i class="fa fa-check"></i><b>8.4</b> AFCM pour une synthèse</a><ul>
<li class="chapter" data-level="8.4.1" data-path="clus.html"><a href="clus.html#forces-et-limites"><i class="fa fa-check"></i><b>8.4.1</b> Forces et limites</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="clus.html"><a href="clus.html#les-méthodes-non-hiérarchiques"><i class="fa fa-check"></i><b>8.5</b> Les méthodes non-hiérarchiques</a><ul>
<li class="chapter" data-level="8.5.1" data-path="clus.html"><a href="clus.html#principe"><i class="fa fa-check"></i><b>8.5.1</b> principe</a></li>
<li class="chapter" data-level="8.5.2" data-path="clus.html"><a href="clus.html#application-1"><i class="fa fa-check"></i><b>8.5.2</b> Application</a></li>
<li class="chapter" data-level="8.5.3" data-path="clus.html"><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><i class="fa fa-check"></i><b>8.5.3</b> Le problème de la détermination du nombre optimal de groupe</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="clus.html"><a href="clus.html#autres-méthodes"><i class="fa fa-check"></i><b>8.6</b> Autres méthodes</a></li>
<li class="chapter" data-level="8.7" data-path="clus.html"><a href="clus.html#conclusion"><i class="fa fa-check"></i><b>8.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html"><i class="fa fa-check"></i><b>9</b> Régression et arbre de régression</a><ul>
<li class="chapter" data-level="9.1" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#bibliothèques-et-données"><i class="fa fa-check"></i><b>9.1</b> Bibliothèques et données</a></li>
<li class="chapter" data-level="9.2" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#une-étude-de-cas-blablacar"><i class="fa fa-check"></i><b>9.2</b> Une étude de cas : blablacar</a></li>
<li class="chapter" data-level="9.3" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#autres-modèles"><i class="fa fa-check"></i><b>9.3</b> Autres modèles</a><ul>
<li class="chapter" data-level="9.3.1" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#régression-logistique"><i class="fa fa-check"></i><b>9.3.1</b> régression logistique</a></li>
<li class="chapter" data-level="9.3.2" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#regression-beta"><i class="fa fa-check"></i><b>9.3.2</b> regression beta</a></li>
<li class="chapter" data-level="9.3.3" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#régression-survie"><i class="fa fa-check"></i><b>9.3.3</b> régression survie</a></li>
<li class="chapter" data-level="9.3.4" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#modèles-à-composante-derreur"><i class="fa fa-check"></i><b>9.3.4</b> modèles à composante d’erreur</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#arbre-de-regression"><i class="fa fa-check"></i><b>9.4</b> Arbre de regression</a><ul>
<li class="chapter" data-level="9.4.1" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#construire-un-arbre-de-décision"><i class="fa fa-check"></i><b>9.4.1</b> Construire un arbre de décision</a></li>
<li class="chapter" data-level="9.4.2" data-path="régression-et-arbre-de-régression.html"><a href="régression-et-arbre-de-régression.html#mise-en-oeuvre-avec-partykit"><i class="fa fa-check"></i><b>9.4.2</b> Mise en oeuvre avec Partykit</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="régression-et-arbre-de-régression" class="section level1">
<h1><span class="header-section-number">Chapitre 9</span> Régression et arbre de régression</h1>
<div id="bibliothèques-et-données" class="section level2">
<h2><span class="header-section-number">9.1</span> Bibliothèques et données</h2>
<p>Les données sont un extrait de la base de l’ess. Elle rassemble les jugement de confiance à l’égards des institutions et des personnes (10 items) en France et en allamenage, au cours de vagues d’enquêtes bi-annuelles de l’Européan Social Survey. On dispose donc de données de 20014 à 2018. S’joutent quelques variables socio-démo : le pouvoir d’achat percu, l’age, le genre, l’orientation politique, le type d’habitat. On cherchera à examiner l’impact des conditions de vie du la confiance.</p>
</div>
<div id="une-étude-de-cas-blablacar" class="section level2">
<h2><span class="header-section-number">9.2</span> Une étude de cas : blablacar</h2>
<p>voir <a href="https://github.com/BenaventC/Covoiturage">blablacar</a></p>
</div>
<div id="autres-modèles" class="section level2">
<h2><span class="header-section-number">9.3</span> Autres modèles</h2>
<div id="régression-logistique" class="section level3">
<h3><span class="header-section-number">9.3.1</span> régression logistique</h3>
</div>
<div id="regression-beta" class="section level3">
<h3><span class="header-section-number">9.3.2</span> regression beta</h3>
</div>
<div id="régression-survie" class="section level3">
<h3><span class="header-section-number">9.3.3</span> régression survie</h3>
</div>
<div id="modèles-à-composante-derreur" class="section level3">
<h3><span class="header-section-number">9.3.4</span> modèles à composante d’erreur</h3>
</div>
</div>
<div id="arbre-de-regression" class="section level2">
<h2><span class="header-section-number">9.4</span> Arbre de regression</h2>
<p>L’objectif de cette note est double. Le premier est une introduction aux méthodes d’arbres de décision et leur généralisation récente par les random forests. Le second est d’introduire à l’approche d’apprentissage et de test, autrement aux machine learning avec le package caret qui facilite la condition des opérations d’échantillonngage, de découpage des échanges et de production des indicateurs.</p>
<div id="construire-un-arbre-de-décision" class="section level3">
<h3><span class="header-section-number">9.4.1</span> Construire un arbre de décision</h3>
<p>Les origines et le principe</p>
<p>C’est une approche qui remonte à Morgan and Sonquist (1963)</p>
<p>généralisés aux variables qualitatives avec Chaid (Kass (1980)) :</p>
<p>Le principe général suis le pseudo algorithme suivant :</p>
<p>pour chaque variable potentiellement explicative, trouver le meilleur découpage (dichotomique), c’est à dire celui qui va différencier au mieux la variable de réponse.
Choisir parmi les variables et leur dichotomitsation celle qui répond au même critère que précedemment
recommencer l’opération à 1
Il peut s’appliquer à une variable quantitative ( regression) ou qualitative ( chaid)</p>
<p>puis Cart avec breiman. Breiman (1998)</p>
</div>
<div id="mise-en-oeuvre-avec-partykit" class="section level3">
<h3><span class="header-section-number">9.4.2</span> Mise en oeuvre avec Partykit</h3>
<p>Le package partykit a pour objectif de représenter les arbres de décisions. Il inclue cependant plusieurs méthodes d’arbres de decisions, en en particulier une approche ctree Hothorn et al. (2006) dont le principe est. La méthode est incluse dans partykit Hothorn and Zeileis (2015)</p>
<p>Avec partykit on contrôle la construction de l’arbre sur différents critères, par exemple : * le type de test employé pour prendre la décision * le nombre minimum d’individus dans une feuille terminale</p>
<p><a href="https://apiacoa.org/blog/2014/02/initiation-a-rpart.fr.html" class="uri">https://apiacoa.org/blog/2014/02/initiation-a-rpart.fr.html</a></p>
<p><a href="https://apiacoa.org/blog/2014/02/initiation-a-rpart.fr.html" class="uri">https://apiacoa.org/blog/2014/02/initiation-a-rpart.fr.html</a></p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" title="1">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">echo =</span> <span class="ot">TRUE</span>, <span class="dt">include=</span><span class="ot">TRUE</span>, <span class="dt">cache=</span><span class="ot">TRUE</span>, <span class="dt">message=</span><span class="ot">FALSE</span>, <span class="dt">warning=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb123-2" title="2"></a>
<a class="sourceLine" id="cb123-3" title="3"><span class="kw">library</span>(partykit)</a>
<a class="sourceLine" id="cb123-4" title="4"></a>
<a class="sourceLine" id="cb123-5" title="5"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb123-6" title="6"><span class="co">#lecture du fichier</span></a>
<a class="sourceLine" id="cb123-7" title="7">df&lt;-<span class="kw">readRDS</span>(<span class="st">&quot;./data/last.rds&quot;</span>) <span class="op">%&gt;%</span><span class="kw">drop_na</span>()</a>
<a class="sourceLine" id="cb123-8" title="8">df<span class="op">$</span>Age&lt;-<span class="kw">as.factor</span>(df<span class="op">$</span>Age)</a>
<a class="sourceLine" id="cb123-9" title="9">df<span class="op">$</span>Sexe&lt;-<span class="kw">as.factor</span>(df<span class="op">$</span>Sexe)</a>
<a class="sourceLine" id="cb123-10" title="10">df<span class="op">$</span>Education&lt;-<span class="kw">factor</span>(df<span class="op">$</span>Education, <span class="dt">ordered =</span> <span class="ot">FALSE</span> )</a>
<a class="sourceLine" id="cb123-11" title="11">df<span class="op">$</span>Situation2&lt;-<span class="kw">as.factor</span>(df<span class="op">$</span>Situation2)</a>
<a class="sourceLine" id="cb123-12" title="12"></a>
<a class="sourceLine" id="cb123-13" title="13">df<span class="op">$</span>Situation3&lt;-<span class="kw">as.factor</span>(<span class="kw">ifelse</span>(df<span class="op">$</span>Situation<span class="op">&lt;</span><span class="dv">5</span>,<span class="st">&quot;degradation&quot;</span>,<span class="st">&quot; Amelioration&quot;</span>))</a>
<a class="sourceLine" id="cb123-14" title="14"><span class="kw">table</span>(df<span class="op">$</span>Situation3)</a></code></pre></div>
<pre><code>## 
##  Amelioration   degradation 
##         20327         19071</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" title="1">fit &lt;-<span class="kw">ctree</span>(Situation3 <span class="op">~</span><span class="st"> </span>Age<span class="op">+</span>Sexe<span class="op">+</span>Education, <span class="dt">data=</span>df)</a>
<a class="sourceLine" id="cb125-2" title="2"><span class="kw">print</span>(fit)</a></code></pre></div>
<pre><code>## 
## Model formula:
## Situation3 ~ Age + Sexe + Education
## 
## Fitted party:
## [1] root
## |   [2] Age in 18 - 24 ans, 25 - 34 ans
## |   |   [3] Age in 18 - 24 ans
## |   |   |   [4] Sexe in Un homme
## |   |   |   |   [5] Education in Sans diplôme, Brevet des collèges, Bac +5 (Master, école d&#39;ingénieurs, d&#39;arts...):  Amelioration (n = 725, err = 29.2%)
## |   |   |   |   [6] Education in CAP/BEP, Bac (général, pro et technologique), Bac +2 (BTS ou autre), Bac +3/4 (Licence, Maîtrise), Bac +7 et plus (doctorat, thèse, etc.):  Amelioration (n = 1710, err = 36.2%)
## |   |   |   [7] Sexe in Une femme:  Amelioration (n = 3963, err = 38.3%)
## |   |   [8] Age in 25 - 34 ans
## |   |   |   [9] Education in Sans diplôme, CAP/BEP, Bac (général, pro et technologique), Bac +2 (BTS ou autre), Bac +3/4 (Licence, Maîtrise):  Amelioration (n = 4956, err = 43.9%)
## |   |   |   [10] Education in Brevet des collèges, Bac +5 (Master, école d&#39;ingénieurs, d&#39;arts...), Bac +7 et plus (doctorat, thèse, etc.):  Amelioration (n = 1347, err = 37.2%)
## |   [11] Age in 35 - 44 ans, 45 - 54 ans, 55 - 64 ans, 65 ans et plus
## |   |   [12] Age in 35 - 44 ans
## |   |   |   [13] Education in Sans diplôme, CAP/BEP, Bac (général, pro et technologique), Bac +2 (BTS ou autre), Bac +3/4 (Licence, Maîtrise)
## |   |   |   |   [14] Sexe in Un homme:  Amelioration (n = 2588, err = 47.6%)
## |   |   |   |   [15] Sexe in Une femme: degradation (n = 4926, err = 48.8%)
## |   |   |   [16] Education in Brevet des collèges, Bac +5 (Master, école d&#39;ingénieurs, d&#39;arts...), Bac +7 et plus (doctorat, thèse, etc.):  Amelioration (n = 1323, err = 41.3%)
## |   |   [17] Age in 45 - 54 ans, 55 - 64 ans, 65 ans et plus
## |   |   |   [18] Sexe in Un homme
## |   |   |   |   [19] Education in Sans diplôme, CAP/BEP, Bac (général, pro et technologique), Bac +2 (BTS ou autre), Bac +3/4 (Licence, Maîtrise), Bac +7 et plus (doctorat, thèse, etc.): degradation (n = 5675, err = 48.3%)
## |   |   |   |   [20] Education in Brevet des collèges, Bac +5 (Master, école d&#39;ingénieurs, d&#39;arts...):  Amelioration (n = 1282, err = 45.6%)
## |   |   |   [21] Sexe in Une femme
## |   |   |   |   [22] Education in Sans diplôme, Brevet des collèges, Bac +3/4 (Licence, Maîtrise), Bac +5 (Master, école d&#39;ingénieurs, d&#39;arts...): degradation (n = 4250, err = 45.6%)
## |   |   |   |   [23] Education in CAP/BEP, Bac (général, pro et technologique), Bac +2 (BTS ou autre), Bac +7 et plus (doctorat, thèse, etc.)
## |   |   |   |   |   [24] Age in 45 - 54 ans: degradation (n = 2929, err = 43.3%)
## |   |   |   |   |   [25] Age in 55 - 64 ans, 65 ans et plus: degradation (n = 3724, err = 39.4%)
## 
## Number of inner nodes:    12
## Number of terminal nodes: 13</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" title="1">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(fit, df)</a>
<a class="sourceLine" id="cb127-2" title="2"><span class="kw">library</span>(caret)</a>
<a class="sourceLine" id="cb127-3" title="3">cm =<span class="st"> </span><span class="kw">confusionMatrix</span>(df<span class="op">$</span>Situation3, pred)</a>
<a class="sourceLine" id="cb127-4" title="4"><span class="kw">print</span>(cm)</a></code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##                Reference
## Prediction       Amelioration degradation
##    Amelioration         10507        9820
##   degradation            7387       11684
##                                           
##                Accuracy : 0.5633          
##                  95% CI : (0.5583, 0.5682)
##     No Information Rate : 0.5458          
##     P-Value [Acc &gt; NIR] : 1.769e-12       
##                                           
##                   Kappa : 0.129           
##                                           
##  Mcnemar&#39;s Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.5872          
##             Specificity : 0.5433          
##          Pos Pred Value : 0.5169          
##          Neg Pred Value : 0.6127          
##              Prevalence : 0.4542          
##          Detection Rate : 0.2667          
##    Detection Prevalence : 0.5159          
##       Balanced Accuracy : 0.5653          
##                                           
##        &#39;Positive&#39; Class :  Amelioration   
## </code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" title="1"><span class="kw">library</span>(ggparty)</a>
<a class="sourceLine" id="cb129-2" title="2"><span class="kw">autoplot</span>(fit)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/libraries-1.png" width="1152" /></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" title="1"><span class="co">#library(irks)</span></a>
<a class="sourceLine" id="cb130-2" title="2"><span class="co">#rules&lt;-ct_rules(fit)</span></a>
<a class="sourceLine" id="cb130-3" title="3"></a>
<a class="sourceLine" id="cb130-4" title="4"><span class="co">#rules %&gt;% </span></a>
<a class="sourceLine" id="cb130-5" title="5"><span class="co">#  kable() %&gt;%</span></a>
<a class="sourceLine" id="cb130-6" title="6"><span class="co">#  kable_styling(bootstrap_options = &quot;striped&quot;, font_size = 10)</span></a></code></pre></div>
<p><a href="https://topepo.github.io/caret/" class="uri">https://topepo.github.io/caret/</a></p>

<div id="refs" class="references">
<div>
<p>Allaire, J. J., Yihui Xie, Jonathan McPherson, Javier Luraschi, Kevin Ushey, Aron Atkins, Hadley Wickham, Joe Cheng, Winston Chang, and Richard Iannone. 2021. <em>Rmarkdown: Dynamic Documents for R</em>. <a href="https://CRAN.R-project.org/package=rmarkdown">https://CRAN.R-project.org/package=rmarkdown</a>.</p>
</div>
<div>
<p>Sneath, P. H. A., and Robert R. Sokal. 1973. <em>Numerical Taxonomy: The Principles and Practice of Numerical Classification</em>. A Series of Books in Biology. San Francisco: W. H. Freeman.</p>
</div>
<div>
<p>Xie, Yihui. 2021. <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>.</p>
</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clus.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/09-regression.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
