<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 9 9 - Régression | Introduction aux Data Sciences</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 9 9 - Régression | Introduction aux Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 9 9 - Régression | Introduction aux Data Sciences" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-10-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clus.html"/>
<link rel="next" href="un-cas-danalyse-de-survie.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Book</a></li>

<li class="divider"></li>
<li><a href="index.html#avant-propos" id="toc-avant-propos"><span class="toc-section-number">1</span> Avant propos</a>
<ul>
<li><a href="index.html#plan-du-manuel" id="toc-plan-du-manuel"><span class="toc-section-number">1.1</span> Plan du manuel</a></li>
<li><a href="index.html#les-jeux-de-données" id="toc-les-jeux-de-données"><span class="toc-section-number">1.2</span> Les jeux de données</a></li>
<li><a href="index.html#le-cadre-technique-et-les-packages-utilisés" id="toc-le-cadre-technique-et-les-packages-utilisés"><span class="toc-section-number">1.3</span> Le cadre technique et les packages utilisés</a></li>
<li><a href="index.html#a-faire" id="toc-a-faire"><span class="toc-section-number">1.4</span> A faire</a></li>
</ul></li>
<li><a href="intro.html#intro" id="toc-intro"><span class="toc-section-number">2</span> Introduction aux data sciences</a>
<ul>
<li><a href="intro.html#objectif-et-sommaire" id="toc-objectif-et-sommaire"><span class="toc-section-number">2.1</span> Objectif et sommaire</a></li>
<li><a href="intro.html#science-ou-technique" id="toc-science-ou-technique"><span class="toc-section-number">2.2</span> Science ou technique ?</a></li>
<li><a href="intro.html#histoires-des-logiciels-statistiques" id="toc-histoires-des-logiciels-statistiques"><span class="toc-section-number">2.3</span> histoires des logiciels statistiques</a></li>
<li><a href="intro.html#le-processus-de-traitement-des-données" id="toc-le-processus-de-traitement-des-données"><span class="toc-section-number">2.4</span> Le processus de traitement des données</a></li>
<li><a href="intro.html#les-facteurs-de-développement-des-datasciences" id="toc-les-facteurs-de-développement-des-datasciences"><span class="toc-section-number">2.5</span> Les facteurs de développement des datasciences</a>
<ul>
<li><a href="intro.html#une-lingua-franca" id="toc-une-lingua-franca"><span class="toc-section-number">2.5.1</span> Une lingua franca</a></li>
<li><a href="intro.html#une-communauté" id="toc-une-communauté"><span class="toc-section-number">2.5.2</span> Une communauté</a></li>
<li><a href="intro.html#la-multiplication-des-sources-de-données." id="toc-la-multiplication-des-sources-de-données."><span class="toc-section-number">2.5.3</span> La multiplication des sources de données.</a></li>
<li><a href="intro.html#du-ml-à-lia" id="toc-du-ml-à-lia"><span class="toc-section-number">2.5.4</span> du ML à l’IA</a></li>
</ul></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#prise-en-main-de-r" id="toc-prise-en-main-de-r"><span class="toc-section-number">3</span> Prise en main de r</a>
<ul>
<li><a href="prise-en-main-de-r.html#la-convention-du-rmarkdown" id="toc-la-convention-du-rmarkdown"><span class="toc-section-number">3.1</span> La convention du Rmarkdown</a></li>
<li><a href="prise-en-main-de-r.html#lire-les-données" id="toc-lire-les-données"><span class="toc-section-number">3.2</span> Lire les données</a>
<ul>
<li><a href="prise-en-main-de-r.html#la-diversité-des-formats" id="toc-la-diversité-des-formats"><span class="toc-section-number">3.2.1</span> La diversité des formats</a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#dplyr-pour-manipuler-les-données" id="toc-dplyr-pour-manipuler-les-données"><span class="toc-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données</a>
<ul>
<li><a href="prise-en-main-de-r.html#des-pipes" id="toc-des-pipes"><span class="toc-section-number">3.3.1</span> Des pipes %&gt;%</a></li>
<li><a href="prise-en-main-de-r.html#des-verbes" id="toc-des-verbes"><span class="toc-section-number">3.3.2</span> Des verbes</a></li>
</ul></li>
</ul></li>
<li><a href="analyses-univariées.html#analyses-univariées" id="toc-analyses-univariées"><span class="toc-section-number">4</span> Analyses univariées</a>
<ul>
<li><a href="analyses-univariées.html#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques"><span class="toc-section-number">4.1</span> La grammaire des graphiques</a>
<ul>
<li><a href="analyses-univariées.html#un-modèle-en-couche" id="toc-un-modèle-en-couche"><span class="toc-section-number">4.1.1</span> Un modèle en couche</a></li>
<li><a href="analyses-univariées.html#une-typologie-des-représentations" id="toc-une-typologie-des-représentations"><span class="toc-section-number">4.1.2</span> Une typologie des représentations</a></li>
<li><a href="analyses-univariées.html#lesthétique" id="toc-lesthétique"><span class="toc-section-number">4.1.3</span> L’esthétique</a></li>
</ul></li>
<li><a href="analyses-univariées.html#une-étude-de-cas" id="toc-une-étude-de-cas"><span class="toc-section-number">4.2</span> Une étude de cas</a>
<ul>
<li><a href="analyses-univariées.html#le-cas-des-variables-quantitatives" id="toc-le-cas-des-variables-quantitatives"><span class="toc-section-number">4.2.1</span> Le cas des variables quantitatives</a></li>
<li><a href="analyses-univariées.html#quand-la-variable-est-qualitative" id="toc-quand-la-variable-est-qualitative"><span class="toc-section-number">4.2.2</span> Quand la variable est qualitative</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-bi-variée.html#analyse-bi-variée" id="toc-analyse-bi-variée"><span class="toc-section-number">5</span> Analyse bi variée</a>
<ul>
<li><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" id="toc-diagrammes-xy---la-magie-des-corrélations"><span class="toc-section-number">5.1</span> Diagrammes xy - la magie des corrélations</a></li>
<li><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" id="toc-comparer-les-distributions-et-des-moyennes"><span class="toc-section-number">5.2</span> Comparer les distributions et des moyennes</a>
<ul>
<li><a href="analyse-bi-variée.html#comparaison-de-moyennes" id="toc-comparaison-de-moyennes"><span class="toc-section-number">5.2.1</span> Comparaison de moyennes</a></li>
<li><a href="analyse-bi-variée.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">5.2.2</span> Deux variables qualitatives</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#analyse-graphique-multivariée" id="toc-analyse-graphique-multivariée"><span class="toc-section-number">6</span> Analyse graphique multivariée</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail" id="toc-la-confiance-institutionnelle-en-détail"><span class="toc-section-number">6.1</span> La confiance institutionnelle, en détail</a></li>
<li><a href="analyse-graphique-multivariée.html#table-de-corrélation" id="toc-table-de-corrélation"><span class="toc-section-number">6.2</span> Table de corrélation</a></li>
<li><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020" id="toc-un-cas-plus-complexe-présidentielle2020"><span class="toc-section-number">6.3</span> Un cas plus complexe : présidentielle2020</a></li>
<li><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" id="toc-une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><span class="toc-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#effet-sondeur" id="toc-effet-sondeur"><span class="toc-section-number">6.4.1</span> effet sondeur</a></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur" id="toc-modéliser-le-biais-du-sondeur"><span class="toc-section-number">6.5</span> Modéliser le biais du sondeur</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#analyses-factorielles" id="toc-analyses-factorielles"><span class="toc-section-number">7</span> Analyses factorielles</a>
<ul>
<li><a href="analyses-factorielles.html#origine-et-histoire" id="toc-origine-et-histoire"><span class="toc-section-number">7.1</span> Origine et histoire</a>
<ul>
<li><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie" id="toc-une-petite-histoire-de-la-psychométrie"><span class="toc-section-number">7.1.1</span> Une petite histoire de la psychométrie</a></li>
<li><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales" id="toc-lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><span class="toc-section-number">7.1.2</span> L’école française de l’analyse des données appliquée aux sciences sociales</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques" id="toc-le-modèle-factoriel-des-tests-psychologiques"><span class="toc-section-number">7.2</span> Le modèle factoriel des tests psychologiques</a>
<ul>
<li><a href="analyses-factorielles.html#un-peu-de-théorie" id="toc-un-peu-de-théorie"><span class="toc-section-number">7.2.1</span> Un peu de théorie</a></li>
<li><a href="analyses-factorielles.html#lestimation" id="toc-lestimation"><span class="toc-section-number">7.2.2</span> L’estimation</a></li>
<li><a href="analyses-factorielles.html#ressources" id="toc-ressources"><span class="toc-section-number">7.2.3</span> Ressources</a></li>
<li><a href="analyses-factorielles.html#cas-dapplication" id="toc-cas-dapplication"><span class="toc-section-number">7.2.4</span> Cas d’application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation" id="toc-examen-de-la-matrice-de-corrélation"><span class="toc-section-number">7.3</span> Examen de la matrice de corrélation</a></li>
<li><a href="analyses-factorielles.html#modèle-factoriel" id="toc-modèle-factoriel"><span class="toc-section-number">7.4</span> Modèle factoriel</a></li>
<li><a href="analyses-factorielles.html#lanalyse-en-composante-principale" id="toc-lanalyse-en-composante-principale"><span class="toc-section-number">7.5</span> L’analyse en composante principale</a>
<ul>
<li><a href="analyses-factorielles.html#le-problème-théorique" id="toc-le-problème-théorique"><span class="toc-section-number">7.5.1</span> le problème théorique</a></li>
<li><a href="analyses-factorielles.html#une-représentation-symbolique" id="toc-une-représentation-symbolique"><span class="toc-section-number">7.5.2</span> Une représentation symbolique</a></li>
<li><a href="analyses-factorielles.html#application" id="toc-application"><span class="toc-section-number">7.5.3</span> Application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc" id="toc-une-généralisation-de-lacp-lafc"><span class="toc-section-number">7.6</span> Une généralisation de l’ACP : l’AFC</a>
<ul>
<li><a href="analyses-factorielles.html#afcm-multiple" id="toc-afcm-multiple"><span class="toc-section-number">7.6.1</span> AFCM multiple</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#développements" id="toc-développements"><span class="toc-section-number">7.7</span> Développements</a>
<ul>
<li><a href="analyses-factorielles.html#le-svd" id="toc-le-svd"><span class="toc-section-number">7.7.1</span> le SVD</a></li>
<li><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante" id="toc-acm-analyse-canonique-analyse-discriminante"><span class="toc-section-number">7.7.2</span> ACM , analyse canonique , analyse discriminante</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#en-conclusion" id="toc-en-conclusion"><span class="toc-section-number">7.8</span> En conclusion</a></li>
</ul></li>
<li><a href="clus.html#clus" id="toc-clus"><span class="toc-section-number">8</span> Clustering</a>
<ul>
<li><a href="clus.html#les-méthodes-hiérarchiques-ascendantes" id="toc-les-méthodes-hiérarchiques-ascendantes"><span class="toc-section-number">8.1</span> Les méthodes hiérarchiques ascendantes</a>
<ul>
<li><a href="clus.html#mise-en-oeuvre" id="toc-mise-en-oeuvre"><span class="toc-section-number">8.1.1</span> Mise en oeuvre</a></li>
</ul></li>
<li><a href="clus.html#segmentation-simplifiée" id="toc-segmentation-simplifiée"><span class="toc-section-number">8.2</span> segmentation simplifiée</a></li>
<li><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" id="toc-tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><span class="toc-section-number">8.3</span> tableaux croisés de la typologie et des critères sociaux démos</a></li>
<li><a href="clus.html#afcm-pour-une-synthèse" id="toc-afcm-pour-une-synthèse"><span class="toc-section-number">8.4</span> AFCM pour une synthèse</a>
<ul>
<li><a href="clus.html#forces-et-limites" id="toc-forces-et-limites"><span class="toc-section-number">8.4.1</span> Forces et limites</a></li>
</ul></li>
<li><a href="clus.html#les-méthodes-non-hiérarchiques" id="toc-les-méthodes-non-hiérarchiques"><span class="toc-section-number">8.5</span> Les méthodes non-hiérarchiques</a>
<ul>
<li><a href="clus.html#principe" id="toc-principe"><span class="toc-section-number">8.5.1</span> principe</a></li>
<li><a href="clus.html#application-1" id="toc-application-1"><span class="toc-section-number">8.5.2</span> Application</a></li>
<li><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe" id="toc-le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><span class="toc-section-number">8.5.3</span> Le problème de la détermination du nombre optimal de groupe</a></li>
</ul></li>
<li><a href="clus.html#autres-méthodes" id="toc-autres-méthodes"><span class="toc-section-number">8.6</span> Autres méthodes</a></li>
<li><a href="clus.html#conclusion" id="toc-conclusion"><span class="toc-section-number">8.7</span> Conclusion</a></li>
</ul></li>
<li><a href="régression.html#régression" id="toc-régression"><span class="toc-section-number">9</span> 9 - Régression</a>
<ul>
<li><a href="régression.html#une-étude-de-cas-les-offres-blablacar" id="toc-une-étude-de-cas-les-offres-blablacar"><span class="toc-section-number">9.1</span> Une étude de cas : les offres Blablacar</a>
<ul>
<li><a href="régression.html#les-caractérisques-de-loffre" id="toc-les-caractérisques-de-loffre"><span class="toc-section-number">9.1.1</span> Les caractérisques de l’offre</a></li>
</ul></li>
<li><a href="régression.html#notes-prix-et-taux-doccupations" id="toc-notes-prix-et-taux-doccupations"><span class="toc-section-number">9.2</span> Notes, prix et taux d’occupations</a></li>
<li><a href="régression.html#analyse-des-prix" id="toc-analyse-des-prix"><span class="toc-section-number">9.3</span> Analyse des prix</a></li>
<li><a href="régression.html#analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" id="toc-analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation"><span class="toc-section-number">9.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?</a>
<ul>
<li><a href="régression.html#un-modèle-ols" id="toc-un-modèle-ols"><span class="toc-section-number">9.4.1</span> Un modèle OLS</a></li>
</ul></li>
<li><a href="régression.html#autres-modèles" id="toc-autres-modèles"><span class="toc-section-number">9.5</span> Autres modèles</a>
<ul>
<li><a href="régression.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">9.5.1</span> Régression logistique</a></li>
<li><a href="régression.html#modèle-de-comptage" id="toc-modèle-de-comptage"><span class="toc-section-number">9.5.2</span> Modèle de comptage</a></li>
<li><a href="régression.html#modèle-de-régression-beta" id="toc-modèle-de-régression-beta"><span class="toc-section-number">9.5.3</span> Modèle de régression beta</a></li>
</ul></li>
</ul></li>
<li><a href="un-cas-danalyse-de-survie.html#un-cas-danalyse-de-survie" id="toc-un-cas-danalyse-de-survie"><span class="toc-section-number">10</span> Un cas d’analyse de survie</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques.html#les-modèles-linéaires-hiérarchiques" id="toc-les-modèles-linéaires-hiérarchiques"><span class="toc-section-number">11</span> Les modèles linéaires hiérarchiques</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques.html#en-guise-dintroduction" id="toc-en-guise-dintroduction"><span class="toc-section-number">11.1</span> en guise d’introduction</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques.html#section" id="toc-section"><span class="toc-section-number">11.1.1</span> </a></li>
</ul></li>
</ul></li>
<li><a href="modèle-de-survie.html#modèle-de-survie" id="toc-modèle-de-survie"><span class="toc-section-number">12</span> 10 - Modèle de survie</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#les-modèles-linéaires-hiérarchiques-hlm" id="toc-les-modèles-linéaires-hiérarchiques-hlm"><span class="toc-section-number">13</span> 11 Les modèles linéaires hiérarchiques (HLM)</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#en-guise-dintroduction-1" id="toc-en-guise-dintroduction-1"><span class="toc-section-number">13.1</span> en guise d’introduction</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#une-application" id="toc-une-application"><span class="toc-section-number">13.2</span> Une application</a></li>
</ul></li>
<li><a href="arbre-de-décision.html#arbre-de-décision" id="toc-arbre-de-décision"><span class="toc-section-number">14</span> Arbre de Décision</a>
<ul>
<li><a href="arbre-de-décision.html#construire-un-arbre-de-décision" id="toc-construire-un-arbre-de-décision"><span class="toc-section-number">14.1</span> Construire un arbre de décision</a></li>
<li><a href="arbre-de-décision.html#mise-en-oeuvre-avec-partykit" id="toc-mise-en-oeuvre-avec-partykit"><span class="toc-section-number">14.2</span> Mise en oeuvre avec Partykit</a></li>
<li><a href="arbre-de-décision.html#forêts-aléatoires" id="toc-forêts-aléatoires"><span class="toc-section-number">14.3</span> forêts aléatoires</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#premiers-éléments-de-machine-learning" id="toc-premiers-éléments-de-machine-learning"><span class="toc-section-number">15</span> Premiers éléments de Machine Learning</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#une-typologie-de-modèles" id="toc-une-typologie-de-modèles"><span class="toc-section-number">15.1</span> une typologie de modèles</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-linéaire" id="toc-le-modèle-linéaire"><span class="toc-section-number">15.1.1</span> le modèle linéaire</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-logit" id="toc-le-modèle-logit"><span class="toc-section-number">15.1.2</span> le modèle logit</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-modèles-à-régularisation" id="toc-les-modèles-à-régularisation"><span class="toc-section-number">15.1.3</span> les modèles à régularisation</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-random-forest" id="toc-les-random-forest"><span class="toc-section-number">15.1.4</span> les random forest</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#forêts-aléatoires-1" id="toc-forêts-aléatoires-1"><span class="toc-section-number">15.2</span> forêts aléatoires</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="régression" class="section level1" number="9">
<h1><span class="header-section-number">Chapitre 9</span> 9 - Régression</h1>
<div id="une-étude-de-cas-les-offres-blablacar" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Une étude de cas : les offres Blablacar</h2>
<p>C’est un jeu de données scrappées sur un site de covoiturage constitué de 13000 offres proposées sur différents types de trajet à un moment donné (au cours de 2016). Le but va être de tester l’effet des signaux de qualité sur les taux de réservation, et de mieux comprendre la nature d’une plateforme qui étant de fait une place de marché se propose d’être collaborative.</p>
<p>Si elles ne sont plus d’actualité, elle permettent cependant une étude intéressante des facteurs qui encourage la demande dans un moment où le modèle DREAMS de Blablacar était mis en avant pour résoudre le problème de la confiance dans le monde digital : comment échanger avec des inconnus.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="régression.html#cb123-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;./data/covoit.csv&quot;</span>, <span class="st">&quot;;&quot;</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span>
<span id="cb123-2"><a href="régression.html#cb123-2" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span> df<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Places=</span><span class="st">`</span><span class="at">Places Restantes</span><span class="st">`</span>, </span>
<span id="cb123-3"><a href="régression.html#cb123-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Depart=</span><span class="st">`</span><span class="at">Ville Depart Capture</span><span class="st">`</span>,</span>
<span id="cb123-4"><a href="régression.html#cb123-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Arrivee=</span><span class="st">`</span><span class="at">Ville Arrivee Capture</span><span class="st">`</span>,</span>
<span id="cb123-5"><a href="régression.html#cb123-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Flex=</span><span class="st">`</span><span class="at">Flexibilite Horaire</span><span class="st">`</span></span>
<span id="cb123-6"><a href="régression.html#cb123-6" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb123-7"><a href="régression.html#cb123-7" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb123-8"><a href="régression.html#cb123-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( Distance<span class="sc">&lt;</span><span class="dv">1200</span>)</span>
<span id="cb123-9"><a href="régression.html#cb123-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-10"><a href="régression.html#cb123-10" aria-hidden="true" tabindex="-1"></a><span class="co">#on recode le nombre de places restantes par une approximation du taux de réservation</span></span>
<span id="cb123-11"><a href="régression.html#cb123-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup<span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb123-12"><a href="régression.html#cb123-12" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">==</span><span class="dv">0</span>]<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb123-13"><a href="régression.html#cb123-13" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span>.<span class="dv">75</span></span>
<span id="cb123-14"><a href="régression.html#cb123-14" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">==</span><span class="dv">2</span>]<span class="ot">&lt;-</span>.<span class="dv">50</span></span>
<span id="cb123-15"><a href="régression.html#cb123-15" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">==</span><span class="dv">3</span>]<span class="ot">&lt;-</span>.<span class="dv">25</span></span>
<span id="cb123-16"><a href="régression.html#cb123-16" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">==</span><span class="dv">4</span>]<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb123-17"><a href="régression.html#cb123-17" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Places<span class="sc">&gt;=</span><span class="dv">4</span>]<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb123-18"><a href="régression.html#cb123-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-19"><a href="régression.html#cb123-19" aria-hidden="true" tabindex="-1"></a><span class="co">#l&#39;expérience peut se capter par le nombre de voyages</span></span>
<span id="cb123-20"><a href="régression.html#cb123-20" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Nombre[<span class="fu">is.na</span>(df<span class="sc">$</span>Nombre)]<span class="ot">&lt;-</span><span class="dv">0</span></span></code></pre></div>
<p>Voici la liste des requêtes et le nombre d’offres obtenues pour chacune d’elle. On observe la domination des trajet inter-régionaux avec Nantes-Rennes, Toulouse-Montpellier et Bordeaux-Toulouse. Les trajets ont été échantillonnés pour représenter différents niveaux d’échelle de distance, les courts trajets, les trajets de 100 à 200 km, ceux à 300-400 et une minorité de distances plus longues, ce qui explique la concentration à certains niveaux.</p>
<p>La distribution ne représente pas la distribution de la demande des trajets ou de l’offre, mais un pool d’offres obtenus pour une séries de requête relatives à un trajet donné, un jour donné.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="régression.html#cb124-1" aria-hidden="true" tabindex="-1"></a>trajet<span class="ot">&lt;-</span><span class="fu">table</span>(df<span class="sc">$</span>Depart, df<span class="sc">$</span>Arrivee)</span>
<span id="cb124-2"><a href="régression.html#cb124-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>trajet<span class="ot">&lt;-</span><span class="fu">paste0</span>(df<span class="sc">$</span>Depart,<span class="st">&quot;-&quot;</span>,df<span class="sc">$</span>Arrivee)</span>
<span id="cb124-3"><a href="régression.html#cb124-3" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb124-4"><a href="régression.html#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trajet)<span class="sc">%&gt;%</span></span>
<span id="cb124-5"><a href="régression.html#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">sum</span>(n))<span class="sc">%&gt;%</span><span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">0</span>)</span>
<span id="cb124-6"><a href="régression.html#cb124-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-7"><a href="régression.html#cb124-7" aria-hidden="true" tabindex="-1"></a>g01<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(trajet,n), <span class="at">y=</span>n))<span class="sc">+</span></span>
<span id="cb124-8"><a href="régression.html#cb124-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;coral1&quot;</span>)<span class="sc">+</span></span>
<span id="cb124-9"><a href="régression.html#cb124-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb124-10"><a href="régression.html#cb124-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Trajets les plus fréquents&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="st">&quot;Fréquence&quot;</span>)</span>
<span id="cb124-11"><a href="régression.html#cb124-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-12"><a href="régression.html#cb124-12" aria-hidden="true" tabindex="-1"></a>g02<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Distance))<span class="sc">+</span></span>
<span id="cb124-13"><a href="régression.html#cb124-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>,<span class="at">binwidth =</span> <span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb124-14"><a href="régression.html#cb124-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution de la distance des trajets&quot;</span>, <span class="at">y=</span><span class="st">&quot;Fréquence&quot;</span>, <span class="at">x=</span> <span class="st">&quot;Distance (en km)&quot;</span>)</span>
<span id="cb124-15"><a href="régression.html#cb124-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-16"><a href="régression.html#cb124-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb124-17"><a href="régression.html#cb124-17" aria-hidden="true" tabindex="-1"></a>  g01, g02,</span>
<span id="cb124-18"><a href="régression.html#cb124-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb124-19"><a href="régression.html#cb124-19" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0902-1.png" width="672" /></p>
<div id="les-caractérisques-de-loffre" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Les caractérisques de l’offre</h3>
<p>l’offre se détermine par plusieurs éléments</p>
<ul>
<li>le véhicule</li>
<li>le conducteur</li>
<li>les conditions du trajets</li>
</ul>
<div id="le-véhicule" class="section level4" number="9.1.1.1">
<h4><span class="header-section-number">9.1.1.1</span> Le véhicule</h4>
<p>Rôle de la marque et du standing du véhicule mérite plus de recodage. Il est très subjectif, ici on privilégie les origines nationales qui expriment un style, un esprit d’automobile.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="régression.html#cb125-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Alfa-romeo&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Alfa Romeo, Lancia&quot;</span></span>
<span id="cb125-2"><a href="régression.html#cb125-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Alfa Romeo&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Alfa Romeo, Lancia&quot;</span></span>
<span id="cb125-3"><a href="régression.html#cb125-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-4"><a href="régression.html#cb125-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Lancia&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Alfa Romeo, Lancia&quot;</span></span>
<span id="cb125-5"><a href="régression.html#cb125-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Volvo&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Volvo, Saab&quot;</span></span>
<span id="cb125-6"><a href="régression.html#cb125-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Zx&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Citroen&quot;</span></span>
<span id="cb125-7"><a href="régression.html#cb125-7" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Saab&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Volvo, Saab&quot;</span></span>
<span id="cb125-8"><a href="régression.html#cb125-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Audi-quattro&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Audi&quot;</span></span>
<span id="cb125-9"><a href="régression.html#cb125-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Mercedes&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Mercedes-benz&quot;</span></span>
<span id="cb125-10"><a href="régression.html#cb125-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Vw&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Volkswagen&quot;</span></span>
<span id="cb125-11"><a href="régression.html#cb125-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-12"><a href="régression.html#cb125-12" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Kia&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-13"><a href="régression.html#cb125-13" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Honda&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-14"><a href="régression.html#cb125-14" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Mazda&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-15"><a href="régression.html#cb125-15" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Suzuki&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-16"><a href="régression.html#cb125-16" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Isuzu&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-17"><a href="régression.html#cb125-17" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Mitsubishi&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-18"><a href="régression.html#cb125-18" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Lexus&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-19"><a href="régression.html#cb125-19" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Subaru&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-20"><a href="régression.html#cb125-20" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Daewoo&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-21"><a href="régression.html#cb125-21" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Huanghai&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres Asie&quot;</span></span>
<span id="cb125-22"><a href="régression.html#cb125-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-23"><a href="régression.html#cb125-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-24"><a href="régression.html#cb125-24" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Land&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-25"><a href="régression.html#cb125-25" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Rover&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-26"><a href="régression.html#cb125-26" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Jaguar&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-27"><a href="régression.html#cb125-27" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Abarth&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-28"><a href="régression.html#cb125-28" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Ldv&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-29"><a href="régression.html#cb125-29" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Austin&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-30"><a href="régression.html#cb125-30" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Mini&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Rover, jaguar, mini&quot;</span></span>
<span id="cb125-31"><a href="régression.html#cb125-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-32"><a href="régression.html#cb125-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-33"><a href="régression.html#cb125-33" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Chevrolet&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres US&quot;</span></span>
<span id="cb125-34"><a href="régression.html#cb125-34" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Chrysler&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres US&quot;</span></span>
<span id="cb125-35"><a href="régression.html#cb125-35" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Jeep&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres US&quot;</span></span>
<span id="cb125-36"><a href="régression.html#cb125-36" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Dodge&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres US&quot;</span></span>
<span id="cb125-37"><a href="régression.html#cb125-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-38"><a href="régression.html#cb125-38" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Lamborghini&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Sport&quot;</span></span>
<span id="cb125-39"><a href="régression.html#cb125-39" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Maserati&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Sport&quot;</span></span>
<span id="cb125-40"><a href="régression.html#cb125-40" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Porsche&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Sport&quot;</span></span>
<span id="cb125-41"><a href="régression.html#cb125-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-42"><a href="régression.html#cb125-42" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Ac&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-43"><a href="régression.html#cb125-43" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Acura&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-44"><a href="régression.html#cb125-44" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;eacute&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-45"><a href="régression.html#cb125-45" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Iveco&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-46"><a href="régression.html#cb125-46" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Camping-car&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-47"><a href="régression.html#cb125-47" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Infiniti&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-48"><a href="régression.html#cb125-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-49"><a href="régression.html#cb125-49" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Admiral&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-50"><a href="régression.html#cb125-50" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Marque[df<span class="sc">$</span>Marque<span class="sc">==</span><span class="st">&quot;Sport&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Autres&quot;</span></span>
<span id="cb125-51"><a href="régression.html#cb125-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-52"><a href="régression.html#cb125-52" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span></span>
<span id="cb125-53"><a href="régression.html#cb125-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Marque)<span class="sc">%&gt;%</span></span>
<span id="cb125-54"><a href="régression.html#cb125-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb125-55"><a href="régression.html#cb125-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb125-56"><a href="régression.html#cb125-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-57"><a href="régression.html#cb125-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(Marque, n), <span class="at">y=</span>n))<span class="sc">+</span></span>
<span id="cb125-58"><a href="régression.html#cb125-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>) <span class="sc">+</span></span>
<span id="cb125-59"><a href="régression.html#cb125-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb125-60"><a href="régression.html#cb125-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>()<span class="sc">+</span></span>
<span id="cb125-61"><a href="régression.html#cb125-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Distribution des offres par marque&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0903-1.png" width="672" /></p>
</div>
<div id="lâge-et-lexpérience-du-capitaine" class="section level4" number="9.1.1.2">
<h4><span class="header-section-number">9.1.1.2</span> L’âge et l’expérience du capitaine</h4>
<p>On distingue deux populations en terme d’âge, une en dessous de la trentaine, l’autre de 40 à 50 ans. On Jette un coup d’oeil ensuite sur la relation entre l’âge et la note qui culmine à 30 ans et baisse avec les décades. Est-ce l’effet d’une inadéquation des âges? La demande est-elle plus jeune que l’offre? Cela crée-t-il un biais systématique d’évaluation?</p>
<p>Le conducteur se manifeste au travers de 3 critères : le statut attribué par blablacar, son expérience traduite par le nombre de voyages qu’il a fait ( et pour lesquels il a été évalué). La note moyenne obtenue des passagers.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="régression.html#cb126-1" aria-hidden="true" tabindex="-1"></a>g03<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Age))<span class="sc">+</span></span>
<span id="cb126-2"><a href="régression.html#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>, <span class="at">binwidth =</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb126-3"><a href="régression.html#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Distribution par </span><span class="sc">\n</span><span class="st">âge&quot;</span>, <span class="at">y=</span><span class="st">&quot;Fréquence des offres&quot;</span>)<span class="sc">+</span><span class="fu">xlim</span> (<span class="dv">18</span>, <span class="dv">80</span>)</span>
<span id="cb126-4"><a href="régression.html#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="régression.html#cb126-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Statut<span class="ot">&lt;-</span><span class="fu">as.factor</span>(df<span class="sc">$</span>Statut)</span>
<span id="cb126-6"><a href="régression.html#cb126-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Statut <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Statut, <span class="at">ordered =</span> <span class="cn">TRUE</span>, </span>
<span id="cb126-7"><a href="régression.html#cb126-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Ambassadeur&quot;</span>, <span class="st">&quot;Expert&quot;</span>,  <span class="st">&quot;Habitue&quot;</span>, <span class="st">&quot;Confirme&quot;</span>,<span class="st">&quot;Pas de Statut&quot;</span>))</span>
<span id="cb126-8"><a href="régression.html#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="régression.html#cb126-9" aria-hidden="true" tabindex="-1"></a>g04<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Statut))<span class="sc">+</span></span>
<span id="cb126-10"><a href="régression.html#cb126-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>) <span class="sc">+</span></span>
<span id="cb126-11"><a href="régression.html#cb126-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb126-12"><a href="régression.html#cb126-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Statut des </span><span class="sc">\n</span><span class="st">conducteurs&quot;</span>, <span class="at">y=</span><span class="st">&quot;Fréquence des offres&quot;</span>)</span>
<span id="cb126-13"><a href="régression.html#cb126-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-14"><a href="régression.html#cb126-14" aria-hidden="true" tabindex="-1"></a>mean<span class="ot">&lt;-</span><span class="fu">round</span>(<span class="fu">mean</span>(df<span class="sc">$</span>Nombre,<span class="at">na.rm=</span><span class="cn">TRUE</span>),<span class="dv">2</span>)</span>
<span id="cb126-15"><a href="régression.html#cb126-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-16"><a href="régression.html#cb126-16" aria-hidden="true" tabindex="-1"></a>g05<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Nombre))<span class="sc">+</span></span>
<span id="cb126-17"><a href="régression.html#cb126-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>, <span class="at">binwidth =</span> <span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb126-18"><a href="régression.html#cb126-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution du nombre </span><span class="sc">\n</span><span class="st">de trajets&quot;</span>, <span class="at">y=</span><span class="st">&quot; Fréquence des offres&quot;</span>,</span>
<span id="cb126-19"><a href="régression.html#cb126-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span><span class="fu">paste0</span>(<span class="st">&quot;Moyenne=&quot;</span>, mean),</span>
<span id="cb126-20"><a href="régression.html#cb126-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;nombre de voyages&quot;</span>)<span class="sc">+</span></span>
<span id="cb126-21"><a href="régression.html#cb126-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">250</span>)</span>
<span id="cb126-22"><a href="régression.html#cb126-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-23"><a href="régression.html#cb126-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-24"><a href="régression.html#cb126-24" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb126-25"><a href="régression.html#cb126-25" aria-hidden="true" tabindex="-1"></a>  g03, g05,g04,</span>
<span id="cb126-26"><a href="régression.html#cb126-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">3</span></span>
<span id="cb126-27"><a href="régression.html#cb126-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0904-1.png" width="672" /></p>
<p>L’expérience se distribue de manière très inégale, une minorité de conducteurs ayant réalisé plus de 50 voyages, une très grande majorité en ayant fait moins d’une vingtaine de voyages.</p>
<p>Examinons le statut et notamment en comparant l’expérience et l’évaluation.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="régression.html#cb127-1" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="régression.html#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Statut)<span class="sc">%&gt;%</span></span>
<span id="cb127-3"><a href="régression.html#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Note=</span><span class="fu">mean</span>(Note,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb127-4"><a href="régression.html#cb127-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Nombre=</span><span class="fu">mean</span>(Nombre,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb127-5"><a href="régression.html#cb127-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">Age=</span><span class="fu">round</span>(<span class="fu">mean</span>(Age,<span class="at">na.rm=</span><span class="cn">TRUE</span>),<span class="dv">0</span>))<span class="sc">%&gt;%</span></span>
<span id="cb127-6"><a href="régression.html#cb127-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>Statut,<span class="at">names_to =</span> <span class="st">&quot;variable&quot;</span>,<span class="at">values_to =</span> <span class="st">&quot;Moyenne&quot;</span> )</span>
<span id="cb127-7"><a href="régression.html#cb127-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-8"><a href="régression.html#cb127-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-9"><a href="régression.html#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span>Statut, <span class="at">y=</span>Moyenne,<span class="at">group=</span>variable))<span class="sc">+</span></span>
<span id="cb127-10"><a href="régression.html#cb127-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color=</span>variable), <span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb127-11"><a href="régression.html#cb127-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb127-12"><a href="régression.html#cb127-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(variable),<span class="at">scales =</span><span class="st">&quot;free&quot;</span>, <span class="at">ncol=</span><span class="dv">3</span>)<span class="sc">+</span>  </span>
<span id="cb127-13"><a href="régression.html#cb127-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Statuts des conducteur&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb127-14"><a href="régression.html#cb127-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">&quot;skyblue4&quot;</span>, <span class="st">&quot;coral2&quot;</span>, <span class="st">&quot;Gold2&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0905-1.png" width="672" /></p>
</div>
<div id="le-trajet" class="section level4" number="9.1.1.3">
<h4><span class="header-section-number">9.1.1.3</span> Le trajet</h4>
<p>Le conducteur peut être flexible dans l’horaire de départ ou pas. Un recodage est cependant nécessaire.Le trajet peut être strict ou comporter des détours. Là aussi besoin d’un peu de recodage.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="régression.html#cb128-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Flex[df<span class="sc">$</span>Flex<span class="sc">!=</span><span class="st">&quot;Depart pile a l&#39;heure&quot;</span> <span class="sc">&amp;</span> df<span class="sc">$</span>Flex<span class="sc">!=</span><span class="st">&quot;Pas d&#39;indication&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Voir avec le conducteur&quot;</span></span>
<span id="cb128-2"><a href="régression.html#cb128-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Flex[<span class="fu">is.na</span>(df<span class="sc">$</span>Flex)]<span class="ot">&lt;-</span><span class="st">&quot;Pas d&#39;indication&quot;</span></span>
<span id="cb128-3"><a href="régression.html#cb128-3" aria-hidden="true" tabindex="-1"></a>g07<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Flex))<span class="sc">+</span></span>
<span id="cb128-4"><a href="régression.html#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>)<span class="sc">+</span></span>
<span id="cb128-5"><a href="régression.html#cb128-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb128-6"><a href="régression.html#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Flexibilité de l&#39;horaire de départ&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="st">&quot;Fréquence&quot;</span>)</span>
<span id="cb128-7"><a href="régression.html#cb128-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-8"><a href="régression.html#cb128-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Detour[df<span class="sc">$</span>Detour<span class="sc">==</span><span class="st">&quot;De 30 minutes max&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Plus de 15 mn&quot;</span></span>
<span id="cb128-9"><a href="régression.html#cb128-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Detour[df<span class="sc">$</span>Detour<span class="sc">==</span><span class="st">&quot;Autant que possible&quot;</span>]<span class="ot">&lt;-</span><span class="st">&quot;Plus de 15 mn&quot;</span></span>
<span id="cb128-10"><a href="régression.html#cb128-10" aria-hidden="true" tabindex="-1"></a>g08<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Detour))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;Chartreuse4&quot;</span>)  <span class="sc">+</span></span>
<span id="cb128-11"><a href="régression.html#cb128-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Acceptation des détours à l&#39;arrivée&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>)</span>
<span id="cb128-12"><a href="régression.html#cb128-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-13"><a href="régression.html#cb128-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb128-14"><a href="régression.html#cb128-14" aria-hidden="true" tabindex="-1"></a>  g07, g08,</span>
<span id="cb128-15"><a href="régression.html#cb128-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb128-16"><a href="régression.html#cb128-16" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0906-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="notes-prix-et-taux-doccupations" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> Notes, prix et taux d’occupations</h2>
<p>Les notes sont en moyenne de 4.45 et fortement déviées à droite, réduisant la capacité de discrimination.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="régression.html#cb129-1" aria-hidden="true" tabindex="-1"></a>mean<span class="ot">&lt;-</span><span class="fu">round</span>(<span class="fu">mean</span>(df<span class="sc">$</span>Note,<span class="at">na.rm=</span><span class="cn">TRUE</span>),<span class="dv">2</span>)</span>
<span id="cb129-2"><a href="régression.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Note))<span class="sc">+</span></span>
<span id="cb129-3"><a href="régression.html#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;coral2&quot;</span>,<span class="at">binwidth =</span> .<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb129-4"><a href="régression.html#cb129-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb129-5"><a href="régression.html#cb129-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution des notes des conducteurs&quot;</span>, <span class="at">subtitle =</span><span class="fu">paste0</span>(<span class="st">&quot;Moyenne=&quot;</span>, mean))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0907-1.png" width="672" /></p>
</div>
<div id="analyse-des-prix" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Analyse des prix</h2>
<p>Au premier examen la distribution des prix semble être multimodale, elle est étroitement associée à la distribution des distance et de notre stratégie d’échantillonage des paires départ/destination.</p>
<p>Le prix est une multiplication de la distance par un tarif kilométrique, même si la relation ne semble pas tout à faire linéaire. La convexité de la courbe signale une sorte de rendement croissant avec la distance (incorporation du prix des péages ou effet de rareté ?).</p>
<p>C’est pourquoi on calcule un tarif au km, qui lui n’est plus corrélé ou à peine à la distance parcourue. Voici les résultats principaux.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="régression.html#cb130-1" aria-hidden="true" tabindex="-1"></a>g20<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Prix))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;firebrick2&quot;</span>)  <span class="sc">+</span></span>
<span id="cb130-2"><a href="régression.html#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution des prix&quot;</span>,</span>
<span id="cb130-3"><a href="régression.html#cb130-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Prix du trajet&quot;</span>)</span>
<span id="cb130-4"><a href="régression.html#cb130-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-5"><a href="régression.html#cb130-5" aria-hidden="true" tabindex="-1"></a>g21<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Distance, <span class="at">y=</span>Prix))<span class="sc">+</span></span>
<span id="cb130-6"><a href="régression.html#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">&quot;firebrick2&quot;</span>, <span class="at">alpha =</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb130-7"><a href="régression.html#cb130-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;gam&quot;</span>)<span class="sc">+</span><span class="fu">scale_x_log10</span>()<span class="sc">+</span></span>
<span id="cb130-8"><a href="régression.html#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Corrélation des distances et des prix&quot;</span>, <span class="at">x=</span> <span class="st">&quot;Distance en km&quot;</span>)</span>
<span id="cb130-9"><a href="régression.html#cb130-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-10"><a href="régression.html#cb130-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>prix_km<span class="ot">&lt;-</span>df<span class="sc">$</span>Prix<span class="sc">/</span>df<span class="sc">$</span>Distance</span>
<span id="cb130-11"><a href="régression.html#cb130-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-12"><a href="régression.html#cb130-12" aria-hidden="true" tabindex="-1"></a>g22<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>prix_km))<span class="sc">+</span></span>
<span id="cb130-13"><a href="régression.html#cb130-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">&quot;firebrick3&quot;</span>, <span class="at">binwidth =</span> <span class="fl">0.005</span>)  <span class="sc">+</span></span>
<span id="cb130-14"><a href="régression.html#cb130-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution des prix au km&quot;</span>, <span class="at">x=</span><span class="st">&quot;Prix au km (euros)&quot;</span>)<span class="sc">+</span><span class="fu">xlim</span>(<span class="dv">0</span>,<span class="fl">0.15</span>)</span>
<span id="cb130-15"><a href="régression.html#cb130-15" aria-hidden="true" tabindex="-1"></a>g23<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Distance, <span class="at">y=</span>prix_km))<span class="sc">+</span></span>
<span id="cb130-16"><a href="régression.html#cb130-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">&quot;firebrick3&quot;</span>) <span class="sc">+</span></span>
<span id="cb130-17"><a href="régression.html#cb130-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;gam&quot;</span>)<span class="sc">+</span></span>
<span id="cb130-18"><a href="régression.html#cb130-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Distance en km&quot;</span>)<span class="sc">+</span></span>
<span id="cb130-19"><a href="régression.html#cb130-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="fl">0.15</span>)</span>
<span id="cb130-20"><a href="régression.html#cb130-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-21"><a href="régression.html#cb130-21" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb130-22"><a href="régression.html#cb130-22" aria-hidden="true" tabindex="-1"></a>  g20, g21,g22,g23,</span>
<span id="cb130-23"><a href="régression.html#cb130-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb130-24"><a href="régression.html#cb130-24" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0908-1.png" width="672" /></p>
</div>
<div id="analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?</h2>
<p>On utilise la variable nombre de place restante qu’on traduit par un indicateur codé de 0 (tout est libre) à 1 (la voiture est pleine). En voici la distribution.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="régression.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>Occup))<span class="sc">+</span></span>
<span id="cb131-2"><a href="régression.html#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;gold3&quot;</span>)  <span class="sc">+</span></span>
<span id="cb131-3"><a href="régression.html#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Distribution du taux d&#39;occupation des véhicules&quot;</span>, </span>
<span id="cb131-4"><a href="régression.html#cb131-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Nombre d&#39;offres&quot;</span>, <span class="at">x=</span> <span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0909-1.png" width="672" /></p>
<div id="un-modèle-ols" class="section level3" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> Un modèle OLS</h3>
<p>On commence par un modèle simple et linéaire où l’on cherche à expliquer, prédire, le taux d’occupation du véhicule en fonction des variables dont nous disposons. La flexibilité de l’horaire et la possibilité de détour n’affecte pas vraiment le taux de réservation. Si les autres variables ont des relations significatives ( avec des valeur t très élevées), on notera que la variance expliquée est faible.</p>
<p>Le remplissage des voiture est une affaire de loto. Ce qui se comprend, car la probabilité qu’une offre et une demande coïncide est relativement faible si on retient une plage horaire étroite pour le passager qui l’élargira pour accroître le choix au prix d’un effort de recherche supplémentaire.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="régression.html#cb132-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AgeClasse<span class="ot">&lt;-</span> <span class="fu">round</span>(df<span class="sc">$</span>Age<span class="sc">/</span><span class="dv">10</span>,<span class="dv">0</span>)<span class="sc">*</span><span class="dv">10</span></span>
<span id="cb132-2"><a href="régression.html#cb132-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AgeClasse[df<span class="sc">$</span>AgeClasse<span class="sc">==</span><span class="dv">80</span>]<span class="ot">&lt;-</span><span class="dv">70</span></span>
<span id="cb132-3"><a href="régression.html#cb132-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AgeClasse[df<span class="sc">$</span>AgeClasse<span class="sc">==</span><span class="dv">90</span>]<span class="ot">&lt;-</span><span class="dv">70</span></span>
<span id="cb132-4"><a href="régression.html#cb132-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AgeClasse[df<span class="sc">$</span>AgeClasse<span class="sc">==</span><span class="dv">100</span>]<span class="ot">&lt;-</span><span class="dv">70</span></span>
<span id="cb132-5"><a href="régression.html#cb132-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AgeClasse<span class="ot">&lt;-</span><span class="fu">as.factor</span>(df<span class="sc">$</span>AgeClasse)</span>
<span id="cb132-6"><a href="régression.html#cb132-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-7"><a href="régression.html#cb132-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-8"><a href="régression.html#cb132-8" aria-hidden="true" tabindex="-1"></a>fit0<span class="ot">&lt;-</span><span class="fu">lm</span>(Occup<span class="sc">~</span>AgeClasse<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>Note, <span class="at">data=</span>df)</span>
<span id="cb132-9"><a href="régression.html#cb132-9" aria-hidden="true" tabindex="-1"></a>fit1<span class="ot">&lt;-</span><span class="fu">lm</span>(Occup<span class="sc">~</span>AgeClasse<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note, <span class="at">data=</span>df)</span>
<span id="cb132-10"><a href="régression.html#cb132-10" aria-hidden="true" tabindex="-1"></a>fit_logit<span class="ot">&lt;-</span><span class="fu">lm</span>(Occup<span class="sc">~</span>AgeClasse<span class="sc">+</span> Marque<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note, <span class="at">data=</span>df)</span>
<span id="cb132-11"><a href="régression.html#cb132-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-12"><a href="régression.html#cb132-12" aria-hidden="true" tabindex="-1"></a><span class="fu">export_summs</span>(fit0, fit1,<span class="at">plot.distributions =</span> <span class="cn">TRUE</span>,<span class="at">scale =</span> <span class="cn">FALSE</span>, <span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  " id="tab:0910">
<caption style="caption-side: top; text-align: center;"><span id="tab:0910">Table 9.1: </span> </caption><col><col><col><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 1</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 2</th></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(Intercept)</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.217 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.495 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.053)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.080)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AgeClasse30</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.007&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.007&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.007)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.007)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AgeClasse40</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.054 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.053 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.008)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.008)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AgeClasse50</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.039 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.038 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.009)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.009)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AgeClasse60</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.018&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.017&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.010)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.010)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AgeClasse70</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.024&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.023&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.023)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.023)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Distance + 1)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.029 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.027 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">prix_km</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-3.896 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-3.910 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.386)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.385)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">FlexPas d'indication</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.012 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.012 *&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">FlexVoir avec le conducteur</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.012&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.013&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.025)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.025)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">DetourDe 15 minutes max</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.004&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.004&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.006)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">DetourPlus de 15 mn</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.065 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.064 *&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.027)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.027)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AutorouteOui</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.119 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.121 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.016)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.016)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Nombre + 1)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.010 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.152 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.002)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.030)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Note</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.062 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.002&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.008)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.015)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Nombre + 1):Note</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.032 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.007)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">N</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11719&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11719&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">R2</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.027&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.029&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th colspan="3" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>
</table>

<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="régression.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_summs</span>(fit0, fit1,<span class="at">plot.distributions =</span> <span class="cn">TRUE</span>,  </span>
<span id="cb133-2"><a href="régression.html#cb133-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">omit.coefs=</span><span class="fu">c</span>(<span class="st">&quot;MarqueAudi&quot;</span>, </span>
<span id="cb133-3"><a href="régression.html#cb133-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueAutres&quot;</span>, </span>
<span id="cb133-4"><a href="régression.html#cb133-4" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueAutres Asie&quot;</span> ,</span>
<span id="cb133-5"><a href="régression.html#cb133-5" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueAutres US&quot;</span>,</span>
<span id="cb133-6"><a href="régression.html#cb133-6" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueBmw&quot;</span>,                </span>
<span id="cb133-7"><a href="régression.html#cb133-7" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueCitroen&quot;</span> , <span class="st">&quot;MarqueDacia&quot;</span>,<span class="st">&quot;MarqueFiat&quot;</span>,</span>
<span id="cb133-8"><a href="régression.html#cb133-8" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueFord&quot;</span>,</span>
<span id="cb133-9"><a href="régression.html#cb133-9" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueHyundai&quot;</span>,</span>
<span id="cb133-10"><a href="régression.html#cb133-10" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueMercedes-benz&quot;</span>,<span class="st">&quot;MarqueNissan&quot;</span>,<span class="st">&quot;MarqueOpel&quot;</span>,</span>
<span id="cb133-11"><a href="régression.html#cb133-11" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarquePeugeot&quot;</span>,<span class="st">&quot;MarqueRenault &quot;</span>,</span>
<span id="cb133-12"><a href="régression.html#cb133-12" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueRover, jaguar, mini&quot;</span>,</span>
<span id="cb133-13"><a href="régression.html#cb133-13" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueSeat&quot;</span>,</span>
<span id="cb133-14"><a href="régression.html#cb133-14" aria-hidden="true" tabindex="-1"></a>                        <span class="st">&quot;MarqueSkoda&quot;</span>,<span class="st">&quot;MarqueToyota&quot;</span>,<span class="st">&quot;MarqueVolkswagen&quot;</span>,<span class="st">&quot;MarqueVolvo&quot;</span>, <span class="st">&quot;Saab&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0910-1.png" width="672" /></p>
<p>Le modèle tient même s’il explique très peu de variance. Les tests sont cependant significatifs et même si l’effet est faible il est notable.</p>
<p>Voici des diagrammes d’effets qui représentent la valeur de la variable dépendante pour une plage de variation des variables indépendantes prises une à une, en fonction du modèle. On voit ainsi plus clairement que le taux d’occupation passe de 20% environ quand la note est de 3 (les notes inférieures sont rares!) à 45% quand la moyenne du conducteur frôle les 5.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="régression.html#cb134-1" aria-hidden="true" tabindex="-1"></a>g10<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>AgeClasse,<span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb134-2"><a href="régression.html#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb134-3"><a href="régression.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de l&#39;âge sur le taux d&#39;occupation&quot;</span>,</span>
<span id="cb134-4"><a href="régression.html#cb134-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Classe d&#39;âge&quot;</span>,</span>
<span id="cb134-5"><a href="régression.html#cb134-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span></span>
<span id="cb134-6"><a href="régression.html#cb134-6" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb134-7"><a href="régression.html#cb134-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-8"><a href="régression.html#cb134-8" aria-hidden="true" tabindex="-1"></a>g11<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Flex,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb134-9"><a href="régression.html#cb134-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb134-10"><a href="régression.html#cb134-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la flexibilité au départ&quot;</span>,</span>
<span id="cb134-11"><a href="régression.html#cb134-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb134-12"><a href="régression.html#cb134-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-13"><a href="régression.html#cb134-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-14"><a href="régression.html#cb134-14" aria-hidden="true" tabindex="-1"></a>g12<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Autoroute,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb134-15"><a href="régression.html#cb134-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb134-16"><a href="régression.html#cb134-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de l&#39;autoroute&quot;</span>,</span>
<span id="cb134-17"><a href="régression.html#cb134-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb134-18"><a href="régression.html#cb134-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-19"><a href="régression.html#cb134-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-20"><a href="régression.html#cb134-20" aria-hidden="true" tabindex="-1"></a>g13<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Detour, <span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb134-21"><a href="régression.html#cb134-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb134-22"><a href="régression.html#cb134-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet des conditions d&#39;arrivée&quot;</span>, <span class="at">x=</span><span class="st">&quot;Détour&quot;</span>,</span>
<span id="cb134-23"><a href="régression.html#cb134-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb134-24"><a href="régression.html#cb134-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-25"><a href="régression.html#cb134-25" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb134-26"><a href="régression.html#cb134-26" aria-hidden="true" tabindex="-1"></a>  g10, g11,g12,g13,</span>
<span id="cb134-27"><a href="régression.html#cb134-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb134-28"><a href="régression.html#cb134-28" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0911-1.png" width="672" /></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="régression.html#cb135-1" aria-hidden="true" tabindex="-1"></a>g16<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Note,<span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb135-2"><a href="régression.html#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb135-3"><a href="régression.html#cb135-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la note&quot;</span>,</span>
<span id="cb135-4"><a href="régression.html#cb135-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb135-5"><a href="régression.html#cb135-5" aria-hidden="true" tabindex="-1"></a>g17<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Nombre,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb135-6"><a href="régression.html#cb135-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb135-7"><a href="régression.html#cb135-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet du nombre de trajets&quot;</span>,</span>
<span id="cb135-8"><a href="régression.html#cb135-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb135-9"><a href="régression.html#cb135-9" aria-hidden="true" tabindex="-1"></a>g18<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit1, <span class="at">pred=</span>Distance,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb135-10"><a href="régression.html#cb135-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb135-11"><a href="régression.html#cb135-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la distance&quot;</span>,</span>
<span id="cb135-12"><a href="régression.html#cb135-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb135-13"><a href="régression.html#cb135-13" aria-hidden="true" tabindex="-1"></a>g19<span class="ot">&lt;-</span><span class="fu">interact_plot</span>(fit1, <span class="at">pred=</span>Nombre,<span class="at">modx=</span>Note,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb135-14"><a href="régression.html#cb135-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb135-15"><a href="régression.html#cb135-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet d&#39;interaction nombre de trajets x note&quot;</span>,</span>
<span id="cb135-16"><a href="régression.html#cb135-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb135-17"><a href="régression.html#cb135-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-18"><a href="régression.html#cb135-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb135-19"><a href="régression.html#cb135-19" aria-hidden="true" tabindex="-1"></a>  g16, g17,g18,g19,</span>
<span id="cb135-20"><a href="régression.html#cb135-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb135-21"><a href="régression.html#cb135-21" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0911-2.png" width="672" /></p>
<p>La particularité du modèle est le terme d’interaction. L’expérience du conducteur traduite par le nombre de trajets qu’il a effectué est gage de sécurité, de confiance, pourvu que ses notes soient bonnes. On s’attend à ce que si elle sont moins bonnes, le nombre de voyages réalisés en amplifiera l’impact négatif. L’expérience signale aussi la crédibilité de la note, et on peut raisonnablement penser que plus ce nombre est grand et plus le signal, positif ou négatif est crédible. Ici la note module l’effet de crédibilité.</p>
<p>L’analyse de l’interaction est claire : quand les contenus sont négatifs , l’expérience du conducteur aggrave la réticence et le taux d’occupation se réduit. Quand les notes vont meilleures que la moyenne.L’amplification par l’expérience de l’effet des notes sur la réservation est moindre. L’interaction est significative (t=8.76). Reste à comprendre pourquoi la tendance générale reste à une relation négative entre le taux de remplissage et le nombre de trajet effectué . Est-ce le résultat d’une participation fréquente à la plateforme, à un comportement particulier des conducteurs très actifs (opportunisme) ? Une explication complémentaire peut venir de ceux qui pratique occasionnellement le covoiturage, leur activité étant plus rare , elle est peut être plus planifiée, et les offres sont présentes depuis plus longtemps que celles des utilisateurs fréquents qui publieraient leurs annonces de la veille au lendemain. Ceci mérite une analyse plus approfondie que nous ne ménerons pas ici.</p>
</div>
</div>
<div id="autres-modèles" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> Autres modèles</h2>
<p>Dans la pratique la construction d’un modèle de régression dépend de trois éléments :</p>
<ul>
<li>la spécification fonctionnelle qui définit f(y, X) autrement dit ce qui relie ce qu’on observe à ce qui peut lui être corrélé de manière linéaires ou moins linéaires. La forme fonctionnelle dépend largement de la variable dépendante et de sa distribution :</li>
</ul>
<p>** normale :
** log-normale voire exponentielle
** binaire
** proportionnelle
** dénombrement. Il s’agit des données de comptages : un nombre d’achat au cours d’une période par exemple. poisson, NBD
** Les durées sont positives,</p>
<p>Dans ce cas on va utiliser une méthode de modèle linéaire généralisé (GLM) qui reposent sur 3 éléments:</p>
<ul>
<li>Un prédicteur linéaire (<span class="math inline">\(\eta\)</span>) qui décrit la combinaison linéaire des variables explicatives.</li>
</ul>
<p><span class="math display">\[\eta=\sum_{n=1}^{10}\beta_{0}+\beta_{i}x_{i}\]</span></p>
<ul>
<li>Une fonction de lien : Contrairement aux modèles linéaires classiques, les valeurs prédites par le prédicteur linéaire ne correspondent pas à la prédiction moyenne d’une observation, mais à une transformation mathématique. Les beta sont estimés après transformation des réponses selon la fonction de lien choisie.</li>
</ul>
<p><span class="math display">\[g(\mu_{y})=\eta\]</span></p>
<p>Par exemple, pour les données de comptage :</p>
<p><span class="math display">\[log(\mu_{y})=\eta\]</span>
ou dans le cas de données binaire ( modèle de régression logistique)
<span class="math display">\[log(\frac{\mu_{y}}{1-\mu_{y}})=\eta\]</span></p>
<p>Le but de la fonction de lien est de contraindre les valeurs prédites à être dans l’échelle des valeurs observées. Ainsi, dans le cas des données de comptage, qui sont obligatoirement positives, ou nulles, la fonction de lien log contraint les valeurs prédites par le prédicteur linéaire à devenir également positives ou nulles après l’emploi de la fonction inverse du log.</p>
<ul>
<li>La structure d’erreur : A une fonction de lien donnée, correspond généralement une structure d’erreur particulière.Il s’agit d’une famille de distribution des erreurs. Par exemple, pour les données de comptage, la fonction de lien est le log et la structure d’erreur correspondante est la distribution de Poisson. Cette structure d’erreur, permet notamment de spécifier correctement la relation entre la moyenne et la variance. Cette relation est utilisée par l’approche de maximum de vraisemblance pour estimer les coefficients des paramètres (les beta) du GLM.</li>
</ul>
<p>Ici un tableau récapitulatif des structures d’erreurs, fonctions de lien, fonctions de moyennes et fonctions de variance des données de type numériques continues non bornée, de comptage et binaire.</p>
<p><img src="Images/GLM.jpg" /></p>
<ul>
<li>Estimation par une méthode de maximum de vraisemblance et de déviance qui est en quelque sorte une généralisation de la variance.</li>
</ul>
<div id="régression-logistique" class="section level3" number="9.5.1">
<h3><span class="header-section-number">9.5.1</span> Régression logistique</h3>
<p>Sur les même données mais en considérant le taux d’occupation plus sérieusement : il est compris entre 0 et 1 et se prête don à un modèle logistique, car le taux d’occupation va de 0 à 100% même si nous n’avons que 4 niveaux. ça fait un modèle plus réaliste qui ajuste la valeur prédite entre 0 et 1.</p>
<p>Pour mieux prendre en compte l’hétérogénéité du set de données (composée par un échantillon de requêtes) on introduit les trajets comme composante aléatoire.</p>
<p>l’estimation est réalisée avec <code>lme4</code></p>
<p>Les effets semblent être ici plus pertinent et sensibles mais surtout l’effet d’interaction semble renforcé. L’effet de la note est là clairement amplifié pour les notes négatives mais aussi pour les notes positives.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="régression.html#cb136-1" aria-hidden="true" tabindex="-1"></a>fit_logit<span class="ot">&lt;-</span><span class="fu">glm</span>(Occup<span class="sc">~</span>Age<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note,<span class="at">family=</span><span class="st">&quot;binomial&quot;</span>, <span class="at">data=</span>df)</span>
<span id="cb136-2"><a href="régression.html#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="régression.html#cb136-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-4"><a href="régression.html#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summ</span>(fit_logit)</span></code></pre></div>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Observations
</td>
<td style="text-align:right;">
11719 (1586 missing obs. deleted)
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Dependent variable
</td>
<td style="text-align:right;">
Occup
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Type
</td>
<td style="text-align:right;">
Generalized linear model
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Family
</td>
<td style="text-align:right;">
binomial
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Link
</td>
<td style="text-align:right;">
logit
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
χ²(11)
</td>
<td style="text-align:right;">
106.04
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Pseudo-R² (Cragg-Uhler)
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Pseudo-R² (McFadden)
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
AIC
</td>
<td style="text-align:right;">
15784.58
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
BIC
</td>
<td style="text-align:right;">
15873.00
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Est.
</th>
<th style="text-align:right;">
S.E.
</th>
<th style="text-align:right;">
z val.
</th>
<th style="text-align:right;">
p
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
(Intercept)
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.13
</td>
<td style="text-align:right;">
0.90
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Age
</td>
<td style="text-align:right;">
-0.00
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
-2.61
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
log(Distance + 1)
</td>
<td style="text-align:right;">
0.11
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
2.79
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
prix_km
</td>
<td style="text-align:right;">
-16.30
</td>
<td style="text-align:right;">
2.72
</td>
<td style="text-align:right;">
-6.00
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
FlexPas d’indication
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
1.20
</td>
<td style="text-align:right;">
0.23
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
FlexVoir avec le conducteur
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
0.29
</td>
<td style="text-align:right;">
0.77
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
DetourDe 15 minutes max
</td>
<td style="text-align:right;">
-0.01
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
-0.24
</td>
<td style="text-align:right;">
0.81
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
DetourPlus de 15 mn
</td>
<td style="text-align:right;">
-0.27
</td>
<td style="text-align:right;">
0.19
</td>
<td style="text-align:right;">
-1.39
</td>
<td style="text-align:right;">
0.16
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
AutorouteOui
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.11
</td>
<td style="text-align:right;">
4.50
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
log(Nombre + 1)
</td>
<td style="text-align:right;">
-0.64
</td>
<td style="text-align:right;">
0.21
</td>
<td style="text-align:right;">
-2.97
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Note
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0.11
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.99
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
log(Nombre + 1):Note
</td>
<td style="text-align:right;">
0.13
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
2.77
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Standard errors: MLE
</td>
</tr>
</tfoot>
</table>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="régression.html#cb137-1" aria-hidden="true" tabindex="-1"></a>g10<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>AgeClasse,<span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb137-2"><a href="régression.html#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb137-3"><a href="régression.html#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de l&#39;âge sur le taux d&#39;occupation&quot;</span>,<span class="at">x=</span><span class="st">&quot;Classe d&#39;âge&quot;</span>,</span>
<span id="cb137-4"><a href="régression.html#cb137-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb137-5"><a href="régression.html#cb137-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-6"><a href="régression.html#cb137-6" aria-hidden="true" tabindex="-1"></a>g11<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Flex,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb137-7"><a href="régression.html#cb137-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb137-8"><a href="régression.html#cb137-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la flexibilité au départ sur le taux d&#39;occupation&quot;</span>,</span>
<span id="cb137-9"><a href="régression.html#cb137-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb137-10"><a href="régression.html#cb137-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-11"><a href="régression.html#cb137-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-12"><a href="régression.html#cb137-12" aria-hidden="true" tabindex="-1"></a>g12<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Autoroute,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb137-13"><a href="régression.html#cb137-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb137-14"><a href="régression.html#cb137-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de l&#39;autoroute sur le taux d&#39;occupation&quot;</span>,</span>
<span id="cb137-15"><a href="régression.html#cb137-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb137-16"><a href="régression.html#cb137-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-17"><a href="régression.html#cb137-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-18"><a href="régression.html#cb137-18" aria-hidden="true" tabindex="-1"></a>g13<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Detour, <span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb137-19"><a href="régression.html#cb137-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb137-20"><a href="régression.html#cb137-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet des conditions d&#39;arrivée sur le taux d&#39;occupation&quot;</span>, <span class="at">x=</span><span class="st">&quot;Détour&quot;</span>,</span>
<span id="cb137-21"><a href="régression.html#cb137-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb137-22"><a href="régression.html#cb137-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-23"><a href="régression.html#cb137-23" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb137-24"><a href="régression.html#cb137-24" aria-hidden="true" tabindex="-1"></a>  g10, g11,g12,g13,</span>
<span id="cb137-25"><a href="régression.html#cb137-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb137-26"><a href="régression.html#cb137-26" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0912-1.png" width="672" /></p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="régression.html#cb138-1" aria-hidden="true" tabindex="-1"></a>g16<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Note,<span class="at">interval =</span> <span class="cn">TRUE</span> ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb138-2"><a href="régression.html#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb138-3"><a href="régression.html#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la note&quot;</span>,</span>
<span id="cb138-4"><a href="régression.html#cb138-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb138-5"><a href="régression.html#cb138-5" aria-hidden="true" tabindex="-1"></a>g17<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Nombre,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb138-6"><a href="régression.html#cb138-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb138-7"><a href="régression.html#cb138-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet du nombre de trajets&quot;</span>,</span>
<span id="cb138-8"><a href="régression.html#cb138-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb138-9"><a href="régression.html#cb138-9" aria-hidden="true" tabindex="-1"></a>g18<span class="ot">&lt;-</span><span class="fu">effect_plot</span>(fit_logit, <span class="at">pred=</span>Distance,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb138-10"><a href="régression.html#cb138-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb138-11"><a href="régression.html#cb138-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet de la distance&quot;</span>,</span>
<span id="cb138-12"><a href="régression.html#cb138-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb138-13"><a href="régression.html#cb138-13" aria-hidden="true" tabindex="-1"></a>g19<span class="ot">&lt;-</span><span class="fu">interact_plot</span>(fit_logit, <span class="at">pred=</span>Nombre,<span class="at">modx=</span>Note,<span class="at">interval =</span> <span class="cn">TRUE</span>  ,<span class="at">data=</span>df)<span class="sc">+</span></span>
<span id="cb138-14"><a href="régression.html#cb138-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;gold3&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb138-15"><a href="régression.html#cb138-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Effet d&#39;interaction nombre de trajets x note&quot;</span>,</span>
<span id="cb138-16"><a href="régression.html#cb138-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot;Taux d&#39;occupation&quot;</span>)</span>
<span id="cb138-17"><a href="régression.html#cb138-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-18"><a href="régression.html#cb138-18" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb138-19"><a href="régression.html#cb138-19" aria-hidden="true" tabindex="-1"></a>  g16, g17,g18,g19,</span>
<span id="cb138-20"><a href="régression.html#cb138-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="st">&quot;AUTO&quot;</span>, <span class="at">ncol =</span> <span class="dv">2</span></span>
<span id="cb138-21"><a href="régression.html#cb138-21" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0912-2.png" width="672" /></p>
</div>
<div id="modèle-de-comptage" class="section level3" number="9.5.2">
<h3><span class="header-section-number">9.5.2</span> Modèle de comptage</h3>
<p>et un dernier qui revient aux données originelles : le comptage des place disponibles. Dans ce type de situation (données de comptage), on considère que ce type de variable se distribue selon une loi de poisson, dont la propriété est l’égalité de la moyenne et de l’écart-type.</p>
<p>On s’assure qu’il n’y ait pas de surdispersion en calculant le ratio de la variance résiduelle par le nombre de degré de liberté. Il est ici de l’ordre de 1 et donc on conclura à une absence de surdispersion, même si en comparant la distribution empiriques du nombre de places restantes à la distribution théorique d’une loi de poisson, l’ajustement n’est pas parfait.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="régression.html#cb139-1" aria-hidden="true" tabindex="-1"></a>mean_places<span class="ot">&lt;-</span><span class="fu">mean</span>(df<span class="sc">$</span>Places)</span>
<span id="cb139-2"><a href="régression.html#cb139-2" aria-hidden="true" tabindex="-1"></a>mean_sd<span class="ot">&lt;-</span><span class="fu">sd</span>(df<span class="sc">$</span>Places)</span>
<span id="cb139-3"><a href="régression.html#cb139-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-4"><a href="régression.html#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>) <span class="co"># permet de simuler toujours les mêmes comptages.</span></span>
<span id="cb139-5"><a href="régression.html#cb139-5" aria-hidden="true" tabindex="-1"></a>theoretic_count <span class="ot">&lt;-</span><span class="fu">rpois</span>(<span class="fu">nrow</span>(df),mean_places)</span>
<span id="cb139-6"><a href="régression.html#cb139-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-7"><a href="régression.html#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="co"># on incorpore ces comptages théoriques dans un data frame</span></span>
<span id="cb139-8"><a href="régression.html#cb139-8" aria-hidden="true" tabindex="-1"></a>tc_df <span class="ot">&lt;-</span><span class="fu">data.frame</span>(theoretic_count)</span>
<span id="cb139-9"><a href="régression.html#cb139-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-10"><a href="régression.html#cb139-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-11"><a href="régression.html#cb139-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df,<span class="fu">aes</span>(Places))<span class="sc">+</span></span>
<span id="cb139-12"><a href="régression.html#cb139-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;#1E90FF&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb139-13"><a href="régression.html#cb139-13" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_bar</span>(<span class="at">data=</span>tc_df, <span class="fu">aes</span>(theoretic_count,<span class="at">fill=</span><span class="st">&quot;#1E90FF&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>))<span class="sc">+</span></span>
<span id="cb139-14"><a href="régression.html#cb139-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_classic</span>()<span class="co">#+   theme(legend.position=&quot;none&quot;) </span></span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0913-1.png" width="672" /></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="régression.html#cb140-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Occup<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span>.<span class="dv">999</span></span>
<span id="cb140-2"><a href="régression.html#cb140-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Occup<span class="sc">==</span><span class="dv">0</span>]<span class="ot">&lt;-</span>.<span class="dv">001</span></span>
<span id="cb140-3"><a href="régression.html#cb140-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-4"><a href="régression.html#cb140-4" aria-hidden="true" tabindex="-1"></a>fit_poisson <span class="ot">&lt;-</span> <span class="fu">glm</span>(Places<span class="sc">~</span>Age<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note, <span class="at">family=</span><span class="st">&quot;poisson&quot;</span>,<span class="at">data =</span> df)</span>
<span id="cb140-5"><a href="régression.html#cb140-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-6"><a href="régression.html#cb140-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_poisson)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = Places ~ Age + log(Distance + 1) + prix_km + Flex + 
##     Detour + Autoroute + log(Nombre + 1) * Note, family = &quot;poisson&quot;, 
##     data = df)
## 
## Deviance Residuals: 
##      Min        1Q    Median        3Q       Max  
## -2.51367  -0.74448   0.03874   0.60289   2.13066  
## 
## Coefficients:
##                               Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                  0.6879101  0.1897188   3.626 0.000288 ***
## Age                          0.0019560  0.0005095   3.839 0.000123 ***
## log(Distance + 1)           -0.0513430  0.0137967  -3.721 0.000198 ***
## prix_km                      7.6872057  0.9123308   8.426  &lt; 2e-16 ***
## FlexPas d&#39;indication        -0.0236138  0.0140880  -1.676 0.093704 .  
## FlexVoir avec le conducteur -0.0109685  0.0595949  -0.184 0.853974    
## DetourDe 15 minutes max      0.0023592  0.0137864   0.171 0.864125    
## DetourPlus de 15 mn          0.1349013  0.0620044   2.176 0.029580 *  
## AutorouteOui                -0.2434932  0.0347369  -7.010 2.39e-12 ***
## log(Nombre + 1)              0.2883459  0.0713807   4.040 5.36e-05 ***
## Note                        -0.0088294  0.0362270  -0.244 0.807444    
## log(Nombre + 1):Note        -0.0592471  0.0159474  -3.715 0.000203 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 11105  on 11718  degrees of freedom
## Residual deviance: 10889  on 11707  degrees of freedom
##   (1586 observations deleted due to missingness)
## AIC: 38248
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="régression.html#cb142-1" aria-hidden="true" tabindex="-1"></a>fit_poisson2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Places<span class="sc">~</span>Age<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note, <span class="at">family=</span><span class="st">&quot;quasipoisson&quot;</span>,<span class="at">data =</span> df)</span>
<span id="cb142-2"><a href="régression.html#cb142-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-3"><a href="régression.html#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="fu">export_summs</span>(fit_logit,fit_poisson2, fit_poisson2)</span></code></pre></div>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  " id="tab:0914">
<caption style="caption-side: top; text-align: center;"><span id="tab:0914">Table 9.2: </span> </caption><col><col><col><col><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 1</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 2</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Model 3</th></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(Intercept)</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.07&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.69 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.69 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.56)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.15)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.15)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Age</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.00 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.00 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.00 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.00)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.00)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.00)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Distance + 1)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.11 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.05 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.05 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.04)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">prix_km</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-16.30 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.69 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">7.69 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.72)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.75)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.75)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">FlexPas d'indication</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.05&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.02 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.02 *&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.04)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">FlexVoir avec le conducteur</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.05&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.01&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.01&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.17)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.05)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.05)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">DetourDe 15 minutes max</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.01&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.00&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.00&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.04)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">DetourPlus de 15 mn</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.27&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.13 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.13 **&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.19)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.05)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.05)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AutorouteOui</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.50 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.24 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.24 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.11)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.03)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.03)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Nombre + 1)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.64 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.29 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.29 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.21)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.06)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.06)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Note</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.00&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.01&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.01&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.11)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.03)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.03)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">log(Nombre + 1):Note</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.13 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.06 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.06 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.05)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.01)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">N</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11719&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11719&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11719&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AIC</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15784.58&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">BIC</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">15873.00&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">Pseudo R2</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.02&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.02&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.02&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th colspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>
</table>

</div>
<div id="modèle-de-régression-beta" class="section level3" number="9.5.3">
<h3><span class="header-section-number">9.5.3</span> Modèle de régression beta</h3>
<p>Encore une autre variation avec le modèle de regression beta qui s’attache à modéliser des variables de proportion par une loi de distribution beta dont la caractéristiques est d’être souple et de s’adapter à toute forme de distribution en respectant la contrainte de varier entre presque 0 et presque 1. Elle dépend de deux paramètres <span class="math inline">\(\alpha\)</span> et <span class="math inline">\(\beta\)</span></p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="régression.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(<span class="fu">dbeta</span>(x, <span class="dv">4</span>, <span class="dv">12</span>),</span>
<span id="cb143-2"><a href="régression.html#cb143-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;pink1&quot;</span>, </span>
<span id="cb143-3"><a href="régression.html#cb143-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb143-4"><a href="régression.html#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(<span class="fu">dbeta</span>(x, <span class="dv">8</span>, <span class="dv">4</span>),</span>
<span id="cb143-5"><a href="régression.html#cb143-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;pink2&quot;</span>, </span>
<span id="cb143-6"><a href="régression.html#cb143-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb143-7"><a href="régression.html#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(<span class="fu">dbeta</span>(x, <span class="dv">4</span>, <span class="dv">4</span>),</span>
<span id="cb143-8"><a href="régression.html#cb143-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;pink3&quot;</span>, </span>
<span id="cb143-9"><a href="régression.html#cb143-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0915-1.png" width="672" /></p>
<p>La spécificité de la régression beta est de modéliser les deux paramètre de la fonction de distribution par deux équation linéraire. L’une ajustant la moyenne, l’autre ajustant la dispersion.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="régression.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">#recodage</span></span>
<span id="cb144-2"><a href="régression.html#cb144-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Occup<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span>.<span class="dv">999</span></span>
<span id="cb144-3"><a href="régression.html#cb144-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Occup[df<span class="sc">$</span>Occup<span class="sc">==</span><span class="dv">0</span>]<span class="ot">&lt;-</span>.<span class="dv">001</span></span>
<span id="cb144-4"><a href="régression.html#cb144-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-5"><a href="régression.html#cb144-5" aria-hidden="true" tabindex="-1"></a>fit_beta1 <span class="ot">&lt;-</span> <span class="fu">betareg</span>(Occup<span class="sc">~</span>AgeClasse<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note, <span class="at">data =</span> df)</span>
<span id="cb144-6"><a href="régression.html#cb144-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_beta1)</span></code></pre></div>
<pre><code>## 
## Call:
## betareg(formula = Occup ~ AgeClasse + log(Distance + 1) + prix_km + Flex + 
##     Detour + Autoroute + log(Nombre + 1) * Note, data = df)
## 
## Standardized weighted residuals 2:
##     Min      1Q  Median      3Q     Max 
## -2.5648 -0.4721 -0.1841  0.1925  2.5672 
## 
## Coefficients (mean model with logit link):
##                               Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                   0.477618   0.346880   1.377  0.16854    
## AgeClasse30                  -0.055681   0.030938  -1.800  0.07189 .  
## AgeClasse40                  -0.305290   0.035616  -8.572  &lt; 2e-16 ***
## AgeClasse50                  -0.196017   0.039618  -4.948 7.51e-07 ***
## AgeClasse60                  -0.134592   0.044980  -2.992  0.00277 ** 
## AgeClasse70                  -0.220373   0.099999  -2.204  0.02754 *  
## log(Distance + 1)             0.119285   0.024997   4.772 1.82e-06 ***
## prix_km                     -17.809578   1.675785 -10.628  &lt; 2e-16 ***
## FlexPas d&#39;indication          0.029596   0.025342   1.168  0.24285    
## FlexVoir avec le conducteur  -0.060868   0.108458  -0.561  0.57465    
## DetourDe 15 minutes max      -0.008982   0.024985  -0.360  0.71922    
## DetourPlus de 15 mn          -0.284942   0.119009  -2.394  0.01665 *  
## AutorouteOui                  0.540004   0.068146   7.924 2.30e-15 ***
## log(Nombre + 1)              -0.846267   0.132436  -6.390 1.66e-10 ***
## Note                         -0.049875   0.066261  -0.753  0.45163    
## log(Nombre + 1):Note          0.179977   0.029493   6.102 1.04e-09 ***
## 
## Phi coefficients (precision model with identity link):
##       Estimate Std. Error z value Pr(&gt;|z|)    
## (phi)  1.08213    0.01123   96.36   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 
## 
## Type of estimator: ML (maximum likelihood)
## Log-likelihood:  2788 on 17 Df
## Pseudo R-squared: 0.0308
## Number of iterations: 25 (BFGS) + 2 (Fisher scoring)</code></pre>
<p>Dans une régression bêta, a variable dépendante est distribuée selon la loi bêta avec une espérance μ et une variance μ⋅(1-μ)/(1+ϕ). Ainsi, ϕ est un paramètre de précision : plus ϕ est élevé, plus la variance est faible pour une moyenne μ donnée. Le paramètre de précision ϕ peut dépendre des régresseurs comme la moyenne.</p>
<p>C’est ce qui est spécifié ci-dessous, en reliant le px au km à ce paramètre de dispersion. La valeur est élevée, la valeur p extrêmement faible, on en déduit qu’effectivement, plus le prix au kilomètre est élevé et plus faible est la variance de la distribution.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="régression.html#cb146-1" aria-hidden="true" tabindex="-1"></a>fit_beta2 <span class="ot">&lt;-</span> <span class="fu">betareg</span>(Occup<span class="sc">~</span>AgeClasse<span class="sc">+</span><span class="fu">log</span>(Distance<span class="sc">+</span><span class="dv">1</span>)<span class="sc">+</span>prix_km<span class="sc">+</span>Flex<span class="sc">+</span>Detour<span class="sc">+</span>Autoroute<span class="sc">+</span><span class="fu">log</span>(Nombre<span class="sc">+</span><span class="dv">1</span>)<span class="sc">*</span>Note<span class="sc">|</span>prix_km, <span class="at">data =</span> df)</span>
<span id="cb146-2"><a href="régression.html#cb146-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-3"><a href="régression.html#cb146-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-4"><a href="régression.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_beta2)</span></code></pre></div>
<pre><code>## 
## Call:
## betareg(formula = Occup ~ AgeClasse + log(Distance + 1) + prix_km + Flex + 
##     Detour + Autoroute + log(Nombre + 1) * Note | prix_km, data = df)
## 
## Standardized weighted residuals 2:
##     Min      1Q  Median      3Q     Max 
## -2.8774 -0.4693 -0.1836  0.1952  4.4017 
## 
## Coefficients (mean model with logit link):
##                              Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                   0.36456    0.34639   1.052  0.29259    
## AgeClasse30                  -0.04898    0.03093  -1.583  0.11332    
## AgeClasse40                  -0.30011    0.03558  -8.436  &lt; 2e-16 ***
## AgeClasse50                  -0.19509    0.03957  -4.930 8.20e-07 ***
## AgeClasse60                  -0.13058    0.04488  -2.909  0.00362 ** 
## AgeClasse70                  -0.21690    0.09991  -2.171  0.02992 *  
## log(Distance + 1)             0.12737    0.02497   5.100 3.39e-07 ***
## prix_km                     -16.90573    1.66364 -10.162  &lt; 2e-16 ***
## FlexPas d&#39;indication          0.03339    0.02530   1.320  0.18690    
## FlexVoir avec le conducteur  -0.06949    0.10821  -0.642  0.52076    
## DetourDe 15 minutes max      -0.00998    0.02496  -0.400  0.68922    
## DetourPlus de 15 mn          -0.30605    0.11831  -2.587  0.00969 ** 
## AutorouteOui                  0.52620    0.06900   7.627 2.41e-14 ***
## log(Nombre + 1)              -0.84903    0.13213  -6.426 1.31e-10 ***
## Note                         -0.04752    0.06600  -0.720  0.47155    
## log(Nombre + 1):Note          0.18104    0.02943   6.152 7.64e-10 ***
## 
## Phi coefficients (precision model with log link):
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  -0.6573     0.0877  -7.495 6.63e-14 ***
## prix_km      12.1320     1.4288   8.491  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 
## 
## Type of estimator: ML (maximum likelihood)
## Log-likelihood:  2826 on 18 Df
## Pseudo R-squared: 0.03075
## Number of iterations: 29 (BFGS) + 3 (Fisher scoring)</code></pre>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clus.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="un-cas-danalyse-de-survie.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/09-regression.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
