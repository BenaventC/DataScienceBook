<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 3 Prise en main de r | Introduction aux Data Sciences/nAvec r</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 3 Prise en main de r | Introduction aux Data Sciences/nAvec r" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 3 Prise en main de r | Introduction aux Data Sciences/nAvec r" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-10-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="analyses-univariées.html"/>
<script src="libs/header-attrs-2.17/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Book</a></li>

<li class="divider"></li>
<li><a href="index.html#avant-propos" id="toc-avant-propos"><span class="toc-section-number">1</span> Avant propos<span></span></a>
<ul>
<li><a href="index.html#plan-du-manuel" id="toc-plan-du-manuel"><span class="toc-section-number">1.1</span> Plan du manuel<span></span></a></li>
<li><a href="index.html#les-jeux-de-données" id="toc-les-jeux-de-données"><span class="toc-section-number">1.2</span> Les jeux de données<span></span></a></li>
<li><a href="index.html#le-cadre-technique-et-les-packages-utilisés" id="toc-le-cadre-technique-et-les-packages-utilisés"><span class="toc-section-number">1.3</span> Le cadre technique et les packages utilisés<span></span></a></li>
</ul></li>
<li><a href="intro.html#intro" id="toc-intro"><span class="toc-section-number">2</span> Introduction aux data sciences<span></span></a>
<ul>
<li><a href="intro.html#science-art-technique-et-pratiques" id="toc-science-art-technique-et-pratiques"><span class="toc-section-number">2.1</span> Science, art, technique et pratiques<span></span></a></li>
<li><a href="intro.html#une-courte-histoires-des-logiciels-statistiques" id="toc-une-courte-histoires-des-logiciels-statistiques"><span class="toc-section-number">2.2</span> Une courte histoires des logiciels statistiques<span></span></a></li>
<li><a href="intro.html#le-processus-de-traitement-des-données" id="toc-le-processus-de-traitement-des-données"><span class="toc-section-number">2.3</span> Le processus de traitement des données<span></span></a></li>
<li><a href="intro.html#les-facteurs-sociaux-du-développement-des-datasciences" id="toc-les-facteurs-sociaux-du-développement-des-datasciences"><span class="toc-section-number">2.4</span> Les facteurs sociaux du développement des datasciences<span></span></a>
<ul>
<li><a href="intro.html#une-lingua-franca" id="toc-une-lingua-franca"><span class="toc-section-number">2.4.1</span> Une lingua franca<span></span></a></li>
<li><a href="intro.html#une-communauté" id="toc-une-communauté"><span class="toc-section-number">2.4.2</span> Une communauté<span></span></a></li>
<li><a href="intro.html#la-multiplication-des-sources-de-données." id="toc-la-multiplication-des-sources-de-données."><span class="toc-section-number">2.4.3</span> La multiplication des sources de données.<span></span></a></li>
<li><a href="intro.html#de-la-statistique-à-lia" id="toc-de-la-statistique-à-lia"><span class="toc-section-number">2.4.4</span> de la statistique à l’IA<span></span></a></li>
</ul></li>
<li><a href="intro.html#conclusion" id="toc-conclusion"><span class="toc-section-number">2.5</span> Conclusion<span></span></a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#prise-en-main-de-r" id="toc-prise-en-main-de-r"><span class="toc-section-number">3</span> Prise en main de r<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#la-convention-du-rmarkdown" id="toc-la-convention-du-rmarkdown"><span class="toc-section-number">3.1</span> La convention du Rmarkdown<span></span></a></li>
<li><a href="prise-en-main-de-r.html#lire-les-données" id="toc-lire-les-données"><span class="toc-section-number">3.2</span> Lire les données<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#la-diversité-des-formats" id="toc-la-diversité-des-formats"><span class="toc-section-number">3.2.1</span> La diversité des formats<span></span></a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#dplyr-pour-manipuler-les-données" id="toc-dplyr-pour-manipuler-les-données"><span class="toc-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#des-pipes" id="toc-des-pipes"><span class="toc-section-number">3.3.1</span> Des pipes %&gt;%<span></span></a></li>
<li><a href="prise-en-main-de-r.html#des-verbes" id="toc-des-verbes"><span class="toc-section-number">3.3.2</span> Des verbes<span></span></a></li>
<li><a href="prise-en-main-de-r.html#fusionner-les-données" id="toc-fusionner-les-données"><span class="toc-section-number">3.3.3</span> Fusionner les données<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyses-univariées.html#analyses-univariées" id="toc-analyses-univariées"><span class="toc-section-number">4</span> Analyses univariées<span></span></a>
<ul>
<li><a href="analyses-univariées.html#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques"><span class="toc-section-number">4.1</span> La grammaire des graphiques<span></span></a>
<ul>
<li><a href="analyses-univariées.html#un-modèle-en-couche" id="toc-un-modèle-en-couche"><span class="toc-section-number">4.1.1</span> Un modèle en couche<span></span></a></li>
<li><a href="analyses-univariées.html#une-typologie-des-représentations" id="toc-une-typologie-des-représentations"><span class="toc-section-number">4.1.2</span> Une typologie des représentations<span></span></a></li>
<li><a href="analyses-univariées.html#lesthétique" id="toc-lesthétique"><span class="toc-section-number">4.1.3</span> L’esthétique<span></span></a></li>
</ul></li>
<li><a href="analyses-univariées.html#une-étude-de-cas" id="toc-une-étude-de-cas"><span class="toc-section-number">4.2</span> Une étude de cas<span></span></a>
<ul>
<li><a href="analyses-univariées.html#le-cas-des-variables-quantitatives" id="toc-le-cas-des-variables-quantitatives"><span class="toc-section-number">4.2.1</span> Le cas des variables quantitatives<span></span></a></li>
<li><a href="analyses-univariées.html#quand-la-variable-est-qualitative" id="toc-quand-la-variable-est-qualitative"><span class="toc-section-number">4.2.2</span> Quand la variable est qualitative<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyse-bi-variée.html#analyse-bi-variée" id="toc-analyse-bi-variée"><span class="toc-section-number">5</span> Analyse bi variée<span></span></a>
<ul>
<li><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" id="toc-diagrammes-xy---la-magie-des-corrélations"><span class="toc-section-number">5.1</span> Diagrammes xy - la magie des corrélations<span></span></a></li>
<li><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" id="toc-comparer-les-distributions-et-des-moyennes"><span class="toc-section-number">5.2</span> Comparer les distributions et des moyennes<span></span></a>
<ul>
<li><a href="analyse-bi-variée.html#comparaison-de-moyennes" id="toc-comparaison-de-moyennes"><span class="toc-section-number">5.2.1</span> Comparaison de moyennes<span></span></a></li>
<li><a href="analyse-bi-variée.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">5.2.2</span> Deux variables qualitatives<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#analyse-graphique-multivariée" id="toc-analyse-graphique-multivariée"><span class="toc-section-number">6</span> Analyse graphique multivariée<span></span></a>
<ul>
<li><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail" id="toc-la-confiance-institutionnelle-en-détail"><span class="toc-section-number">6.1</span> La confiance institutionnelle, en détail<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#table-de-corrélation" id="toc-table-de-corrélation"><span class="toc-section-number">6.2</span> Table de corrélation<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020" id="toc-un-cas-plus-complexe-présidentielle2020"><span class="toc-section-number">6.3</span> Un cas plus complexe : présidentielle2020<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" id="toc-une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><span class="toc-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre<span></span></a>
<ul>
<li><a href="analyse-graphique-multivariée.html#effet-sondeur" id="toc-effet-sondeur"><span class="toc-section-number">6.4.1</span> effet sondeur<span></span></a></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur" id="toc-modéliser-le-biais-du-sondeur"><span class="toc-section-number">6.5</span> Modéliser le biais du sondeur<span></span></a></li>
</ul></li>
<li><a href="données-géographique.html#données-géographique" id="toc-données-géographique"><span class="toc-section-number">7</span> Données géographique<span></span></a></li>
<li><a href="analyses-factorielles.html#analyses-factorielles" id="toc-analyses-factorielles"><span class="toc-section-number">8</span> Analyses factorielles<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#origine-et-histoire" id="toc-origine-et-histoire"><span class="toc-section-number">8.1</span> Origine et histoire<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie" id="toc-une-petite-histoire-de-la-psychométrie"><span class="toc-section-number">8.1.1</span> Une petite histoire de la psychométrie<span></span></a></li>
<li><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales" id="toc-lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><span class="toc-section-number">8.1.2</span> L’école française de l’analyse des données appliquée aux sciences sociales<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques" id="toc-le-modèle-factoriel-des-tests-psychologiques"><span class="toc-section-number">8.2</span> Le modèle factoriel des tests psychologiques<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#un-peu-de-théorie" id="toc-un-peu-de-théorie"><span class="toc-section-number">8.2.1</span> Un peu de théorie<span></span></a></li>
<li><a href="analyses-factorielles.html#lestimation" id="toc-lestimation"><span class="toc-section-number">8.2.2</span> L’estimation<span></span></a></li>
<li><a href="analyses-factorielles.html#ressources" id="toc-ressources"><span class="toc-section-number">8.2.3</span> Ressources<span></span></a></li>
<li><a href="analyses-factorielles.html#cas-dapplication" id="toc-cas-dapplication"><span class="toc-section-number">8.2.4</span> Cas d’application<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation" id="toc-examen-de-la-matrice-de-corrélation"><span class="toc-section-number">8.3</span> Examen de la matrice de corrélation<span></span></a></li>
<li><a href="analyses-factorielles.html#modèle-factoriel" id="toc-modèle-factoriel"><span class="toc-section-number">8.4</span> Modèle factoriel<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#le-problème-théorique" id="toc-le-problème-théorique"><span class="toc-section-number">8.4.1</span> le problème théorique<span></span></a></li>
<li><a href="analyses-factorielles.html#une-représentation-symbolique" id="toc-une-représentation-symbolique"><span class="toc-section-number">8.4.2</span> Une représentation symbolique<span></span></a></li>
<li><a href="analyses-factorielles.html#application" id="toc-application"><span class="toc-section-number">8.4.3</span> Application<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc" id="toc-une-généralisation-de-lacp-lafc"><span class="toc-section-number">8.5</span> Une généralisation de l’ACP : l’AFC<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#afcm-multiple" id="toc-afcm-multiple"><span class="toc-section-number">8.5.1</span> AFCM multiple<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#développements" id="toc-développements"><span class="toc-section-number">8.6</span> Développements<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#le-svd" id="toc-le-svd"><span class="toc-section-number">8.6.1</span> le SVD<span></span></a></li>
<li><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante" id="toc-acm-analyse-canonique-analyse-discriminante"><span class="toc-section-number">8.6.2</span> ACM , analyse canonique , analyse discriminante<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#en-conclusion" id="toc-en-conclusion"><span class="toc-section-number">8.7</span> En conclusion<span></span></a></li>
</ul></li>
<li><a href="clus.html#clus" id="toc-clus"><span class="toc-section-number">9</span> Clustering<span></span></a>
<ul>
<li><a href="clus.html#les-méthodes-hiérarchiques-ascendantes" id="toc-les-méthodes-hiérarchiques-ascendantes"><span class="toc-section-number">9.1</span> Les méthodes hiérarchiques ascendantes<span></span></a>
<ul>
<li><a href="clus.html#mise-en-oeuvre" id="toc-mise-en-oeuvre"><span class="toc-section-number">9.1.1</span> Mise en oeuvre<span></span></a></li>
</ul></li>
<li><a href="clus.html#segmentation-simplifiée" id="toc-segmentation-simplifiée"><span class="toc-section-number">9.2</span> segmentation simplifiée<span></span></a></li>
<li><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" id="toc-tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><span class="toc-section-number">9.3</span> tableaux croisés de la typologie et des critères sociaux démos<span></span></a></li>
<li><a href="clus.html#afcm-pour-une-synthèse" id="toc-afcm-pour-une-synthèse"><span class="toc-section-number">9.4</span> AFCM pour une synthèse<span></span></a>
<ul>
<li><a href="clus.html#forces-et-limites" id="toc-forces-et-limites"><span class="toc-section-number">9.4.1</span> Forces et limites<span></span></a></li>
</ul></li>
<li><a href="clus.html#les-méthodes-non-hiérarchiques" id="toc-les-méthodes-non-hiérarchiques"><span class="toc-section-number">9.5</span> Les méthodes non-hiérarchiques<span></span></a>
<ul>
<li><a href="clus.html#principe" id="toc-principe"><span class="toc-section-number">9.5.1</span> principe<span></span></a></li>
<li><a href="clus.html#application-1" id="toc-application-1"><span class="toc-section-number">9.5.2</span> Application<span></span></a></li>
<li><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe" id="toc-le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><span class="toc-section-number">9.5.3</span> Le problème de la détermination du nombre optimal de groupe<span></span></a></li>
</ul></li>
<li><a href="clus.html#autres-méthodes" id="toc-autres-méthodes"><span class="toc-section-number">9.6</span> Autres méthodes<span></span></a></li>
<li><a href="clus.html#conclusion-1" id="toc-conclusion-1"><span class="toc-section-number">9.7</span> Conclusion<span></span></a></li>
</ul></li>
<li><a href="régression.html#régression" id="toc-régression"><span class="toc-section-number">10</span> 9 - Régression<span></span></a>
<ul>
<li><a href="régression.html#une-étude-de-cas-les-offres-blablacar" id="toc-une-étude-de-cas-les-offres-blablacar"><span class="toc-section-number">10.1</span> Une étude de cas : les offres Blablacar<span></span></a>
<ul>
<li><a href="régression.html#les-caractérisques-de-loffre" id="toc-les-caractérisques-de-loffre"><span class="toc-section-number">10.1.1</span> Les caractérisques de l’offre<span></span></a></li>
</ul></li>
<li><a href="régression.html#notes-prix-et-taux-doccupations" id="toc-notes-prix-et-taux-doccupations"><span class="toc-section-number">10.2</span> Notes, prix et taux d’occupations<span></span></a></li>
<li><a href="régression.html#analyse-des-prix" id="toc-analyse-des-prix"><span class="toc-section-number">10.3</span> Analyse des prix<span></span></a></li>
<li><a href="régression.html#analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" id="toc-analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation"><span class="toc-section-number">10.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?<span></span></a>
<ul>
<li><a href="régression.html#un-modèle-ols" id="toc-un-modèle-ols"><span class="toc-section-number">10.4.1</span> Un modèle OLS<span></span></a></li>
</ul></li>
<li><a href="régression.html#autres-modèles" id="toc-autres-modèles"><span class="toc-section-number">10.5</span> Autres modèles<span></span></a>
<ul>
<li><a href="régression.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">10.5.1</span> Régression logistique<span></span></a></li>
<li><a href="régression.html#modèle-de-comptage" id="toc-modèle-de-comptage"><span class="toc-section-number">10.5.2</span> Modèle de comptage<span></span></a></li>
<li><a href="régression.html#modèle-de-régression-beta" id="toc-modèle-de-régression-beta"><span class="toc-section-number">10.5.3</span> Modèle de régression beta<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="modèle-de-survie.html#modèle-de-survie" id="toc-modèle-de-survie"><span class="toc-section-number">11</span> 10 - Modèle de survie<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#les-modèles-linéaires-hiérarchiques-hlm" id="toc-les-modèles-linéaires-hiérarchiques-hlm"><span class="toc-section-number">12</span> Les modèles linéaires hiérarchiques (HLM)<span></span></a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#en-guise-dintroduction" id="toc-en-guise-dintroduction"><span class="toc-section-number">12.1</span> en guise d’introduction<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#une-application" id="toc-une-application"><span class="toc-section-number">12.2</span> Une application<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#sem-avec-lavaan" id="toc-sem-avec-lavaan"><span class="toc-section-number">12.3</span> Sem avec Lavaan<span></span></a></li>
</ul></li>
<li><a href="arbres-de-décision.html#arbres-de-décision" id="toc-arbres-de-décision"><span class="toc-section-number">13</span> Arbres de Décision<span></span></a>
<ul>
<li><a href="arbres-de-décision.html#construire-un-arbre-de-décision" id="toc-construire-un-arbre-de-décision"><span class="toc-section-number">13.1</span> Construire un arbre de décision<span></span></a></li>
<li><a href="arbres-de-décision.html#mise-en-oeuvre-avec-partykit" id="toc-mise-en-oeuvre-avec-partykit"><span class="toc-section-number">13.2</span> Mise en oeuvre avec Partykit<span></span></a></li>
<li><a href="arbres-de-décision.html#forêts-aléatoires" id="toc-forêts-aléatoires"><span class="toc-section-number">13.3</span> forêts aléatoires<span></span></a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#premiers-éléments-de-machine-learning" id="toc-premiers-éléments-de-machine-learning"><span class="toc-section-number">14</span> Premiers éléments de Machine Learning<span></span></a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#une-typologie-de-modèles" id="toc-une-typologie-de-modèles"><span class="toc-section-number">14.1</span> une typologie de modèles<span></span></a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-linéaire" id="toc-le-modèle-linéaire"><span class="toc-section-number">14.1.1</span> le modèle linéaire<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-logit" id="toc-le-modèle-logit"><span class="toc-section-number">14.1.2</span> le modèle logit<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-modèles-à-régularisation" id="toc-les-modèles-à-régularisation"><span class="toc-section-number">14.1.3</span> les modèles à régularisation<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-random-forest" id="toc-les-random-forest"><span class="toc-section-number">14.1.4</span> les random forest<span></span></a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#forêts-aléatoires-1" id="toc-forêts-aléatoires-1"><span class="toc-section-number">14.2</span> forêts aléatoires<span></span></a></li>
</ul></li>
<li><a href="annexes.html#annexes" id="toc-annexes"><span class="toc-section-number">15</span> 20 Annexes<span></span></a>
<ul>
<li><a href="annexes.html#données-eric-ess" id="toc-données-eric-ess"><span class="toc-section-number">15.1</span> Données Eric-ESS<span></span></a></li>
<li><a href="annexes.html#fichier-airbnb-bruxelles" id="toc-fichier-airbnb-bruxelles"><span class="toc-section-number">15.2</span> fichier Airbnb Bruxelles<span></span></a></li>
<li><a href="annexes.html#section" id="toc-section"><span class="toc-section-number">15.3</span> </a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences/nAvec r</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prise-en-main-de-r" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapitre 3</span> Prise en main de r<a href="prise-en-main-de-r.html#prise-en-main-de-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Pour démarrer :</p>
<ul>
<li>1 - Télécharger et installer r sur le site du Comprehensive r Archive Network</li>
<li>2 - Télécharger et installer Rstudio.(version free)</li>
<li>3 - Dans le cadre de cet atelier, on adopte la méthode du <a href="https://rmarkdown.rstudio.com/lesson-1.html">rmarkdown</a>. On recommande fortement de lire l’ouvrage de référence, même si la prise en main est très rapide.</li>
<li>4 - Il est désormais indispensable d’utiliser le package <code>tidyverse</code> et en particulier les fonctions de manipulation et de pipe (%&gt;%) fournies par <code>dplyr</code>. Ce sera donc le premier package à installer (attention, il appele de nombreuses dépendences, l’installation peut prendre plusieurs minutes )</li>
</ul>
<div id="la-convention-du-rmarkdown" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> La convention du Rmarkdown<a href="prise-en-main-de-r.html#la-convention-du-rmarkdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Différentes manières d’interagir avec r sont possibles : la première est le mode console, pour de petite opérations et un utilisateur chevronné, celà peut être commode car rapide mais très rapidement on sera amené à enregistrer les opérations dans des scripts. Une idée novatrice a été d’intégrer l’ensemble des élements dans un seul document : le script découpé en petits éléments : des chunks, le commentaire et l’analyse verbabe dans un format texte, et le résultat. Dans l’univers python il s’agit des carnets Jupiter, pour r c’est le rmarkdown.</p>
<p>C’est un dialecte du markdown générique adapté au langage r. On recommande au lecteur d’en lire <a href="https://bookdown.org/yihui/rmarkdown/">le manuel</a> et de le garder dans ses onglets.</p>
<p>Quelques éléments de base :</p>
<p>un document markdown est composé de plusieurs éléments</p>
<ol style="list-style-type: decimal">
<li>Yalm : dans cet entête les éléments essentiels sont définis et paramétrés</li>
<li>Texte : il suit les conventions de mise en forme du html :
<ul>
<li>des # pour les niveau de titres</li>
<li>une syntaxe (x)[.xxx] pour des liens vers les URLS ou des images.</li>
</ul></li>
<li>Les chunks sont isolés par 3 tiks au début et à la fin.</li>
<li>Résultats apparaissent sous les chunks après avoir été exécutés</li>
</ol>
<p>Ce document peut être publié sous différents formats : html, pdf ou même word.</p>
<p>Il comprend les éléments suivants :</p>
<ul>
<li>Plan</li>
<li>Texte</li>
<li>Code</li>
<li>Résultats</li>
<li>Bibliographie</li>
<li>Références</li>
<li>Liens</li>
<li>Images</li>
</ul>
</div>
<div id="lire-les-données" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Lire les données<a href="prise-en-main-de-r.html#lire-les-données" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La première étape c’est la lecture des données. On commence par lecture de fichiers locaux, dont les formats sont multiples : csv, tsv, xlsx, Spss, etc… Pour chacun d’eux existe une fonction dédiée.
Le package <code>readr</code> contribue à cette tâche pour les fichiers *.csv.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="prise-en-main-de-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>)</span>
<span id="cb2-2"><a href="prise-en-main-de-r.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df,<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 16
##      id name       host_id host_~1 neigh~2 neigh~3 latit~4 longi~5 room_~6 price
##   &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;
## 1  2352 Triplex-2~    2582 Oda     NA      Molenb~    50.9    4.31 Entire~    91
## 2  2354 COURT/Lon~    2582 Oda     NA      Molenb~    50.9    4.31 Entire~    74
## 3 45145 B&amp;B Welco~  199370 &lt;NA&gt;    NA      Bruxel~    50.9    4.37 Hotel ~   120
## 4 48180 Top Apart~  219560 Ahmet   NA      Woluwe~    50.8    4.41 Entire~   200
## 5 52796 Bright ap~  244722 Pierre  NA      Ixelles    50.8    4.36 Entire~    74
## # ... with 6 more variables: minimum_nights &lt;dbl&gt;, number_of_reviews &lt;dbl&gt;,
## #   last_review &lt;date&gt;, reviews_per_month &lt;dbl&gt;,
## #   calculated_host_listings_count &lt;dbl&gt;, availability_365 &lt;dbl&gt;, and
## #   abbreviated variable names 1: host_name, 2: neighbourhood_group,
## #   3: neighbourhood, 4: latitude, 5: longitude, 6: room_type</code></pre>
<p>Il est possible aussi d’accéder en direct aux données du web, c’est bien utile pour s’assurer que les données sont bien fraîches. Par exemple une connexion à <a href="https://github.com/nsppolls/nsppolls">Nsppolls</a> qui propose une compilation de tous les sondages d’intention de vote de la présidentielle 2022.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="prise-en-main-de-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a>df_pol <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;https://raw.githubusercontent.com/nsppolls/nsppolls/master/presidentielle.csv&quot;</span>, </span>
<span id="cb4-2"><a href="prise-en-main-de-r.html#cb4-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">delim =</span> <span class="st">&quot;,&quot;</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Bien d’autre possibilités sont offertes, on pourra utiliser des API, des programmes de scrapping., ire en bouche des fichiers dans un répertoire, interroger des bases SQL des <a href="https://sql.sh/sgbd">SGBD</a>) ou d’autres systèmes.</p>
<div id="la-diversité-des-formats" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> La diversité des formats<a href="prise-en-main-de-r.html#la-diversité-des-formats" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Peu de formats échappent à r, ils peuvent faire appel à des packages spécifiques</p>
<ul>
<li>excell</li>
<li>Json</li>
<li>shape et autre données géographiques.</li>
<li>les formats bibliographiques sont plus exotique : bib et ris</li>
<li>les xml pourront donner des maux de têtes.</li>
</ul>
</div>
</div>
<div id="dplyr-pour-manipuler-les-données" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données<a href="prise-en-main-de-r.html#dplyr-pour-manipuler-les-données" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dès lors que les données sont chargées en mémoire il va souvent être nécessaire d’en travailler, l’aspect et la structure. L’aspect concerne les formats et les significations, les recodages. La structure est relative à la forme des tableaux. Il faudra souvent traiter les données brutes pour proposer à nos modèles des structures appropriées.</p>
<p><code>Dplyr</code> est un des packages essentiels de la suite tidyverse. Il permet de manipuler aisément les données et mérite une étude approfondie. Un <a href="https://dplyr.tidyverse.org/articles/dplyr.html">point de départ</a> ou en français : <a href="http://larmarange.github.io/analyse-R/manipuler-les-donnees-avec-dplyr.html">dplyr</a>.</p>
<p>Deux idées sont au coeur de <code>Dplyr</code> d’abord celle du pipe, ensuite celle du verbe. <code>Dplyr</code> encourage une approche processus et performative.</p>
<div id="des-pipes" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Des pipes %&gt;%<a href="prise-en-main-de-r.html#des-pipes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Une grand part de l’intérêt de dplyr est de reprendre un opérateur de magritr très utile : le pipe noté <code>data %&gt;% f() %&gt;% g()..</code>. Celui ci permet de passer le résultat de l’opération à gauche f() sur les données <code>data</code>, dans la fonction g() à droite.</p>
<p>Un exemple simple : dans la ligne de code suivante, une première fonction lit le fichier CSV, et envoie le résultat de cette lecture dans une fonction graphique élémentaire: compter les occurrences des modalités de la variable room_type.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="prise-en-main-de-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="prise-en-main-de-r.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>room_type))<span class="sc">+</span></span>
<span id="cb5-3"><a href="prise-en-main-de-r.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb5-4"><a href="prise-en-main-de-r.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb5-5"><a href="prise-en-main-de-r.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span> <span class="st">&quot;Fréquence&quot;</span>, <span class="at">title=</span><span class="st">&quot; Distribution des types de logement à Bruxelles en 2020&quot;</span>)</span>
<span id="cb5-6"><a href="prise-en-main-de-r.html#cb5-6" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0203-1.png" width="672" /></p>
</div>
<div id="des-verbes" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Des verbes<a href="prise-en-main-de-r.html#des-verbes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’originalité de <code>dplyr</code>est de définir les fonctions comme des verbes. Chaque verbe désigne une action particulière. On va les examiner progressivement.
* transformer une variable,
* filtrer les observations selon un critère,
* isoler des variables,
* les grouper pour en calculer des résultats statistiques (somme, moyenne, variance, max min etc),
* les déployer selon un format long ou les distribuer en différents critères,
* les fusionner enfin.</p>
<div id="mutate" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Mutate<a href="prise-en-main-de-r.html#mutate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>En Français c’est “transformer”. On modifie la valeur d’une variable par une fonction plus ou moins complexe, éventuellement en ajoutant des conditions.</p>
<p>Dans notre exemple, faisant au plus simple, puisque la distribution est asymétrique, une transformation du prix par les log10 peut donner des résultats intéressants. Et c’est le cas, on retrouve une distribution qui semble être gaussienne.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="prise-en-main-de-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="prise-en-main-de-r.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price=</span><span class="fu">log10</span>(price))<span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="prise-en-main-de-r.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>price))<span class="sc">+</span></span>
<span id="cb6-4"><a href="prise-en-main-de-r.html#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb6-5"><a href="prise-en-main-de-r.html#cb6-5" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0204-1.png" width="672" /></p>
</div>
<div id="filter" class="section level4 hasAnchor" number="3.3.2.2">
<h4><span class="header-section-number">3.3.2.2</span> Filter<a href="prise-en-main-de-r.html#filter" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>On peut vouloir se concentrer sur une sous population. Par exemple les chambres privées.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="prise-en-main-de-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="prise-en-main-de-r.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(room_type<span class="sc">==</span><span class="st">&quot;Private room&quot;</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="prise-en-main-de-r.html#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">price=</span>price)<span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="prise-en-main-de-r.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">log10</span>(price)))<span class="sc">+</span></span>
<span id="cb7-5"><a href="prise-en-main-de-r.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb7-6"><a href="prise-en-main-de-r.html#cb7-6" aria-hidden="true" tabindex="-1"></a>g</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0205-1.png" width="672" /></p>
</div>
<div id="select" class="section level4 hasAnchor" number="3.3.2.3">
<h4><span class="header-section-number">3.3.2.3</span> select<a href="prise-en-main-de-r.html#select" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>On peut sélectionner des colonnes pour créer un tableau spécifique. On en profite pour introduire ‘<a href="https://ardata-fr.github.io/flextable-book/index.html">flextable</a>’ , une solution élégante pour éditer des tableaux en html.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="prise-en-main-de-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="prise-en-main-de-r.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(room_type,price) </span>
<span id="cb8-3"><a href="prise-en-main-de-r.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="prise-en-main-de-r.html#cb8-4" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> <span class="fu">flextable</span>(foo[ <span class="fu">sample.int</span>(<span class="dv">10</span>),])<span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="prise-en-main-de-r.html#cb8-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">set_header_labels</span>(<span class="at">room_type=</span><span class="st">&quot;Type de logement&quot;</span>,</span>
<span id="cb8-6"><a href="prise-en-main-de-r.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">price =</span> <span class="st">&quot;Prix en euros&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="prise-en-main-de-r.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_vanilla</span>()<span class="sc">%&gt;%</span> <span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">9</span>)<span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="prise-en-main-de-r.html#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>()</span>
<span id="cb8-9"><a href="prise-en-main-de-r.html#cb8-9" aria-hidden="true" tabindex="-1"></a>ft</span></code></pre></div>
<template id="2b5e9159-da71-4e41-9b52-aeba01f671b4"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-bad59688{border-collapse:collapse;}.cl-bac83236{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bac83237{font-family:'Arial';font-size:9pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bac85932{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bac85933{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bac8ce08{width:90.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce09{width:114pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0a{width:90.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0b{width:114pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0c{width:90.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0d{width:114pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0e{width:90.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bac8ce0f{width:114pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-bad59688'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0f"><p class="cl-bac85932"><span class="cl-bac83236">Type de logement</span></p></td><td class="cl-bac8ce0e"><p class="cl-bac85933"><span class="cl-bac83236">Prix en euros</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce09"><p class="cl-bac85932"><span class="cl-bac83237">Hotel room</span></p></td><td class="cl-bac8ce08"><p class="cl-bac85933"><span class="cl-bac83237">120</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">65</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">80</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">74</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">80</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">91</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">85</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">200</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0d"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0c"><p class="cl-bac85933"><span class="cl-bac83237">95</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bac8ce0b"><p class="cl-bac85932"><span class="cl-bac83237">Entire home/apt</span></p></td><td class="cl-bac8ce0a"><p class="cl-bac85933"><span class="cl-bac83237">74</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="de8d0921-8d67-4943-bfc3-ae4ba955c455"></div>
<script>
var dest = document.getElementById("de8d0921-8d67-4943-bfc3-ae4ba955c455");
var template = document.getElementById("2b5e9159-da71-4e41-9b52-aeba01f671b4");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="group_by-et-summarize" class="section level4 hasAnchor" number="3.3.2.4">
<h4><span class="header-section-number">3.3.2.4</span> Group_by et summarize<a href="prise-en-main-de-r.html#group_by-et-summarize" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>c’est une opération clé, en groupant les observations selon les modalités d’une variables, on peut construire des tableaux agrégés avec <code>summarise</code> qui permet de calculer de nombreuses statistiques : somme, moyenne, variance, max, min .. à travers les groupes.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="prise-en-main-de-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="prise-en-main-de-r.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(neighbourhood, price)<span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="prise-en-main-de-r.html#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(neighbourhood ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="prise-en-main-de-r.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">averageprice=</span><span class="fu">round</span>(<span class="fu">mean</span>(price),<span class="dv">1</span>),</span>
<span id="cb9-5"><a href="prise-en-main-de-r.html#cb9-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">nombreoffre=</span><span class="fu">n</span>())</span>
<span id="cb9-6"><a href="prise-en-main-de-r.html#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="prise-en-main-de-r.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#mise en forme flextable</span></span>
<span id="cb9-8"><a href="prise-en-main-de-r.html#cb9-8" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> <span class="fu">flextable</span>(foo)<span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="prise-en-main-de-r.html#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_header_labels</span>(<span class="at">neighbourhood=</span><span class="st">&quot;Quartier&quot;</span>,</span>
<span id="cb9-10"><a href="prise-en-main-de-r.html#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">averageprice =</span> <span class="st">&quot;Prix en euros&quot;</span>,</span>
<span id="cb9-11"><a href="prise-en-main-de-r.html#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">nombreoffre=</span><span class="st">&quot;Nombre d&#39;offre&quot;</span>, <span class="at">size=</span><span class="dv">9</span>)<span class="sc">%&gt;%</span>  </span>
<span id="cb9-12"><a href="prise-en-main-de-r.html#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fontsize</span>(<span class="at">size =</span> <span class="dv">9</span>)<span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="prise-en-main-de-r.html#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_vanilla</span>() </span>
<span id="cb9-14"><a href="prise-en-main-de-r.html#cb9-14" aria-hidden="true" tabindex="-1"></a>ft</span></code></pre></div>
<template id="45863d91-185d-486d-95d2-15bf4bc04094"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-bb493eee{border-collapse:collapse;}.cl-bb3ebed8{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bb3ebed9{font-family:'Arial';font-size:9pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bb3ebeda{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bb3ebedb{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bb3f33ae{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33af{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b0{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b1{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b2{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b3{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b4{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bb3f33b5{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-bb493eee'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b5"><p class="cl-bb3ebeda"><span class="cl-bb3ebed8">Quartier</span></p></td><td class="cl-bb3f33b4"><p class="cl-bb3ebedb"><span class="cl-bb3ebed8">Prix en euros</span></p></td><td class="cl-bb3f33b4"><p class="cl-bb3ebedb"><span class="cl-bb3ebed8">Nombre d'offre</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33ae"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Anderlecht</span></p></td><td class="cl-bb3f33af"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">71.9</span></p></td><td class="cl-bb3f33af"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">232</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Auderghem</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">66.3</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">77</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Berchem-Sainte-Agathe</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">65.9</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">31</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Bruxelles</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">91.0</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">1,759</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Etterbeek</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">75.8</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">296</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Evere</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">70.0</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">41</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Forest</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">64.9</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">226</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Ganshoren</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">50.5</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">21</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Ixelles</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">81.5</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">849</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Jette</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">70.3</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">75</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Koekelberg</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">70.7</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">37</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Molenbeek-Saint-Jean</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">67.4</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">179</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Saint-Gilles</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">76.1</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">589</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Saint-Josse-ten-Noode</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">55.2</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">136</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Schaerbeek</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">61.9</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">364</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Uccle</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">75.5</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">274</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Watermael-Boitsfort</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">74.8</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">65</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b1"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Woluwe-Saint-Lambert</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">62.5</span></p></td><td class="cl-bb3f33b0"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">121</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bb3f33b3"><p class="cl-bb3ebeda"><span class="cl-bb3ebed9">Woluwe-Saint-Pierre</span></p></td><td class="cl-bb3f33b2"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">111.0</span></p></td><td class="cl-bb3f33b2"><p class="cl-bb3ebedb"><span class="cl-bb3ebed9">81</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="85091bbe-a4f4-4679-803e-7619f74fed8b"></div>
<script>
var dest = document.getElementById("85091bbe-a4f4-4679-803e-7619f74fed8b");
var template = document.getElementById("45863d91-185d-486d-95d2-15bf4bc04094");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="pivot_wider-et-pivot_longer" class="section level4 hasAnchor" number="3.3.2.5">
<h4><span class="header-section-number">3.3.2.5</span> Pivot_wider et pivot_longer<a href="prise-en-main-de-r.html#pivot_wider-et-pivot_longer" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si pour l’habitué des feuilles de calculs, les données croisent des observations avec des variables, ce format n’est pas le seul moyen de représenter des données, et pas forcément le meilleur.</p>
<p>Une théorie des tidy data a été proposé par wickham : Un ensemble de données est une collection de valeurs, généralement des nombres (si elles sont quantitatives) ou des chaînes de caractères (si elles sont qualitatives). Les valeurs sont organisées de deux manières. Chaque valeur appartient à une variable et à une observation. Une variable contient toutes les valeurs qui mesurent le même attribut sous-jacent (comme la hauteur, la température, la durée) dans différentes unités. Une observation contient toutes les valeurs mesurées sur la même unité (comme une personne, ou un jour, ou une course) à travers les attributs.</p>
<div class="figure">
<img src="Images/tidydata_1.jpg" alt="" />
<p class="caption">merge</p>
</div>
<p>Pour passer d’un tableau individu x variable à une structure ordonnée, la fonction pivot_longer est particulièrement appropriée. En voici l’anatomie.</p>
<p><img src="Images/pivot_longer.png" alt="merge" />
Et un exemple numérique :</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="prise-en-main-de-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">&lt;-</span> foo <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="prise-en-main-de-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>neighbourhood,<span class="at">names_to=</span> <span class="st">&quot;Variables&quot;</span>,<span class="at">values_to =</span> <span class="st">&quot;Values&quot;</span>)</span>
<span id="cb10-3"><a href="prise-en-main-de-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="prise-en-main-de-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span>neighbourhood, <span class="at">y=</span>Values, <span class="at">group=</span>Variables))<span class="sc">+</span></span>
<span id="cb10-5"><a href="prise-en-main-de-r.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span><span class="fu">facet_wrap</span>(<span class="fu">vars</span>(Variables),<span class="at">scales=</span><span class="st">&quot;free&quot;</span>)<span class="sc">+</span></span>
<span id="cb10-6"><a href="prise-en-main-de-r.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0208-1.png" width="672" /></p>
<p>L’opération inverste est de partir d’un tableau long vers un tableau large.
<img src="Images/pivot_wider.png" alt="pivot_wider" /></p>
<p>On remarquera que l’usage de cette fonction est nécessaire dans l’emploi de ggplot qui suit la logique des tidy data, ou données ordonnées</p>
</div>
</div>
<div id="fusionner-les-données" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Fusionner les données<a href="prise-en-main-de-r.html#fusionner-les-données" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>On sera souvent amené à construire des tableaux de données en les enrichissant par d’autres tableaux et à fusionner les données.</p>
<p>Le cas le plus simple est d’ajouter d’autres observations à un fichier de données. On distingue deux cas :</p>
<ul>
<li>les deux tableaux concernent les mêmes individus classé dans le même ordre, seules les colonnes diffèrent. On utilisera la fonction <code>cbind()</code></li>
<li>si les variables sont identiques mais que les individus sont différents on peut concatène des données avec <code>rbind()</code> (L’équivalent de DPLYR est row_bind et column_bind)</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="prise-en-main-de-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>x1<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)) <span class="sc">%&gt;%</span><span class="fu">rename</span>(<span class="at">x=</span><span class="dv">1</span>)</span>
<span id="cb11-2"><a href="prise-en-main-de-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="prise-en-main-de-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>,<span class="st">&quot;e&quot;</span>))  <span class="sc">%&gt;%</span><span class="fu">rename</span>(<span class="at">y=</span><span class="dv">1</span>)</span>
<span id="cb11-4"><a href="prise-en-main-de-r.html#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="prise-en-main-de-r.html#cb11-5" aria-hidden="true" tabindex="-1"></a>z<span class="ot">&lt;-</span><span class="fu">cbind</span>(x1,y)</span>
<span id="cb11-6"><a href="prise-en-main-de-r.html#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="prise-en-main-de-r.html#cb11-7" aria-hidden="true" tabindex="-1"></a>ft<span class="ot">&lt;-</span><span class="fu">flextable</span>(z)</span>
<span id="cb11-8"><a href="prise-en-main-de-r.html#cb11-8" aria-hidden="true" tabindex="-1"></a>ft</span></code></pre></div>
<template id="771cd9df-6c86-4fb2-b3db-ee6fb8ede495"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-bc1f973c{border-collapse:collapse;}.cl-bbcf8b3e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bbcfb230{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bbcfb231{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bbcfd922{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bbcfd923{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bbcfd924{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bbcfd925{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bbcfd926{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bbcfd927{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-bc1f973c'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd926"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">x</span></p></td><td class="cl-bbcfd927"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">y</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd922"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">1</span></p></td><td class="cl-bbcfd923"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">a</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd922"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">2</span></p></td><td class="cl-bbcfd923"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">b</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd922"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">3</span></p></td><td class="cl-bbcfd923"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">c</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd922"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">4</span></p></td><td class="cl-bbcfd923"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">d</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bbcfd924"><p class="cl-bbcfb230"><span class="cl-bbcf8b3e">5</span></p></td><td class="cl-bbcfd925"><p class="cl-bbcfb231"><span class="cl-bbcf8b3e">e</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="3bc907d8-045a-44c6-878f-f3a93b223932"></div>
<script>
var dest = document.getElementById("3bc907d8-045a-44c6-878f-f3a93b223932");
var template = document.getElementById("771cd9df-6c86-4fb2-b3db-ee6fb8ede495");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="prise-en-main-de-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>x2<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">6</span>)) <span class="sc">%&gt;%</span><span class="fu">rename</span>(<span class="at">x=</span><span class="dv">1</span>)</span>
<span id="cb12-2"><a href="prise-en-main-de-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="prise-en-main-de-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a>w<span class="ot">&lt;-</span><span class="fu">rbind</span>(x1,x2)</span>
<span id="cb12-4"><a href="prise-en-main-de-r.html#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="prise-en-main-de-r.html#cb12-5" aria-hidden="true" tabindex="-1"></a>ft<span class="ot">&lt;-</span><span class="fu">flextable</span>(w)</span>
<span id="cb12-6"><a href="prise-en-main-de-r.html#cb12-6" aria-hidden="true" tabindex="-1"></a>ft</span></code></pre></div>
<template id="3215400d-547d-484c-9771-b5970c651a24"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-bc441d3c{border-collapse:collapse;}.cl-bc3b978e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-bc3bbe80{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-bc3be57c{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bc3be57d{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-bc3be57e{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-bc441d3c'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57e"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">x</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">8</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57c"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-bc3be57d"><p class="cl-bc3bbe80"><span class="cl-bc3b978e">6</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="76bb23ef-cf83-4807-9775-ffb77830113b"></div>
<script>
var dest = document.getElementById("76bb23ef-cf83-4807-9775-ffb77830113b");
var template = document.getElementById("3215400d-547d-484c-9771-b5970c651a24");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>mais très souvent on sera dans des cas différents et la fusion des données devra suivre des index</p>
<div class="figure">
<img src="Images/merge_ex-1024x624.png" alt="" />
<p class="caption">merge</p>
</div>
<p>Plusieurs types de fusion sont proposées.</p>
<div class="figure">
<img src="Images/join_diagram.png" alt="" />
<p class="caption">Mode de fusions</p>
</div>
<p>genérale</p>
<p>fusion à gauche</p>
<p>fusion à droite</p>
<p>(Voir ce cours)[<a href="https://coletl.github.io/tidy_intro/lessons/dplyr_join/dplyr_join.html" class="uri">https://coletl.github.io/tidy_intro/lessons/dplyr_join/dplyr_join.html</a>]</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyses-univariées.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-PriseEnMain.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
