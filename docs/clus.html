<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 8 Clustering | Introduction aux Data Sciences</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 8 Clustering | Introduction aux Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 8 Clustering | Introduction aux Data Sciences" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-10-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analyses-factorielles.html"/>
<link rel="next" href="régression.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Book</a></li>

<li class="divider"></li>
<li><a href="index.html#avant-propos" id="toc-avant-propos"><span class="toc-section-number">1</span> Avant propos</a>
<ul>
<li><a href="index.html#plan-du-manuel" id="toc-plan-du-manuel"><span class="toc-section-number">1.1</span> Plan du manuel</a></li>
<li><a href="index.html#les-jeux-de-données" id="toc-les-jeux-de-données"><span class="toc-section-number">1.2</span> Les jeux de données</a></li>
<li><a href="index.html#le-cadre-technique-et-les-packages-utilisés" id="toc-le-cadre-technique-et-les-packages-utilisés"><span class="toc-section-number">1.3</span> Le cadre technique et les packages utilisés</a></li>
<li><a href="index.html#a-faire" id="toc-a-faire"><span class="toc-section-number">1.4</span> A faire</a></li>
</ul></li>
<li><a href="intro.html#intro" id="toc-intro"><span class="toc-section-number">2</span> Introduction aux data sciences</a>
<ul>
<li><a href="intro.html#objectif-et-sommaire" id="toc-objectif-et-sommaire"><span class="toc-section-number">2.1</span> Objectif et sommaire</a></li>
<li><a href="intro.html#science-ou-technique" id="toc-science-ou-technique"><span class="toc-section-number">2.2</span> Science ou technique ?</a></li>
<li><a href="intro.html#histoires-des-logiciels-statistiques" id="toc-histoires-des-logiciels-statistiques"><span class="toc-section-number">2.3</span> histoires des logiciels statistiques</a></li>
<li><a href="intro.html#le-processus-de-traitement-des-données" id="toc-le-processus-de-traitement-des-données"><span class="toc-section-number">2.4</span> Le processus de traitement des données</a></li>
<li><a href="intro.html#les-facteurs-de-développement-des-datasciences" id="toc-les-facteurs-de-développement-des-datasciences"><span class="toc-section-number">2.5</span> Les facteurs de développement des datasciences</a>
<ul>
<li><a href="intro.html#une-lingua-franca" id="toc-une-lingua-franca"><span class="toc-section-number">2.5.1</span> Une lingua franca</a></li>
<li><a href="intro.html#une-communauté" id="toc-une-communauté"><span class="toc-section-number">2.5.2</span> Une communauté</a></li>
<li><a href="intro.html#la-multiplication-des-sources-de-données." id="toc-la-multiplication-des-sources-de-données."><span class="toc-section-number">2.5.3</span> La multiplication des sources de données.</a></li>
<li><a href="intro.html#du-ml-à-lia" id="toc-du-ml-à-lia"><span class="toc-section-number">2.5.4</span> du ML à l’IA</a></li>
</ul></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#prise-en-main-de-r" id="toc-prise-en-main-de-r"><span class="toc-section-number">3</span> Prise en main de r</a>
<ul>
<li><a href="prise-en-main-de-r.html#la-convention-du-rmarkdown" id="toc-la-convention-du-rmarkdown"><span class="toc-section-number">3.1</span> La convention du Rmarkdown</a></li>
<li><a href="prise-en-main-de-r.html#lire-les-données" id="toc-lire-les-données"><span class="toc-section-number">3.2</span> Lire les données</a>
<ul>
<li><a href="prise-en-main-de-r.html#la-diversité-des-formats" id="toc-la-diversité-des-formats"><span class="toc-section-number">3.2.1</span> La diversité des formats</a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#dplyr-pour-manipuler-les-données" id="toc-dplyr-pour-manipuler-les-données"><span class="toc-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données</a>
<ul>
<li><a href="prise-en-main-de-r.html#des-pipes" id="toc-des-pipes"><span class="toc-section-number">3.3.1</span> Des pipes %&gt;%</a></li>
<li><a href="prise-en-main-de-r.html#des-verbes" id="toc-des-verbes"><span class="toc-section-number">3.3.2</span> Des verbes</a></li>
</ul></li>
</ul></li>
<li><a href="analyses-univariées.html#analyses-univariées" id="toc-analyses-univariées"><span class="toc-section-number">4</span> Analyses univariées</a>
<ul>
<li><a href="analyses-univariées.html#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques"><span class="toc-section-number">4.1</span> La grammaire des graphiques</a>
<ul>
<li><a href="analyses-univariées.html#un-modèle-en-couche" id="toc-un-modèle-en-couche"><span class="toc-section-number">4.1.1</span> Un modèle en couche</a></li>
<li><a href="analyses-univariées.html#une-typologie-des-représentations" id="toc-une-typologie-des-représentations"><span class="toc-section-number">4.1.2</span> Une typologie des représentations</a></li>
<li><a href="analyses-univariées.html#lesthétique" id="toc-lesthétique"><span class="toc-section-number">4.1.3</span> L’esthétique</a></li>
</ul></li>
<li><a href="analyses-univariées.html#une-étude-de-cas" id="toc-une-étude-de-cas"><span class="toc-section-number">4.2</span> Une étude de cas</a>
<ul>
<li><a href="analyses-univariées.html#le-cas-des-variables-quantitatives" id="toc-le-cas-des-variables-quantitatives"><span class="toc-section-number">4.2.1</span> Le cas des variables quantitatives</a></li>
<li><a href="analyses-univariées.html#quand-la-variable-est-qualitative" id="toc-quand-la-variable-est-qualitative"><span class="toc-section-number">4.2.2</span> Quand la variable est qualitative</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-bi-variée.html#analyse-bi-variée" id="toc-analyse-bi-variée"><span class="toc-section-number">5</span> Analyse bi variée</a>
<ul>
<li><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" id="toc-diagrammes-xy---la-magie-des-corrélations"><span class="toc-section-number">5.1</span> Diagrammes xy - la magie des corrélations</a></li>
<li><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" id="toc-comparer-les-distributions-et-des-moyennes"><span class="toc-section-number">5.2</span> Comparer les distributions et des moyennes</a>
<ul>
<li><a href="analyse-bi-variée.html#comparaison-de-moyennes" id="toc-comparaison-de-moyennes"><span class="toc-section-number">5.2.1</span> Comparaison de moyennes</a></li>
<li><a href="analyse-bi-variée.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">5.2.2</span> Deux variables qualitatives</a></li>
</ul></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#analyse-graphique-multivariée" id="toc-analyse-graphique-multivariée"><span class="toc-section-number">6</span> Analyse graphique multivariée</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail" id="toc-la-confiance-institutionnelle-en-détail"><span class="toc-section-number">6.1</span> La confiance institutionnelle, en détail</a></li>
<li><a href="analyse-graphique-multivariée.html#table-de-corrélation" id="toc-table-de-corrélation"><span class="toc-section-number">6.2</span> Table de corrélation</a></li>
<li><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020" id="toc-un-cas-plus-complexe-présidentielle2020"><span class="toc-section-number">6.3</span> Un cas plus complexe : présidentielle2020</a></li>
<li><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" id="toc-une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><span class="toc-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre</a>
<ul>
<li><a href="analyse-graphique-multivariée.html#effet-sondeur" id="toc-effet-sondeur"><span class="toc-section-number">6.4.1</span> effet sondeur</a></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur" id="toc-modéliser-le-biais-du-sondeur"><span class="toc-section-number">6.5</span> Modéliser le biais du sondeur</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#analyses-factorielles" id="toc-analyses-factorielles"><span class="toc-section-number">7</span> Analyses factorielles</a>
<ul>
<li><a href="analyses-factorielles.html#origine-et-histoire" id="toc-origine-et-histoire"><span class="toc-section-number">7.1</span> Origine et histoire</a>
<ul>
<li><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie" id="toc-une-petite-histoire-de-la-psychométrie"><span class="toc-section-number">7.1.1</span> Une petite histoire de la psychométrie</a></li>
<li><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales" id="toc-lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><span class="toc-section-number">7.1.2</span> L’école française de l’analyse des données appliquée aux sciences sociales</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques" id="toc-le-modèle-factoriel-des-tests-psychologiques"><span class="toc-section-number">7.2</span> Le modèle factoriel des tests psychologiques</a>
<ul>
<li><a href="analyses-factorielles.html#un-peu-de-théorie" id="toc-un-peu-de-théorie"><span class="toc-section-number">7.2.1</span> Un peu de théorie</a></li>
<li><a href="analyses-factorielles.html#lestimation" id="toc-lestimation"><span class="toc-section-number">7.2.2</span> L’estimation</a></li>
<li><a href="analyses-factorielles.html#ressources" id="toc-ressources"><span class="toc-section-number">7.2.3</span> Ressources</a></li>
<li><a href="analyses-factorielles.html#cas-dapplication" id="toc-cas-dapplication"><span class="toc-section-number">7.2.4</span> Cas d’application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation" id="toc-examen-de-la-matrice-de-corrélation"><span class="toc-section-number">7.3</span> Examen de la matrice de corrélation</a></li>
<li><a href="analyses-factorielles.html#modèle-factoriel" id="toc-modèle-factoriel"><span class="toc-section-number">7.4</span> Modèle factoriel</a></li>
<li><a href="analyses-factorielles.html#lanalyse-en-composante-principale" id="toc-lanalyse-en-composante-principale"><span class="toc-section-number">7.5</span> L’analyse en composante principale</a>
<ul>
<li><a href="analyses-factorielles.html#le-problème-théorique" id="toc-le-problème-théorique"><span class="toc-section-number">7.5.1</span> le problème théorique</a></li>
<li><a href="analyses-factorielles.html#une-représentation-symbolique" id="toc-une-représentation-symbolique"><span class="toc-section-number">7.5.2</span> Une représentation symbolique</a></li>
<li><a href="analyses-factorielles.html#application" id="toc-application"><span class="toc-section-number">7.5.3</span> Application</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc" id="toc-une-généralisation-de-lacp-lafc"><span class="toc-section-number">7.6</span> Une généralisation de l’ACP : l’AFC</a>
<ul>
<li><a href="analyses-factorielles.html#afcm-multiple" id="toc-afcm-multiple"><span class="toc-section-number">7.6.1</span> AFCM multiple</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#développements" id="toc-développements"><span class="toc-section-number">7.7</span> Développements</a>
<ul>
<li><a href="analyses-factorielles.html#le-svd" id="toc-le-svd"><span class="toc-section-number">7.7.1</span> le SVD</a></li>
<li><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante" id="toc-acm-analyse-canonique-analyse-discriminante"><span class="toc-section-number">7.7.2</span> ACM , analyse canonique , analyse discriminante</a></li>
</ul></li>
<li><a href="analyses-factorielles.html#en-conclusion" id="toc-en-conclusion"><span class="toc-section-number">7.8</span> En conclusion</a></li>
</ul></li>
<li><a href="clus.html#clus" id="toc-clus"><span class="toc-section-number">8</span> Clustering</a>
<ul>
<li><a href="clus.html#les-méthodes-hiérarchiques-ascendantes" id="toc-les-méthodes-hiérarchiques-ascendantes"><span class="toc-section-number">8.1</span> Les méthodes hiérarchiques ascendantes</a>
<ul>
<li><a href="clus.html#mise-en-oeuvre" id="toc-mise-en-oeuvre"><span class="toc-section-number">8.1.1</span> Mise en oeuvre</a></li>
</ul></li>
<li><a href="clus.html#segmentation-simplifiée" id="toc-segmentation-simplifiée"><span class="toc-section-number">8.2</span> segmentation simplifiée</a></li>
<li><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" id="toc-tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><span class="toc-section-number">8.3</span> tableaux croisés de la typologie et des critères sociaux démos</a></li>
<li><a href="clus.html#afcm-pour-une-synthèse" id="toc-afcm-pour-une-synthèse"><span class="toc-section-number">8.4</span> AFCM pour une synthèse</a>
<ul>
<li><a href="clus.html#forces-et-limites" id="toc-forces-et-limites"><span class="toc-section-number">8.4.1</span> Forces et limites</a></li>
</ul></li>
<li><a href="clus.html#les-méthodes-non-hiérarchiques" id="toc-les-méthodes-non-hiérarchiques"><span class="toc-section-number">8.5</span> Les méthodes non-hiérarchiques</a>
<ul>
<li><a href="clus.html#principe" id="toc-principe"><span class="toc-section-number">8.5.1</span> principe</a></li>
<li><a href="clus.html#application-1" id="toc-application-1"><span class="toc-section-number">8.5.2</span> Application</a></li>
<li><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe" id="toc-le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><span class="toc-section-number">8.5.3</span> Le problème de la détermination du nombre optimal de groupe</a></li>
</ul></li>
<li><a href="clus.html#autres-méthodes" id="toc-autres-méthodes"><span class="toc-section-number">8.6</span> Autres méthodes</a></li>
<li><a href="clus.html#conclusion" id="toc-conclusion"><span class="toc-section-number">8.7</span> Conclusion</a></li>
</ul></li>
<li><a href="régression.html#régression" id="toc-régression"><span class="toc-section-number">9</span> 9 - Régression</a>
<ul>
<li><a href="régression.html#une-étude-de-cas-les-offres-blablacar" id="toc-une-étude-de-cas-les-offres-blablacar"><span class="toc-section-number">9.1</span> Une étude de cas : les offres Blablacar</a>
<ul>
<li><a href="régression.html#les-caractérisques-de-loffre" id="toc-les-caractérisques-de-loffre"><span class="toc-section-number">9.1.1</span> Les caractérisques de l’offre</a></li>
</ul></li>
<li><a href="régression.html#notes-prix-et-taux-doccupations" id="toc-notes-prix-et-taux-doccupations"><span class="toc-section-number">9.2</span> Notes, prix et taux d’occupations</a></li>
<li><a href="régression.html#analyse-des-prix" id="toc-analyse-des-prix"><span class="toc-section-number">9.3</span> Analyse des prix</a></li>
<li><a href="régression.html#analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" id="toc-analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation"><span class="toc-section-number">9.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?</a>
<ul>
<li><a href="régression.html#un-modèle-ols" id="toc-un-modèle-ols"><span class="toc-section-number">9.4.1</span> Un modèle OLS</a></li>
</ul></li>
<li><a href="régression.html#autres-modèles" id="toc-autres-modèles"><span class="toc-section-number">9.5</span> Autres modèles</a>
<ul>
<li><a href="régression.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">9.5.1</span> Régression logistique</a></li>
<li><a href="régression.html#modèle-de-comptage" id="toc-modèle-de-comptage"><span class="toc-section-number">9.5.2</span> Modèle de comptage</a></li>
<li><a href="régression.html#modèle-de-régression-beta" id="toc-modèle-de-régression-beta"><span class="toc-section-number">9.5.3</span> Modèle de régression beta</a></li>
</ul></li>
</ul></li>
<li><a href="un-cas-danalyse-de-survie.html#un-cas-danalyse-de-survie" id="toc-un-cas-danalyse-de-survie"><span class="toc-section-number">10</span> Un cas d’analyse de survie</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques.html#les-modèles-linéaires-hiérarchiques" id="toc-les-modèles-linéaires-hiérarchiques"><span class="toc-section-number">11</span> Les modèles linéaires hiérarchiques</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques.html#en-guise-dintroduction" id="toc-en-guise-dintroduction"><span class="toc-section-number">11.1</span> en guise d’introduction</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques.html#section" id="toc-section"><span class="toc-section-number">11.1.1</span> </a></li>
</ul></li>
</ul></li>
<li><a href="modèle-de-survie.html#modèle-de-survie" id="toc-modèle-de-survie"><span class="toc-section-number">12</span> 10 - Modèle de survie</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#les-modèles-linéaires-hiérarchiques-hlm" id="toc-les-modèles-linéaires-hiérarchiques-hlm"><span class="toc-section-number">13</span> 11 Les modèles linéaires hiérarchiques (HLM)</a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#en-guise-dintroduction-1" id="toc-en-guise-dintroduction-1"><span class="toc-section-number">13.1</span> en guise d’introduction</a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#une-application" id="toc-une-application"><span class="toc-section-number">13.2</span> Une application</a></li>
</ul></li>
<li><a href="arbre-de-décision.html#arbre-de-décision" id="toc-arbre-de-décision"><span class="toc-section-number">14</span> Arbre de Décision</a>
<ul>
<li><a href="arbre-de-décision.html#construire-un-arbre-de-décision" id="toc-construire-un-arbre-de-décision"><span class="toc-section-number">14.1</span> Construire un arbre de décision</a></li>
<li><a href="arbre-de-décision.html#mise-en-oeuvre-avec-partykit" id="toc-mise-en-oeuvre-avec-partykit"><span class="toc-section-number">14.2</span> Mise en oeuvre avec Partykit</a></li>
<li><a href="arbre-de-décision.html#forêts-aléatoires" id="toc-forêts-aléatoires"><span class="toc-section-number">14.3</span> forêts aléatoires</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#premiers-éléments-de-machine-learning" id="toc-premiers-éléments-de-machine-learning"><span class="toc-section-number">15</span> Premiers éléments de Machine Learning</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#une-typologie-de-modèles" id="toc-une-typologie-de-modèles"><span class="toc-section-number">15.1</span> une typologie de modèles</a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-linéaire" id="toc-le-modèle-linéaire"><span class="toc-section-number">15.1.1</span> le modèle linéaire</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-logit" id="toc-le-modèle-logit"><span class="toc-section-number">15.1.2</span> le modèle logit</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-modèles-à-régularisation" id="toc-les-modèles-à-régularisation"><span class="toc-section-number">15.1.3</span> les modèles à régularisation</a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-random-forest" id="toc-les-random-forest"><span class="toc-section-number">15.1.4</span> les random forest</a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#forêts-aléatoires-1" id="toc-forêts-aléatoires-1"><span class="toc-section-number">15.2</span> forêts aléatoires</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="clus" class="section level1" number="8">
<h1><span class="header-section-number">Chapitre 8</span> Clustering</h1>
<p>L’objectif des méthodes de classification automatique est de regrouper des observations qui se ressemblent sur un ensemble multidimensionnel de caractéristiques.</p>
<p>insérer image</p>
<p>Dans ce chapitre nous examinons deux familles de méthodes qui le distingue par la procédure de calcul : hierarchique d’une part, non hiérarchique de l’autre. On garde pour le chapître suivant l’étude des modèles de décisions qui ont une longue et riche histoire en marketing et ont préparé le développement de certains modèles de machine learning.</p>
<div id="les-méthodes-hiérarchiques-ascendantes" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Les méthodes hiérarchiques ascendantes</h2>
<p>Elles trouvent leur origine en biologie où dès les années 1930 Sokal et Sneath<span class="citation">(<a href="#ref-sneath_numerical_1973" role="doc-biblioref">Sneath and Sokal 1973</a>)</span> ont proposé des méthodes pour analyser l’évolution des espèces. L’idée réside dans la comparison de specimens sur la base d’un certains nombre de caractéristiques, d’abord des caractères phénotypiques, puis dans ce domaine en s’appuyant sur les caractéristiques génétiques. Nous n’entrerons pas dans une discussion plus approfondis mais signalons que ces choix déterminent des méthodes et des hypothèses très différentes et largement débattues (cladistique etc)</p>
<p>Prenons le cas de différences phénotypiques et le tableau suivant.</p>
<p>tableau</p>
<p>Le but du jeu est de regrouper successivement les spécimens en fonction de leur ressemblance. L’algorithme consiste simplement à 1) calculer toutes les ressemblances deux à deux et 2) à fondre en une classe les deux éléments qui se ressemble le plus. On réitère l’opération jusqu’à ce qu’on obtienne plus qu’une classe.</p>
<p>Le résultat est une arborescence dont chaque noeud représente un regrouppement de classe à un certain niveau de distance.</p>
<p>figure</p>
<p>Leurs variétés dépend de deux paramètres :</p>
<ul>
<li>le choix de la mesure de dissimilarités : Une distance euclidienne ? Son carré ? Une distance binaire comme l’indice de Jaccard?</li>
<li>le choix de la méthode d’agrégation : que choisit-on pour calculer la distance entre deux classes A et B : la plus grande des distances entre les éléments de A et ceux de B ? La plus petite ? La distance moyennes, la médiane ?</li>
</ul>
<div id="mise-en-oeuvre" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Mise en oeuvre</h3>
<p>On utilise l’enquête d’happydemics sur la période de fin mars.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="clus.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb107-2"><a href="clus.html#cb107-2" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;./data/last.rds&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="clus.html#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date2<span class="sc">&gt;=</span><span class="fu">make_datetime</span>(<span class="at">year=</span><span class="dv">2022</span>, <span class="at">month=</span><span class="dv">3</span>, <span class="at">day =</span> <span class="dv">19</span>))</span>
<span id="cb107-4"><a href="clus.html#cb107-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-5"><a href="clus.html#cb107-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-6"><a href="clus.html#cb107-6" aria-hidden="true" tabindex="-1"></a>n_t<span class="ot">&lt;-</span><span class="fu">nrow</span>(df)</span>
<span id="cb107-7"><a href="clus.html#cb107-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-8"><a href="clus.html#cb107-8" aria-hidden="true" tabindex="-1"></a>period<span class="ot">&lt;-</span><span class="st">&quot; apres le 19 mars&quot;</span></span></code></pre></div>
<p>Il y a un trick de traitement des données. La question QCM a été encodée en une colonne, ajoutant les chaines de caractère des 16 thématiques avec un séparateurs $ .</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="clus.html#cb108-1" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">str_split_fixed</span>(df<span class="sc">$</span>themes, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">$&quot;</span>,<span class="at">n=</span><span class="dv">3</span>)) <span class="co"># On splite la colonne thème en autant de thème possibles</span></span>
<span id="cb108-2"><a href="clus.html#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="clus.html#cb108-3" aria-hidden="true" tabindex="-1"></a>foo1<span class="ot">&lt;-</span><span class="fu">cbind</span>(df,foo)<span class="sc">%&gt;%</span></span>
<span id="cb108-4"><a href="clus.html#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">V1=</span><span class="dv">23</span>, <span class="at">V2=</span><span class="dv">24</span>, <span class="at">V3=</span><span class="dv">25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-5"><a href="clus.html#cb108-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id,V1,V2,V3)<span class="sc">%&gt;%</span> </span>
<span id="cb108-6"><a href="clus.html#cb108-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span>id,<span class="at">names_to=</span><span class="st">&quot;rank&quot;</span>,<span class="at">values_to=</span><span class="st">&quot;theme&quot;</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb108-7"><a href="clus.html#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank=</span><span class="fu">ifelse</span>(rank<span class="sc">==</span><span class="st">&quot;V1&quot;</span>, <span class="dv">3</span>,<span class="fu">ifelse</span>(rank<span class="sc">==</span><span class="st">&quot;V2&quot;</span>, <span class="dv">2</span>, <span class="fu">ifelse</span>(rank<span class="sc">==</span><span class="st">&quot;V3&quot;</span>,<span class="dv">1</span>, <span class="dv">0</span>)))) <span class="sc">%&gt;%</span> <span class="co">#on recode les rangs par un facteur d&#39;importance de à 0 à 3</span></span>
<span id="cb108-8"><a href="clus.html#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(theme<span class="sc">!=</span><span class="st">&quot;&quot;</span>)<span class="sc">%&gt;%</span>  </span>
<span id="cb108-9"><a href="clus.html#cb108-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">theme=</span><span class="fu">str_trim</span>(theme))<span class="sc">%&gt;%</span></span>
<span id="cb108-10"><a href="clus.html#cb108-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">r=</span><span class="fu">as.numeric</span>(rank))<span class="sc">%&gt;%</span></span>
<span id="cb108-11"><a href="clus.html#cb108-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>rank)</span>
<span id="cb108-12"><a href="clus.html#cb108-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-13"><a href="clus.html#cb108-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-14"><a href="clus.html#cb108-14" aria-hidden="true" tabindex="-1"></a>n1<span class="ot">&lt;-</span><span class="fu">nrow</span>(df) <span class="co"># le nombre d&#39;individus</span></span>
<span id="cb108-15"><a href="clus.html#cb108-15" aria-hidden="true" tabindex="-1"></a>n2<span class="ot">&lt;-</span><span class="fu">nrow</span>(foo1) <span class="co">#le nombre de mentions</span></span></code></pre></div>
<p>Dans une première étape faisons le bilan global</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="clus.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co">#on calcule la proportion et la pénétration des items</span></span>
<span id="cb109-2"><a href="clus.html#cb109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-3"><a href="clus.html#cb109-3" aria-hidden="true" tabindex="-1"></a>foo2 <span class="ot">&lt;-</span>foo1<span class="sc">%&gt;%</span> </span>
<span id="cb109-4"><a href="clus.html#cb109-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">m=</span><span class="dv">1</span>)<span class="sc">%&gt;%</span></span>
<span id="cb109-5"><a href="clus.html#cb109-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(theme)<span class="sc">%&gt;%</span></span>
<span id="cb109-6"><a href="clus.html#cb109-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequence=</span><span class="fu">sum</span>(m),</span>
<span id="cb109-7"><a href="clus.html#cb109-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion=</span>frequence<span class="sc">/</span>n2,</span>
<span id="cb109-8"><a href="clus.html#cb109-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">penetration=</span>frequence<span class="sc">/</span>n1)</span>
<span id="cb109-9"><a href="clus.html#cb109-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-10"><a href="clus.html#cb109-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-11"><a href="clus.html#cb109-11" aria-hidden="true" tabindex="-1"></a>col<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-12"><a href="clus.html#cb109-12" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#FD6467&quot;</span>,</span>
<span id="cb109-13"><a href="clus.html#cb109-13" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#FD6467&quot;</span>,</span>
<span id="cb109-14"><a href="clus.html#cb109-14" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#FD6467&quot;</span>,</span>
<span id="cb109-15"><a href="clus.html#cb109-15" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#5B1A18&quot;</span>,</span>
<span id="cb109-16"><a href="clus.html#cb109-16" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#5B1A18&quot;</span>,</span>
<span id="cb109-17"><a href="clus.html#cb109-17" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#5B1A18&quot;</span>,</span>
<span id="cb109-18"><a href="clus.html#cb109-18" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-19"><a href="clus.html#cb109-19" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#FD6467&quot;</span>,</span>
<span id="cb109-20"><a href="clus.html#cb109-20" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-21"><a href="clus.html#cb109-21" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-22"><a href="clus.html#cb109-22" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-23"><a href="clus.html#cb109-23" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-24"><a href="clus.html#cb109-24" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#5B1A18&quot;</span>,</span>
<span id="cb109-25"><a href="clus.html#cb109-25" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#FD6467&quot;</span>,</span>
<span id="cb109-26"><a href="clus.html#cb109-26" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span>,</span>
<span id="cb109-27"><a href="clus.html#cb109-27" aria-hidden="true" tabindex="-1"></a>       <span class="st">&quot;#F1BB7B&quot;</span></span>
<span id="cb109-28"><a href="clus.html#cb109-28" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb109-29"><a href="clus.html#cb109-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-30"><a href="clus.html#cb109-30" aria-hidden="true" tabindex="-1"></a>brks<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>,<span class="fl">0.4</span>,<span class="fl">0.5</span>,<span class="fl">0.6</span>)</span>
<span id="cb109-31"><a href="clus.html#cb109-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo2,<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(theme, frequence), <span class="at">y=</span>penetration))<span class="sc">+</span></span>
<span id="cb109-32"><a href="clus.html#cb109-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>theme))<span class="sc">+</span></span>
<span id="cb109-33"><a href="clus.html#cb109-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb109-34"><a href="clus.html#cb109-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>col)<span class="sc">+</span></span>
<span id="cb109-35"><a href="clus.html#cb109-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Pénétration des thèmes dans la population&quot;</span>,</span>
<span id="cb109-36"><a href="clus.html#cb109-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>, </span>
<span id="cb109-37"><a href="clus.html#cb109-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span> <span class="st">&quot;% de la population&quot;</span>, </span>
<span id="cb109-38"><a href="clus.html#cb109-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;data @happydemics dataviz @benavent&quot;</span>)<span class="sc">+</span></span>
<span id="cb109-39"><a href="clus.html#cb109-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb109-40"><a href="clus.html#cb109-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="sc">+</span> </span>
<span id="cb109-41"><a href="clus.html#cb109-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> brks, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent</span>(brks))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0812-1.png" width="672" /></p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="clus.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="fu">paste0</span>(<span class="st">&quot;./plot/theme_&quot;</span>,period,<span class="st">&quot;.jpg&quot;</span>),<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="segmentation-simplifiée" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> segmentation simplifiée</h2>
<p>On commence va reconstruire un tableaux des individus x les thèmes. On garde les rangs comme indicateurs de l’importance .</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="clus.html#cb111-1" aria-hidden="true" tabindex="-1"></a>foo3<span class="ot">&lt;-</span>foo1<span class="sc">%&gt;%</span>  </span>
<span id="cb111-2"><a href="clus.html#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from=</span><span class="st">&quot;theme&quot;</span>, <span class="at">values_from=</span><span class="st">&quot;r&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb111-3"><a href="clus.html#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace</span>(<span class="fu">is.na</span>(.), <span class="dv">0</span>)</span>
<span id="cb111-4"><a href="clus.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(foo3, <span class="dv">8</span>)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 17
##          id `L&#39;immigration` `Le pouvoir d&#39;achat` `L&#39;éducation` `L&#39;égalité Homm~`
##       &lt;dbl&gt;           &lt;dbl&gt;                &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
## 1 235824277               3                    0             0                 0
## 2 235824417               0                    3             2                 1
## 3 235825307               0                    3             0                 0
## 4 235825503               0                    0             0                 0
## 5 235826269               0                    1             0                 0
## 6 235828154               0                    2             3                 0
## 7 235828507               0                    0             3                 2
## 8 235828613               1                    2             0                 0
## # ... with 12 more variables: `Les retraites` &lt;dbl&gt;, `L&#39;environnement` &lt;dbl&gt;,
## #   `Le service public` &lt;dbl&gt;, `L&#39;insécurité` &lt;dbl&gt;, `La santé` &lt;dbl&gt;,
## #   `Le chômage` &lt;dbl&gt;, `L&#39;économie` &lt;dbl&gt;,
## #   `La science et la technologie` &lt;dbl&gt;, `L&#39;identité nationale` &lt;dbl&gt;,
## #   `La sécurité nationale` &lt;dbl&gt;, `L&#39;union Européenne` &lt;dbl&gt;,
## #   `La culture` &lt;dbl&gt;</code></pre>
<p>On calcule un tableau de distance et on performe la classification automatique. dans cet essai on tente un modèle à 8 groupes.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="clus.html#cb113-1" aria-hidden="true" tabindex="-1"></a>foo4<span class="ot">&lt;-</span>foo3[,<span class="dv">2</span><span class="sc">:</span><span class="dv">17</span>]</span>
<span id="cb113-2"><a href="clus.html#cb113-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-3"><a href="clus.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="co">#distance</span></span>
<span id="cb113-4"><a href="clus.html#cb113-4" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span><span class="fu">dist</span>(foo4)</span>
<span id="cb113-5"><a href="clus.html#cb113-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-6"><a href="clus.html#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="co">#clustering</span></span>
<span id="cb113-7"><a href="clus.html#cb113-7" aria-hidden="true" tabindex="-1"></a>h.D  <span class="ot">&lt;-</span> <span class="fu">hclust</span>(d, <span class="at">method=</span><span class="st">&quot;ward.D&quot;</span>)</span>
<span id="cb113-8"><a href="clus.html#cb113-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-9"><a href="clus.html#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="co">#dendogramme</span></span>
<span id="cb113-10"><a href="clus.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(h.D,  <span class="at">hang=</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb113-11"><a href="clus.html#cb113-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-12"><a href="clus.html#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="co">#identification des clusters</span></span>
<span id="cb113-13"><a href="clus.html#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="fu">rect.hclust</span>(h.D , <span class="at">k =</span> <span class="dv">8</span>, <span class="at">border =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0814-1.png" width="672" /></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="clus.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#attribution des clusters</span></span>
<span id="cb114-2"><a href="clus.html#cb114-2" aria-hidden="true" tabindex="-1"></a>memb <span class="ot">&lt;-</span> <span class="fu">cutree</span>(h.D, <span class="at">k =</span> <span class="dv">8</span>)</span>
<span id="cb114-3"><a href="clus.html#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="clus.html#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="co">#maj du fichier de données avec l&#39;appartenace des individus aux groupes</span></span>
<span id="cb114-5"><a href="clus.html#cb114-5" aria-hidden="true" tabindex="-1"></a>foo5<span class="ot">&lt;-</span><span class="fu">cbind</span>(foo4, memb)</span></code></pre></div>
<p>Il reste à décrire les différents types sur les 16 variables qui les décrivent. On choisit une méthode de barre ordonnée avec un facetting par groupe.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="clus.html#cb115-1" aria-hidden="true" tabindex="-1"></a>foo6<span class="ot">&lt;-</span>foo5 <span class="sc">%&gt;%</span> </span>
<span id="cb115-2"><a href="clus.html#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(memb) <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="clus.html#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>memb,<span class="at">names_to=</span><span class="st">&quot;Thèmes&quot;</span>,<span class="at">values_to=</span><span class="st">&quot;Valeurs&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb115-4"><a href="clus.html#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(memb,Thèmes)<span class="sc">%&gt;%</span></span>
<span id="cb115-5"><a href="clus.html#cb115-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Valeurs=</span><span class="fu">mean</span>(Valeurs))</span>
<span id="cb115-6"><a href="clus.html#cb115-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-7"><a href="clus.html#cb115-7" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="st">&quot;multicritère&quot;</span></span>
<span id="cb115-8"><a href="clus.html#cb115-8" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">2</span>]<span class="ot">&lt;-</span><span class="st">&quot;Santé/Educ&quot;</span></span>
<span id="cb115-9"><a href="clus.html#cb115-9" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">3</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nretraites&quot;</span></span>
<span id="cb115-10"><a href="clus.html#cb115-10" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">5</span>]<span class="ot">&lt;-</span><span class="st">&quot;Immigration/nInsécurité &quot;</span></span>
<span id="cb115-11"><a href="clus.html#cb115-11" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">4</span>]<span class="ot">&lt;-</span><span class="st">&quot;égalité h/F&quot;</span></span>
<span id="cb115-12"><a href="clus.html#cb115-12" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">6</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nSanté&quot;</span></span>
<span id="cb115-13"><a href="clus.html#cb115-13" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">7</span>]<span class="ot">&lt;-</span><span class="st">&quot;Economie&quot;</span></span>
<span id="cb115-14"><a href="clus.html#cb115-14" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">8</span>]<span class="ot">&lt;-</span><span class="st">&quot;Environnement&quot;</span></span>
<span id="cb115-15"><a href="clus.html#cb115-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-16"><a href="clus.html#cb115-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb115-17"><a href="clus.html#cb115-17" aria-hidden="true" tabindex="-1"></a>brks<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="dv">1</span>,<span class="fl">1.5</span>,<span class="dv">2</span>, <span class="fl">2.5</span>,<span class="dv">3</span>)</span>
<span id="cb115-18"><a href="clus.html#cb115-18" aria-hidden="true" tabindex="-1"></a>p2<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(foo6, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(Thèmes, Valeurs), <span class="at">y=</span>Valeurs))<span class="sc">+</span></span>
<span id="cb115-19"><a href="clus.html#cb115-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">fill=</span><span class="fu">as.factor</span>(Thèmes)))<span class="sc">+</span></span>
<span id="cb115-20"><a href="clus.html#cb115-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(group), <span class="at">ncol=</span><span class="dv">4</span>)<span class="sc">+</span></span>
<span id="cb115-21"><a href="clus.html#cb115-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb115-22"><a href="clus.html#cb115-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>col)<span class="sc">+</span></span>
<span id="cb115-23"><a href="clus.html#cb115-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb115-24"><a href="clus.html#cb115-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span>brks)<span class="sc">+</span> </span>
<span id="cb115-25"><a href="clus.html#cb115-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>, <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>),<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">size=</span><span class="dv">2</span>))<span class="sc">+</span> </span>
<span id="cb115-26"><a href="clus.html#cb115-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Profils des segments</span><span class="sc">\n</span><span class="st">par importance des thématiques&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="st">&quot;importance moyenne (de 0 à 3)&quot;</span>) </span>
<span id="cb115-27"><a href="clus.html#cb115-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-28"><a href="clus.html#cb115-28" aria-hidden="true" tabindex="-1"></a>p2</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0815-1.png" width="672" /></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="clus.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment_p2.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb116-2"><a href="clus.html#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3"><a href="clus.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wesanderson)</span>
<span id="cb116-4"><a href="clus.html#cb116-4" aria-hidden="true" tabindex="-1"></a>seg_col<span class="ot">&lt;-</span><span class="fu">wes_palette</span>(<span class="st">&quot;Zissou1&quot;</span>, <span class="dv">8</span>, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)</span>
<span id="cb116-5"><a href="clus.html#cb116-5" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">nrow</span>(foo5)</span>
<span id="cb116-6"><a href="clus.html#cb116-6" aria-hidden="true" tabindex="-1"></a>foo6<span class="ot">&lt;-</span>foo5 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb116-7"><a href="clus.html#cb116-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(memb)<span class="sc">%&gt;%</span></span>
<span id="cb116-8"><a href="clus.html#cb116-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq=</span><span class="fu">sum</span>(n, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">%&gt;%</span> <span class="fu">mutate</span>( <span class="at">freq=</span>freq<span class="sc">/</span>n)</span>
<span id="cb116-9"><a href="clus.html#cb116-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-10"><a href="clus.html#cb116-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-11"><a href="clus.html#cb116-11" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="st">&quot;multicritère&quot;</span></span>
<span id="cb116-12"><a href="clus.html#cb116-12" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">2</span>]<span class="ot">&lt;-</span><span class="st">&quot;Santé/Educ&quot;</span></span>
<span id="cb116-13"><a href="clus.html#cb116-13" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">3</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nretraites&quot;</span></span>
<span id="cb116-14"><a href="clus.html#cb116-14" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">5</span>]<span class="ot">&lt;-</span><span class="st">&quot;Immigration/nInsécurité &quot;</span></span>
<span id="cb116-15"><a href="clus.html#cb116-15" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">4</span>]<span class="ot">&lt;-</span><span class="st">&quot;égalité h/F&quot;</span></span>
<span id="cb116-16"><a href="clus.html#cb116-16" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">6</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nSanté&quot;</span></span>
<span id="cb116-17"><a href="clus.html#cb116-17" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">7</span>]<span class="ot">&lt;-</span><span class="st">&quot;Economie&quot;</span></span>
<span id="cb116-18"><a href="clus.html#cb116-18" aria-hidden="true" tabindex="-1"></a>foo6<span class="sc">$</span>group[foo6<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">8</span>]<span class="ot">&lt;-</span><span class="st">&quot;Environnement&quot;</span></span>
<span id="cb116-19"><a href="clus.html#cb116-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-20"><a href="clus.html#cb116-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-21"><a href="clus.html#cb116-21" aria-hidden="true" tabindex="-1"></a>p1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(foo6, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>freq))<span class="sc">+</span></span>
<span id="cb116-22"><a href="clus.html#cb116-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>group))<span class="sc">+</span></span>
<span id="cb116-23"><a href="clus.html#cb116-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>seg_col) <span class="sc">+</span> </span>
<span id="cb116-24"><a href="clus.html#cb116-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span> </span>
<span id="cb116-25"><a href="clus.html#cb116-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Poids des segments&quot;</span>, <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="st">&quot;Proportion&quot;</span>)<span class="sc">+</span>  </span>
<span id="cb116-26"><a href="clus.html#cb116-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span>brks,<span class="at">labels=</span>percent)<span class="sc">+</span>  </span>
<span id="cb116-27"><a href="clus.html#cb116-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb116-28"><a href="clus.html#cb116-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-29"><a href="clus.html#cb116-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment_p1.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb116-30"><a href="clus.html#cb116-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-31"><a href="clus.html#cb116-31" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(p1, p2, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>), <span class="at">label_size =</span> <span class="dv">12</span>, <span class="at">ncol=</span><span class="dv">1</span>,<span class="at">rel_heights =</span>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0815-2.png" width="672" /></p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="clus.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
</div>
<div id="tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> tableaux croisés de la typologie et des critères sociaux démos</h2>
<p>On revient à une approche descriptive, on croisant successivement notre variable typologie avec les critères socio-demo qui ont été mesurés dans l’enquête.</p>
<p>( une boucle simplifierait ! )</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="clus.html#cb118-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">cbind</span>(df,foo5)</span>
<span id="cb118-2"><a href="clus.html#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="clus.html#cb118-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">1</span>]<span class="ot">&lt;-</span><span class="st">&quot;multicritère&quot;</span></span>
<span id="cb118-4"><a href="clus.html#cb118-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">2</span>]<span class="ot">&lt;-</span><span class="st">&quot;Santé/Educ&quot;</span></span>
<span id="cb118-5"><a href="clus.html#cb118-5" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">3</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nretraites&quot;</span></span>
<span id="cb118-6"><a href="clus.html#cb118-6" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">5</span>]<span class="ot">&lt;-</span><span class="st">&quot;Immigration/nInsécurité &quot;</span></span>
<span id="cb118-7"><a href="clus.html#cb118-7" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">4</span>]<span class="ot">&lt;-</span><span class="st">&quot;égalité h/F&quot;</span></span>
<span id="cb118-8"><a href="clus.html#cb118-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">6</span>]<span class="ot">&lt;-</span><span class="st">&quot;Pouvoir d&#39;achat/nSanté&quot;</span></span>
<span id="cb118-9"><a href="clus.html#cb118-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">7</span>]<span class="ot">&lt;-</span><span class="st">&quot;Economie&quot;</span></span>
<span id="cb118-10"><a href="clus.html#cb118-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>group[df<span class="sc">$</span>memb<span class="sc">==</span><span class="dv">8</span>]<span class="ot">&lt;-</span><span class="st">&quot;Environnement&quot;</span></span>
<span id="cb118-11"><a href="clus.html#cb118-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-12"><a href="clus.html#cb118-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-13"><a href="clus.html#cb118-13" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb118-14"><a href="clus.html#cb118-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group, Sensibilité) <span class="sc">%&gt;%</span> </span>
<span id="cb118-15"><a href="clus.html#cb118-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb118-16"><a href="clus.html#cb118-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>), <span class="at">cum=</span><span class="dv">1</span> <span class="sc">-</span> (<span class="fu">cumsum</span>(prop)<span class="sc">-</span>prop<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb118-17"><a href="clus.html#cb118-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-18"><a href="clus.html#cb118-18" aria-hidden="true" tabindex="-1"></a>g01<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>prop, <span class="at">group=</span>Sensibilité))<span class="sc">+</span></span>
<span id="cb118-19"><a href="clus.html#cb118-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">y =</span> prop, <span class="at">fill=</span>Sensibilité)) <span class="sc">+</span> </span>
<span id="cb118-20"><a href="clus.html#cb118-20" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> brks, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent</span>(brks)) <span class="sc">+</span></span>
<span id="cb118-21"><a href="clus.html#cb118-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>SensiP2) <span class="sc">+</span> </span>
<span id="cb118-22"><a href="clus.html#cb118-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop, <span class="at">y=</span>cum),<span class="at">size=</span><span class="dv">2</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb118-23"><a href="clus.html#cb118-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb118-24"><a href="clus.html#cb118-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Types d&#39;attentes par sensibilité politique &quot;</span>, </span>
<span id="cb118-25"><a href="clus.html#cb118-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>,)<span class="sc">+</span></span>
<span id="cb118-26"><a href="clus.html#cb118-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>), <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)) </span>
<span id="cb118-27"><a href="clus.html#cb118-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-28"><a href="clus.html#cb118-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-29"><a href="clus.html#cb118-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-30"><a href="clus.html#cb118-30" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment01.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb118-31"><a href="clus.html#cb118-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-32"><a href="clus.html#cb118-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-33"><a href="clus.html#cb118-33" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb118-34"><a href="clus.html#cb118-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group, Age) <span class="sc">%&gt;%</span> </span>
<span id="cb118-35"><a href="clus.html#cb118-35" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb118-36"><a href="clus.html#cb118-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>), <span class="at">cum=</span><span class="dv">1</span> <span class="sc">-</span> (<span class="fu">cumsum</span>(prop)<span class="sc">-</span>prop<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb118-37"><a href="clus.html#cb118-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-38"><a href="clus.html#cb118-38" aria-hidden="true" tabindex="-1"></a>g02<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>prop, <span class="at">group=</span>Age))<span class="sc">+</span></span>
<span id="cb118-39"><a href="clus.html#cb118-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">y =</span> prop, <span class="at">fill=</span>Age)) <span class="sc">+</span> </span>
<span id="cb118-40"><a href="clus.html#cb118-40" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> brks, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent</span>(brks)) <span class="sc">+</span></span>
<span id="cb118-41"><a href="clus.html#cb118-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Spectral&quot;</span>) <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop, <span class="at">y=</span>cum),<span class="at">size=</span><span class="dv">2</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb118-42"><a href="clus.html#cb118-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb118-43"><a href="clus.html#cb118-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Types d&#39;attentes par classe d&#39;âge &quot;</span>, </span>
<span id="cb118-44"><a href="clus.html#cb118-44" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>,)<span class="sc">+</span><span class="fu">theme_bw</span>()  <span class="sc">+</span></span>
<span id="cb118-45"><a href="clus.html#cb118-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>), <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)) </span>
<span id="cb118-46"><a href="clus.html#cb118-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-47"><a href="clus.html#cb118-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-48"><a href="clus.html#cb118-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-49"><a href="clus.html#cb118-49" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment02.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb118-50"><a href="clus.html#cb118-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-51"><a href="clus.html#cb118-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-52"><a href="clus.html#cb118-52" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb118-53"><a href="clus.html#cb118-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group, Sexe) <span class="sc">%&gt;%</span> </span>
<span id="cb118-54"><a href="clus.html#cb118-54" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb118-55"><a href="clus.html#cb118-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>), <span class="at">cum=</span><span class="dv">1</span> <span class="sc">-</span> (<span class="fu">cumsum</span>(prop)<span class="sc">-</span>prop<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb118-56"><a href="clus.html#cb118-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-57"><a href="clus.html#cb118-57" aria-hidden="true" tabindex="-1"></a>g03<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>prop, <span class="at">group=</span>Sexe))<span class="sc">+</span></span>
<span id="cb118-58"><a href="clus.html#cb118-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">y =</span> prop, <span class="at">fill=</span>Sexe)) <span class="sc">+</span> </span>
<span id="cb118-59"><a href="clus.html#cb118-59" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> brks, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent</span>(brks)) <span class="sc">+</span></span>
<span id="cb118-60"><a href="clus.html#cb118-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Spectral&quot;</span>) <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop, <span class="at">y=</span>cum),<span class="at">size=</span><span class="dv">2</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb118-61"><a href="clus.html#cb118-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb118-62"><a href="clus.html#cb118-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Types d&#39;attentes par genre &quot;</span>, </span>
<span id="cb118-63"><a href="clus.html#cb118-63" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>,)<span class="sc">+</span></span>
<span id="cb118-64"><a href="clus.html#cb118-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>), <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>))</span>
<span id="cb118-65"><a href="clus.html#cb118-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-66"><a href="clus.html#cb118-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment03.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb118-67"><a href="clus.html#cb118-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-68"><a href="clus.html#cb118-68" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb118-69"><a href="clus.html#cb118-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group, Education) <span class="sc">%&gt;%</span> </span>
<span id="cb118-70"><a href="clus.html#cb118-70" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb118-71"><a href="clus.html#cb118-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop=</span><span class="fu">round</span>(n<span class="sc">/</span><span class="fu">sum</span>(n),<span class="dv">3</span>), <span class="at">cum=</span><span class="dv">1</span> <span class="sc">-</span> (<span class="fu">cumsum</span>(prop)<span class="sc">-</span>prop<span class="sc">/</span><span class="dv">2</span>))</span>
<span id="cb118-72"><a href="clus.html#cb118-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-73"><a href="clus.html#cb118-73" aria-hidden="true" tabindex="-1"></a>g04<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>prop, <span class="at">group=</span>Education))<span class="sc">+</span></span>
<span id="cb118-74"><a href="clus.html#cb118-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">y =</span> prop, <span class="at">fill=</span>Education)) <span class="sc">+</span> </span>
<span id="cb118-75"><a href="clus.html#cb118-75" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> brks, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent</span>(brks)) <span class="sc">+</span></span>
<span id="cb118-76"><a href="clus.html#cb118-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">&quot;Spectral&quot;</span>) <span class="sc">+</span> </span>
<span id="cb118-77"><a href="clus.html#cb118-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> prop, <span class="at">y=</span>cum),<span class="at">size=</span><span class="fl">1.5</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb118-78"><a href="clus.html#cb118-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb118-79"><a href="clus.html#cb118-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Types d&#39;attentes par niveau d&#39;éducation &quot;</span>, </span>
<span id="cb118-80"><a href="clus.html#cb118-80" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="cn">NULL</span>, <span class="at">y=</span><span class="cn">NULL</span>,)<span class="sc">+</span></span>
<span id="cb118-81"><a href="clus.html#cb118-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>), <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)) </span>
<span id="cb118-82"><a href="clus.html#cb118-82" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb118-83"><a href="clus.html#cb118-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-84"><a href="clus.html#cb118-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-85"><a href="clus.html#cb118-85" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment04.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span>
<span id="cb118-86"><a href="clus.html#cb118-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-87"><a href="clus.html#cb118-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-88"><a href="clus.html#cb118-88" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(g01, g02, g04,g03,  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>), <span class="at">label_size =</span> <span class="dv">11</span>, <span class="at">ncol=</span><span class="dv">2</span>,<span class="at">rel_widths =</span>  <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0817-1.png" width="672" /></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="clus.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">&quot;./plot/g_segment05.jpg&quot;</span>,<span class="at">plot=</span><span class="fu">last_plot</span>(), <span class="at">width =</span> <span class="dv">27</span>, <span class="at">height =</span> <span class="dv">17</span>, <span class="at">units =</span> <span class="st">&quot;cm&quot;</span>)</span></code></pre></div>
</div>
<div id="afcm-pour-une-synthèse" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> AFCM pour une synthèse</h2>
<p>C’est le bon moment de donner une seconde illustration de l’utilité de l’AFCM. Pourquoi ne pas synthétiser en une carte l’ensemble des relations statistiques.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="clus.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb120-2"><a href="clus.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb120-3"><a href="clus.html#cb120-3" aria-hidden="true" tabindex="-1"></a>X<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>( group, Age, Sexe, Sensibilité, Situation2)</span>
<span id="cb120-4"><a href="clus.html#cb120-4" aria-hidden="true" tabindex="-1"></a>res<span class="ot">&lt;-</span><span class="fu">MCA</span>(X, <span class="at">graph =</span><span class="cn">FALSE</span>)</span>
<span id="cb120-5"><a href="clus.html#cb120-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-6"><a href="clus.html#cb120-6" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(res<span class="sc">$</span>var<span class="sc">$</span>coord) <span class="sc">%&gt;%</span></span>
<span id="cb120-7"><a href="clus.html#cb120-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var=</span><span class="st">&quot;var&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb120-8"><a href="clus.html#cb120-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">dim1=</span><span class="dv">2</span>, <span class="at">dim2=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-9"><a href="clus.html#cb120-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_rownames</span>(<span class="at">var =</span> <span class="st">&quot;rowname&quot;</span>)</span>
<span id="cb120-10"><a href="clus.html#cb120-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-11"><a href="clus.html#cb120-11" aria-hidden="true" tabindex="-1"></a>foo<span class="sc">$</span>rowname<span class="ot">&lt;-</span><span class="fu">as.numeric</span>(foo<span class="sc">$</span>rowname) </span>
<span id="cb120-12"><a href="clus.html#cb120-12" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>foo <span class="sc">%&gt;%</span>   <span class="fu">mutate</span>(<span class="at">label=</span><span class="fu">ifelse</span>(rowname<span class="sc">&lt;</span><span class="dv">9</span>, <span class="st">&quot;groupe&quot;</span>, <span class="st">&quot;&quot;</span>))</span>
<span id="cb120-13"><a href="clus.html#cb120-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-14"><a href="clus.html#cb120-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-15"><a href="clus.html#cb120-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-16"><a href="clus.html#cb120-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span>dim1, <span class="at">y=</span>dim2, <span class="at">label=</span> var) )<span class="sc">+</span></span>
<span id="cb120-17"><a href="clus.html#cb120-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb120-18"><a href="clus.html#cb120-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>var, <span class="at">color=</span>label),<span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb120-19"><a href="clus.html#cb120-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span><span class="fu">labs</span>( <span class="at">title=</span> <span class="st">&quot;AFCM&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0820-1.png" width="672" /></p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="clus.html#cb121-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<pre><code>## List of 1
##  $ legend.position: chr &quot;none&quot;
##  - attr(*, &quot;class&quot;)= chr [1:2] &quot;theme&quot; &quot;gg&quot;
##  - attr(*, &quot;complete&quot;)= logi FALSE
##  - attr(*, &quot;validate&quot;)= logi TRUE</code></pre>
<div id="forces-et-limites" class="section level3" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Forces et limites</h3>
<ul>
<li>forces : graphiques, complète</li>
<li>limites : petite population</li>
</ul>
</div>
</div>
<div id="les-méthodes-non-hiérarchiques" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Les méthodes non-hiérarchiques</h2>
<p>La première d’entre elles est la méthode k-means dont le principe est très simple : plutôt que de calculer toutes les distances entre tous les objets, on va se concentrer sur les distances en k group supposés et les n individus. L’hyperparamètre est ici le nombre de groupes</p>
<div id="principe" class="section level3" number="8.5.1">
<h3><span class="header-section-number">8.5.1</span> principe</h3>
</div>
<div id="application-1" class="section level3" number="8.5.2">
<h3><span class="header-section-number">8.5.2</span> Application</h3>
</div>
<div id="le-problème-de-la-détermination-du-nombre-optimal-de-groupe" class="section level3" number="8.5.3">
<h3><span class="header-section-number">8.5.3</span> Le problème de la détermination du nombre optimal de groupe</h3>
<ul>
<li>méthode du coude</li>
<li>méthode silhouette</li>
<li>gap statistics</li>
</ul>
</div>
</div>
<div id="autres-méthodes" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Autres méthodes</h2>
<p>de nombreuses variantes sont disponibles</p>
<ul>
<li>mediane</li>
<li>kernel</li>
<li>les méthodes fuzzy : l’appartenance n’est pas exclusive mais probabilistique</li>
<li>les méthode de classes latentes</li>
<li>les méthodes de densités s’appuie sur l’idée que la continuité d’un groupe s’exprime en terme s de densités
** paramètriques
** non - paramètriques <a href="http://www.sthda.com/english/wiki/wiki.php?id_contents=7940" class="uri">http://www.sthda.com/english/wiki/wiki.php?id_contents=7940</a></li>
</ul>
<p>: <a href="https://link.springer.com/referenceworkentry/10.1007%2F978-0-387-30164-8_211" class="uri">https://link.springer.com/referenceworkentry/10.1007%2F978-0-387-30164-8_211</a></p>
</div>
<div id="conclusion" class="section level2" number="8.7">
<h2><span class="header-section-number">8.7</span> Conclusion</h2>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-sneath_numerical_1973" class="csl-entry">
Sneath, P. H. A., and Robert R. Sokal. 1973. <em>Numerical Taxonomy: The Principles and Practice of Numerical Classification</em>. A <span>Series</span> of Books in Biology. San Francisco: W. H. Freeman.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analyses-factorielles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="régression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/08-clustering.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
