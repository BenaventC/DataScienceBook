<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 4 Prise en main | Introduction aux Data Sciences</title>
  <meta name="description" content="Mon cours d’analyse de donnée et de data science" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 4 Prise en main | Introduction aux Data Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Mon cours d’analyse de donnée et de data science" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 4 Prise en main | Introduction aux Data Sciences" />
  
  <meta name="twitter:description" content="Mon cours d’analyse de donnée et de data science" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2021-08-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="une-introduction-à-ggplot.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NLP en r et en français</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Préface</a></li>
<li class="chapter" data-level="2" data-path="plan-et-outils-du-manuel.html"><a href="plan-et-outils-du-manuel.html"><i class="fa fa-check"></i><b>2</b> Plan et outils du manuel</a><ul>
<li class="chapter" data-level="2.1" data-path="plan-et-outils-du-manuel.html"><a href="plan-et-outils-du-manuel.html#les-jeux-de-données"><i class="fa fa-check"></i><b>2.1</b> Les jeux de données</a></li>
<li class="chapter" data-level="2.2" data-path="plan-et-outils-du-manuel.html"><a href="plan-et-outils-du-manuel.html#le-cadre-technique"><i class="fa fa-check"></i><b>2.2</b> Le cadre technique</a></li>
<li class="chapter" data-level="2.3" data-path="plan-et-outils-du-manuel.html"><a href="plan-et-outils-du-manuel.html#a-faire"><i class="fa fa-check"></i><b>2.3</b> A faire</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>3</b> Introduction</a><ul>
<li class="chapter" data-level="3.1" data-path="intro.html"><a href="intro.html#science-ou-technique"><i class="fa fa-check"></i><b>3.1</b> Science ou technique ?</a></li>
<li class="chapter" data-level="3.2" data-path="intro.html"><a href="intro.html#histoires-des-logiciels-statistiques"><i class="fa fa-check"></i><b>3.2</b> histoires des logiciels statistiques</a></li>
<li class="chapter" data-level="3.3" data-path="intro.html"><a href="intro.html#le-processus-de-traitement-des-données"><i class="fa fa-check"></i><b>3.3</b> Le processus de traitement des données</a></li>
<li class="chapter" data-level="3.4" data-path="intro.html"><a href="intro.html#les-facteurs-de-développement-des-datasciences"><i class="fa fa-check"></i><b>3.4</b> Les facteurs de développement des datasciences</a><ul>
<li class="chapter" data-level="3.4.1" data-path="intro.html"><a href="intro.html#une-lingua-franca"><i class="fa fa-check"></i><b>3.4.1</b> Une lingua franca</a></li>
<li class="chapter" data-level="3.4.2" data-path="intro.html"><a href="intro.html#une-communauté"><i class="fa fa-check"></i><b>3.4.2</b> Une communauté</a></li>
<li class="chapter" data-level="3.4.3" data-path="intro.html"><a href="intro.html#la-multiplication-des-sources-de-données."><i class="fa fa-check"></i><b>3.4.3</b> La multiplication des sources de données.</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="intro.html"><a href="intro.html#du-ml-à-lia"><i class="fa fa-check"></i><b>3.5</b> du ML à l’IA</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prise-en-main.html"><a href="prise-en-main.html"><i class="fa fa-check"></i><b>4</b> Prise en main</a><ul>
<li class="chapter" data-level="4.1" data-path="prise-en-main.html"><a href="prise-en-main.html#la-convention-du-rmarkdown"><i class="fa fa-check"></i><b>4.1</b> La convention du Rmarkdown</a></li>
<li class="chapter" data-level="4.2" data-path="prise-en-main.html"><a href="prise-en-main.html#lire-les-données"><i class="fa fa-check"></i><b>4.2</b> Lire les données</a><ul>
<li class="chapter" data-level="4.2.1" data-path="prise-en-main.html"><a href="prise-en-main.html#le-cas-usuels-des-.csv"><i class="fa fa-check"></i><b>4.2.1</b> le cas usuels des *.csv</a></li>
<li class="chapter" data-level="4.2.2" data-path="prise-en-main.html"><a href="prise-en-main.html#la-diversité-des-formats"><i class="fa fa-check"></i><b>4.2.2</b> La diversité des formats</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="prise-en-main.html"><a href="prise-en-main.html#les-accès-directs"><i class="fa fa-check"></i><b>4.3</b> Les accès directs</a></li>
<li class="chapter" data-level="4.4" data-path="prise-en-main.html"><a href="prise-en-main.html#dplyr-pour-manipuler-les-données"><i class="fa fa-check"></i><b>4.4</b> <code>Dplyr</code> pour manipuler les données</a><ul>
<li class="chapter" data-level="4.4.1" data-path="prise-en-main.html"><a href="prise-en-main.html#des-pipes"><i class="fa fa-check"></i><b>4.4.1</b> Des pipes %&gt;%</a></li>
<li class="chapter" data-level="4.4.2" data-path="prise-en-main.html"><a href="prise-en-main.html#des-verbes"><i class="fa fa-check"></i><b>4.4.2</b> Des verbes</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="prise-en-main.html"><a href="prise-en-main.html#pour-aller-plus-loin"><i class="fa fa-check"></i><b>4.5</b> Pour aller plus loin</a></li>
<li class="chapter" data-level="4.6" data-path="prise-en-main.html"><a href="prise-en-main.html#etude-de-cas"><i class="fa fa-check"></i><b>4.6</b> Etude de cas</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html"><i class="fa fa-check"></i><b>5</b> Une introduction à ggplot</a><ul>
<li class="chapter" data-level="5.1" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#la-grammaire-des-graphiques"><i class="fa fa-check"></i><b>5.1</b> La grammaire des graphiques</a><ul>
<li class="chapter" data-level="5.1.1" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#un-modèle-en-couche"><i class="fa fa-check"></i><b>5.1.1</b> Un modèle en couche</a></li>
<li class="chapter" data-level="5.1.2" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#une-typologie-des-représentations"><i class="fa fa-check"></i><b>5.1.2</b> Une typologie des représentations</a></li>
<li class="chapter" data-level="5.1.3" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#lesthétique"><i class="fa fa-check"></i><b>5.1.3</b> L’esthétique</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#une-étude-de-cas"><i class="fa fa-check"></i><b>5.2</b> Une étude de cas</a></li>
<li class="chapter" data-level="5.3" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#analyse-univariée"><i class="fa fa-check"></i><b>5.3</b> Analyse univariée</a><ul>
<li class="chapter" data-level="5.3.1" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#le-cas-des-variables-quantitatives"><i class="fa fa-check"></i><b>5.3.1</b> Le cas des variables quantitatives</a></li>
<li class="chapter" data-level="5.3.2" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#quand-la-variable-est-qualitative"><i class="fa fa-check"></i><b>5.3.2</b> Quand la variable est qualitative</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#analyse-bivariée"><i class="fa fa-check"></i><b>5.4</b> Analyse bivariée</a><ul>
<li class="chapter" data-level="5.4.1" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#diagrammes-xy---la-magie-des-corrélations"><i class="fa fa-check"></i><b>5.4.1</b> Diagrammes xy - la magie des corrélations</a></li>
<li class="chapter" data-level="5.4.2" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#comparer-les-distributions"><i class="fa fa-check"></i><b>5.4.2</b> Comparer les distributions</a></li>
<li class="chapter" data-level="5.4.3" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#comparaison-de-moyennes"><i class="fa fa-check"></i><b>5.4.3</b> Comparaison de moyennes</a></li>
<li class="chapter" data-level="5.4.4" data-path="une-introduction-à-ggplot.html"><a href="une-introduction-à-ggplot.html#deux-variables-qualitatives"><i class="fa fa-check"></i><b>5.4.4</b> Deux variables qualitatives</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html"><i class="fa fa-check"></i><b>6</b> Analyse graphique multivariée</a><ul>
<li class="chapter" data-level="6.1" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#radar-plot"><i class="fa fa-check"></i><b>6.1</b> Radar plot</a></li>
<li class="chapter" data-level="6.2" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#tableau-de-corrélation"><i class="fa fa-check"></i><b>6.2</b> Tableau de corrélation</a></li>
<li class="chapter" data-level="6.3" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#facettes-qq-quanti"><i class="fa fa-check"></i><b>6.3</b> facettes( qq quanti)</a></li>
<li class="chapter" data-level="6.4" data-path="analyse-graphique-multivariée.html"><a href="analyse-graphique-multivariée.html#cowplot"><i class="fa fa-check"></i><b>6.4</b> cowplot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prise-en-main" class="section level1">
<h1><span class="header-section-number">Chapitre 4</span> Prise en main</h1>
<p>Pour démarrer :</p>
<p>1 - Télécharger et installer r sur le site du Comprehensive r Archive Network
2 - Télécharger et installer Rstudio.(version free)
3 - Dans le cadre de cet atelier, on adopte la méthode du rMarkdown, On recommande fortement de lire l’ouvrage de référence, même si la prise en main est très rapide. Il est désormais indispensable d’utiliser le package tidyverse et en particulier les fonctions de manipulation et de pipe de fichier de dplyr</p>
<div id="la-convention-du-rmarkdown" class="section level2">
<h2><span class="header-section-number">4.1</span> La convention du Rmarkdown</h2>
<p>Différentes manières d’interagir avec r sont possibles, dans ce manuel nous adoptions les méthodes <a href="https://rmarkdown.rstudio.com/lesson-1.html">rmarkdown</a>.</p>
<p>La première est le mode console, pour de petite opérations et un utilisateur chevronné, celà peut être commode car rapide mais très rapidement on sera amené à enregistrer les opérations dans des scripts. Mais pour produires des résultats, il faut lancer le script.</p>
<p>Une idée novatrice a été d’intégrer l’ensemble des élements dans un seul document : le script découpé en petits éléments : des chunks, le commentaire et l’analyse verbabe dans un format texte, et le résultat. Dans l’univers python il s’agit des carnets Jupiter, pour r c’est le rmarkdown.</p>
<p>C’est un dialecte du markdown générique adapté au langage r. On recommande au lecteur d’en lire <a href="https://bookdown.org/yihui/rmarkdown/">le manuel</a> et de le garder dans ses onglets.</p>
<p>Quelques éléments de base :</p>
<p>un document markdown est composé de plusieurs éléments</p>
<ul>
<li>Yalm dans cet entête les éléments essentiels sont définis et paramétrés</li>
<li>Texte : il suit les conventions de mise en forme du html :
** des # pour les niveau de titres
** (x)[*.html] pour des liens et <img src="image.jpg" alt="x" /> pour des images
**</li>
<li>Les chunks sont isolé par 3 tiks au début et à la fin.</li>
<li>Résultats</li>
</ul>
<p><a href="https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html#Footnotes" class="uri">https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html#Footnotes</a></p>
<p>On peut en réalité constituer un document complet le le publier en word, en hatml ou mieux en pdf/latex.
avec les éléments suivant</p>
<ul>
<li>bibliographie</li>
<li>références</li>
<li>liens</li>
<li>images</li>
</ul>
</div>
<div id="lire-les-données" class="section level2">
<h2><span class="header-section-number">4.2</span> Lire les données</h2>
<p>La première étape c’est la lecture des données. On commence par le plus simple la lecture de fichiers locaux, on jette un coup d’oeil à la diversité des formats, on introduit à la technique des accès directs bien utile pour s’assurer que les données sont bien fraiches.</p>
<div id="le-cas-usuels-des-.csv" class="section level3">
<h3><span class="header-section-number">4.2.1</span> le cas usuels des *.csv</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>)</a></code></pre></div>
</div>
<div id="la-diversité-des-formats" class="section level3">
<h3><span class="header-section-number">4.2.2</span> La diversité des formats</h3>
<p>Peu de formats échappent à r, ils peuvent faire appel à des packages spécifiques</p>
<ul>
<li>excell</li>
<li>Json</li>
<li>shape et autre GIS :</li>
<li>les formats bibliographique : bib et ris</li>
</ul>
</div>
</div>
<div id="les-accès-directs" class="section level2">
<h2><span class="header-section-number">4.3</span> Les accès directs</h2>
<p>Interfaces</p>
<p>le génie des API : ne pas se soucier de la mise à jour à chaque fois qu’on lance un calcul.</p>
<p>exemples :</p>
<ul>
<li>base d’archive de presse</li>
<li>api des réseaux sociaux</li>
<li>open data</li>
</ul>
</div>
<div id="dplyr-pour-manipuler-les-données" class="section level2">
<h2><span class="header-section-number">4.4</span> <code>Dplyr</code> pour manipuler les données</h2>
<p>C’est un des packages essentiel de la suite tidyverse.</p>
<div id="des-pipes" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Des pipes %&gt;%</h3>
<p>Une grand part de l’intérêt de dplyr est de reprendre un opérateur de maggritr très utiles : le pipe : %&gt;%. Celui ci permet de passer le résultats de l’opération à gauche, dans la fonction de droite.</p>
<p>Un exemple simple . Dans la ligne de code suivante, une première fonction lit le fichier CSV, et envoie le résultat de cette lecture dans une fonction graphique élémentaire: compter le nombre d’occurences des modalité de la variable room_type. On reviendra longuement sur ggplot, à ce stade ce qui compte c’est de retenir le procédé.</p>
<p>On va très vite en donner des exemples plus variés.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">g &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span><span class="kw">geom_histogram</span>()</a>
<a class="sourceLine" id="cb3-3" title="3">g</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/203-1.png" width="672" /></p>
</div>
<div id="des-verbes" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Des verbes</h3>
<p>L’originalité de dplyr est de définir des fonctions comme des verbes. Chaque verbe désigne un type d’action. On va les examiner progressivement</p>
<p>et <a href="http://larmarange.github.io/analyse-R/manipuler-les-donnees-avec-dplyr.html">dplyr</a> qui va nous permettre de manipuler les données aisément.</p>
<p>Ils sont simples à comprendre : tansformer une variables, filter les obsersation selon un critère, isoler des variables, les groupper pour en calculer des résultats statistiqyes ( somme, moyenne, variance, max min etc) * les déplouer selon un format long ou les distribuer en différents critères, les fusionner enfin selon les grandes modalité du SQL)</p>
<div id="mutate" class="section level4">
<h4><span class="header-section-number">4.4.2.1</span> Mutate</h4>
<p>En Français c’est “transformer”. On modifie la valeur d’une variable par une fonction plus ou moins complexe, éventuellement en ajoutant des conditions.</p>
<p>Dans notre exemple, faisant au plus simple, puisque la distribution est asymétrique, une transformation du prix par les log peut donner des résultats intéressants.</p>
<p>Et c’est le cas. On retrouve une distribution qui semble être gaussienne.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">g &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">price=</span><span class="kw">log10</span>(price))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span><span class="kw">geom_histogram</span>()</a>
<a class="sourceLine" id="cb4-4" title="4">g</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/204-1.png" width="672" /></p>
</div>
<div id="filter" class="section level4">
<h4><span class="header-section-number">4.4.2.2</span> Filter</h4>
<p>On peut voulir se concentrer sur une sous population. par exemple les chambres privées</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">g &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="st">  </span><span class="kw">filter</span>(room_type<span class="op">==</span><span class="st">&quot;Private room&quot;</span>)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="st">  </span><span class="co"># on note que le signe == est double, c&#39;est pour dire que la variable prend la valeur, ou non, qui est proposée</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">price=</span><span class="kw">log10</span>(price))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span><span class="kw">geom_histogram</span>()</a>
<a class="sourceLine" id="cb5-6" title="6">g</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/205-1.png" width="672" />
* filter</p>
</div>
<div id="select" class="section level4">
<h4><span class="header-section-number">4.4.2.3</span> select</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">g &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw">filter</span>(room_type<span class="op">==</span><span class="st">&quot;Private room&quot;</span>)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">  </span><span class="co"># on note que le signe == est double, c&#39;est pour dire que la variable prend la valeur, ou non, qui est proposée</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">price=</span><span class="kw">log10</span>(price))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price))<span class="op">+</span><span class="kw">geom_histogram</span>()</a>
<a class="sourceLine" id="cb6-6" title="6">g</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/206-1.png" width="672" /></p>
</div>
<div id="group_by-et-summarize" class="section level4">
<h4><span class="header-section-number">4.4.2.4</span> Group_by et summarize</h4>
<p>c’est une opération clé, en groupant selon les modalités d’une ou pluseirs variables, on peut construire des tableaux aggrégés.On l’associera à <code>summarize</code> qui permet de calculer les statistique aggrégé selon le groupe que l’on a définit</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">g &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./Data/BXL_listings.csv&quot;</span>)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(neighbourhood, price)<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">    </span><span class="kw">group_by</span>(neighbourhood ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">price=</span><span class="kw">mean</span>(price))<span class="op">%&gt;%</span><span class="st"> </span><span class="co"># ce qi permet de calculer le prix moyen par quartier</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>neighbourhood, <span class="dt">y=</span>price))<span class="op">+</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span> <span class="st">&quot;identity&quot;</span>)<span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>() <span class="op">+</span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Prix moyen des Airbnb à Bruxelles&quot;</span>)</a>
<a class="sourceLine" id="cb7-7" title="7">g</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/207-1.png" width="672" /></p>
</div>
<div id="gather-and-spread" class="section level4">
<h4><span class="header-section-number">4.4.2.5</span> gather and spread</h4>
<p>Si pour l’habitué des feuilles excell les données croisent des observations avec des variables, ce format n’est pas le seul moyuen de répsenter des données, et pas forcément le meilleurs</p>
</div>
<div id="merge" class="section level4">
<h4><span class="header-section-number">4.4.2.6</span> merge</h4>
<p>On sera souvent amené à fabriquer des tableaux de donnée en les enrichissant d’un autre. On sera amené fusionner les données.</p>
<p>Le cas le plus simples est d’ajouter d’autres observation à un fichier de données, si les variables sont identitiques on peut concaténer diffrents jeux de données avec la fonction de base rbind au contraire si les observation sont les mêmes, et que seules les variables sont différentes on peut utiliser cbind. L’équivalent de DPLYR est row_bind et column_bind</p>
<p>mais très souvent on sera dans des cas différents et la fusion des données devra suivre des index</p>
<div class="figure">
<img src="Images/merge_ex-1024x624.png" alt="merge" />
<p class="caption">merge</p>
</div>
<p>quatre types de fusion</p>
<p>genérale</p>
<p>fusion à gauche</p>
<p>fusion à droite</p>
<p><a href="https://coletl.github.io/tidy_intro/lessons/dplyr_join/dplyr_join.html" class="uri">https://coletl.github.io/tidy_intro/lessons/dplyr_join/dplyr_join.html</a></p>
</div>
</div>
</div>
<div id="pour-aller-plus-loin" class="section level2">
<h2><span class="header-section-number">4.5</span> Pour aller plus loin</h2>
<p>On engage le lecteur à poursuivre avec</p>
<ul>
<li>le bookdown au-delà du markdown</li>
<li>une théorie des tidy data</li>
</ul>
</div>
<div id="etude-de-cas" class="section level2">
<h2><span class="header-section-number">4.6</span> Etude de cas</h2>
<p>Le plan de recodage d’un jeu de données qu’on va employer dans les chapitre suivant. Il s’appuie sur le langage de base.</p>
<p>Un excercice peut être de le réécrire avec dplyr.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">df&lt;-<span class="kw">readRDS</span>(<span class="st">&quot;./data/trustFrAll.rds&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#quelques recodages</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#on renomme pour plus de clarte</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstun&quot;</span>] &lt;-<span class="st"> &quot;NationsUnies&quot;</span> </a>
<a class="sourceLine" id="cb8-6" title="6"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstep&quot;</span>] &lt;-<span class="st"> &quot;ParlementEurop&quot;</span> </a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstlgl&quot;</span>] &lt;-<span class="st"> &quot;Justice&quot;</span> </a>
<a class="sourceLine" id="cb8-8" title="8"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstplc&quot;</span>] &lt;-<span class="st"> &quot;Police&quot;</span> </a>
<a class="sourceLine" id="cb8-9" title="9"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstplt&quot;</span>] &lt;-<span class="st"> &quot;Politiques&quot;</span> </a>
<a class="sourceLine" id="cb8-10" title="10"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstprl&quot;</span>] &lt;-<span class="st">&quot;Parlement&quot;</span> </a>
<a class="sourceLine" id="cb8-11" title="11"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;trstprt&quot;</span>] &lt;-<span class="st"> &quot;Partis&quot;</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;pplhlp&quot;</span>] &lt;-<span class="st"> &quot;help&quot;</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;pplfair&quot;</span>] &lt;-<span class="st"> &quot;fair&quot;</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="kw">names</span>(df)[<span class="kw">names</span>(df)<span class="op">==</span><span class="st">&quot;ppltrst&quot;</span>] &lt;-<span class="st"> &quot;trust&quot;</span></a>
<a class="sourceLine" id="cb8-15" title="15"></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="co">#on construit les scores de confiance </span></a>
<a class="sourceLine" id="cb8-17" title="17">df&lt;-df <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">trust_institut=</span>(Partis<span class="op">+</span>Parlement<span class="op">+</span>Politiques<span class="op">+</span>Police<span class="op">+</span>Justice<span class="op">+</span>NationsUnies<span class="op">+</span>ParlementEurop)<span class="op">*</span><span class="dv">10</span><span class="op">/</span><span class="dv">7</span>,<span class="dt">trust_interpersonnel=</span>(help<span class="op">+</span>fair<span class="op">+</span>trust)<span class="op">*</span><span class="dv">10</span><span class="op">/</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-19" title="19">df<span class="op">$</span>Year&lt;-<span class="dv">2000</span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="co">#recodage des variables independantes</span></a>
<a class="sourceLine" id="cb8-21" title="21">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">1</span>]&lt;-<span class="dv">2002</span></a>
<a class="sourceLine" id="cb8-22" title="22">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">2</span>]&lt;-<span class="dv">2004</span></a>
<a class="sourceLine" id="cb8-23" title="23">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">3</span>]&lt;-<span class="dv">2006</span></a>
<a class="sourceLine" id="cb8-24" title="24">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">4</span>]&lt;-<span class="dv">2008</span></a>
<a class="sourceLine" id="cb8-25" title="25">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">5</span>]&lt;-<span class="dv">2010</span></a>
<a class="sourceLine" id="cb8-26" title="26">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">6</span>]&lt;-<span class="dv">2012</span></a>
<a class="sourceLine" id="cb8-27" title="27">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">7</span>]&lt;-<span class="dv">2014</span></a>
<a class="sourceLine" id="cb8-28" title="28">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">8</span>]&lt;-<span class="dv">2016</span></a>
<a class="sourceLine" id="cb8-29" title="29">df<span class="op">$</span>Year[df<span class="op">$</span>essround<span class="op">==</span><span class="dv">9</span>]&lt;-<span class="dv">2018</span></a>
<a class="sourceLine" id="cb8-30" title="30">df<span class="op">$</span>Year&lt;-<span class="kw">as.factor</span>(df<span class="op">$</span>Year) </a>
<a class="sourceLine" id="cb8-31" title="31"></a>
<a class="sourceLine" id="cb8-32" title="32">df<span class="op">$</span>OP&lt;-<span class="st">&quot; &quot;</span></a>
<a class="sourceLine" id="cb8-33" title="33"><span class="co">#ggplot(df,aes(x=lrscale))+geom_histogram()</span></a>
<a class="sourceLine" id="cb8-34" title="34">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">0</span>] &lt;-<span class="st"> &quot;Extrême gauche&quot;</span> </a>
<a class="sourceLine" id="cb8-35" title="35">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Gauche&quot;</span> </a>
<a class="sourceLine" id="cb8-36" title="36">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;Gauche&quot;</span> </a>
<a class="sourceLine" id="cb8-37" title="37">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">3</span>] &lt;-<span class="st"> &quot;Centre Gauche&quot;</span> </a>
<a class="sourceLine" id="cb8-38" title="38">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">4</span>] &lt;-<span class="st"> &quot;Centre Gauche&quot;</span> </a>
<a class="sourceLine" id="cb8-39" title="39">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">5</span>] &lt;-<span class="st"> &quot;Ni G ni D&quot;</span> </a>
<a class="sourceLine" id="cb8-40" title="40">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">6</span>] &lt;-<span class="st"> &quot;Centre Droit&quot;</span> </a>
<a class="sourceLine" id="cb8-41" title="41">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">7</span>] &lt;-<span class="st"> &quot;Centre Droit&quot;</span> </a>
<a class="sourceLine" id="cb8-42" title="42">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">8</span>] &lt;-<span class="st"> &quot;Droite&quot;</span> </a>
<a class="sourceLine" id="cb8-43" title="43">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">9</span>] &lt;-<span class="st"> &quot;Droite&quot;</span> </a>
<a class="sourceLine" id="cb8-44" title="44">df<span class="op">$</span>OP[df<span class="op">$</span>lrscale<span class="op">==</span><span class="dv">10</span>] &lt;-<span class="st"> &quot;Extrême droite&quot;</span> </a>
<a class="sourceLine" id="cb8-45" title="45"><span class="co">#la ligne suivante est pour ordonner les modalités de la variables</span></a>
<a class="sourceLine" id="cb8-46" title="46">df<span class="op">$</span>OP&lt;-<span class="kw">factor</span>(df<span class="op">$</span>OP,<span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;Extrême droite&quot;</span>,<span class="st">&quot;Droite&quot;</span>,<span class="st">&quot;Centre Droit&quot;</span>,<span class="st">&quot;Ni G ni D&quot;</span>,<span class="st">&quot;Centre Gauche&quot;</span>,<span class="st">&quot;Gauche&quot;</span>,<span class="st">&quot;Extrême gauche&quot;</span>))</a>
<a class="sourceLine" id="cb8-47" title="47"></a>
<a class="sourceLine" id="cb8-48" title="48"></a>
<a class="sourceLine" id="cb8-49" title="49">df<span class="op">$</span>revenu&lt;-<span class="st">&quot; &quot;</span></a>
<a class="sourceLine" id="cb8-50" title="50">df<span class="op">$</span>revenu[df<span class="op">$</span>hincfel<span class="op">&gt;</span><span class="dv">4</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb8-51" title="51">df<span class="op">$</span>revenu[df<span class="op">$</span>hincfel<span class="op">==</span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Vie confortable&quot;</span> </a>
<a class="sourceLine" id="cb8-52" title="52">df<span class="op">$</span>revenu[df<span class="op">$</span>hincfel<span class="op">==</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;Se débrouille avec son revenu&quot;</span> </a>
<a class="sourceLine" id="cb8-53" title="53">df<span class="op">$</span>revenu[df<span class="op">$</span>hincfel<span class="op">==</span><span class="dv">3</span>] &lt;-<span class="st"> &quot;Revenu insuffisant&quot;</span> </a>
<a class="sourceLine" id="cb8-54" title="54">df<span class="op">$</span>revenu[df<span class="op">$</span>hincfel<span class="op">==</span><span class="dv">4</span>] &lt;-<span class="st"> &quot;Revenu très insuffisant&quot;</span> </a>
<a class="sourceLine" id="cb8-55" title="55">df<span class="op">$</span>revenu&lt;-<span class="kw">factor</span>(df<span class="op">$</span>revenu,<span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;Vie confortable&quot;</span>,<span class="st">&quot;Se débrouille avec son revenu&quot;</span>,<span class="st">&quot;Revenu insuffisant&quot;</span>,<span class="st">&quot;Revenu très insuffisant&quot;</span>))</a>
<a class="sourceLine" id="cb8-56" title="56"></a>
<a class="sourceLine" id="cb8-57" title="57">df<span class="op">$</span>habitat&lt;-<span class="st">&quot; &quot;</span></a>
<a class="sourceLine" id="cb8-58" title="58"></a>
<a class="sourceLine" id="cb8-59" title="59">df<span class="op">$</span>habitat[df<span class="op">$</span>domicil<span class="op">==</span><span class="dv">1</span>]&lt;-<span class="st"> &quot;Big city&quot;</span></a>
<a class="sourceLine" id="cb8-60" title="60">df<span class="op">$</span>habitat[df<span class="op">$</span>domicil<span class="op">==</span><span class="dv">2</span>]&lt;-<span class="st">&quot;Suburbs&quot;</span></a>
<a class="sourceLine" id="cb8-61" title="61">df<span class="op">$</span>habitat[df<span class="op">$</span>domicil<span class="op">==</span><span class="dv">3</span>]&lt;-<span class="st">&quot;Town&quot;</span></a>
<a class="sourceLine" id="cb8-62" title="62">df<span class="op">$</span>habitat[df<span class="op">$</span>domicil<span class="op">==</span><span class="dv">4</span>]&lt;-<span class="st">&quot;Village&quot;</span></a>
<a class="sourceLine" id="cb8-63" title="63">df<span class="op">$</span>habitat[df<span class="op">$</span>domicil<span class="op">==</span><span class="dv">5</span>]&lt;-<span class="st">&quot;Countryside&quot;</span></a>
<a class="sourceLine" id="cb8-64" title="64">df<span class="op">$</span>habitat&lt;-<span class="kw">factor</span>(df<span class="op">$</span>habitat,<span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;Big city&quot;</span>,<span class="st">&quot;Suburbs&quot;</span>,<span class="st">&quot;Town&quot;</span>,<span class="st">&quot;Village&quot;</span>,<span class="st">&quot;Countryside&quot;</span>))</a>
<a class="sourceLine" id="cb8-65" title="65"></a>
<a class="sourceLine" id="cb8-66" title="66">df<span class="op">$</span>genre&lt;-<span class="st">&quot; &quot;</span></a>
<a class="sourceLine" id="cb8-67" title="67"></a>
<a class="sourceLine" id="cb8-68" title="68">df<span class="op">$</span>genre[df<span class="op">$</span>gndr<span class="op">==</span><span class="dv">1</span>]&lt;-<span class="st">&quot;H&quot;</span></a>
<a class="sourceLine" id="cb8-69" title="69">df<span class="op">$</span>genre[df<span class="op">$</span>gndr<span class="op">==</span><span class="dv">2</span>]&lt;-<span class="st">&quot;F&quot;</span></a>
<a class="sourceLine" id="cb8-70" title="70"></a>
<a class="sourceLine" id="cb8-71" title="71">df<span class="op">$</span>age&lt;-<span class="st">&quot; &quot;</span></a>
<a class="sourceLine" id="cb8-72" title="72"></a>
<a class="sourceLine" id="cb8-73" title="73">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&lt;</span><span class="dv">26</span>]&lt;-<span class="st">&quot;25&lt;&quot;</span></a>
<a class="sourceLine" id="cb8-74" title="74">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&gt;</span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>df<span class="op">$</span>agea<span class="op">&lt;</span><span class="dv">36</span>]&lt;-<span class="st">&quot;26-35&quot;</span></a>
<a class="sourceLine" id="cb8-75" title="75">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&gt;</span><span class="dv">35</span> <span class="op">&amp;</span><span class="st"> </span>df<span class="op">$</span>agea<span class="op">&lt;</span><span class="dv">46</span>]&lt;-<span class="st">&quot;36-45&quot;</span></a>
<a class="sourceLine" id="cb8-76" title="76">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&gt;</span><span class="dv">45</span> <span class="op">&amp;</span><span class="st"> </span>df<span class="op">$</span>agea<span class="op">&lt;</span><span class="dv">66</span>]&lt;-<span class="st">&quot;46-65&quot;</span></a>
<a class="sourceLine" id="cb8-77" title="77">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&gt;</span><span class="dv">65</span> <span class="op">&amp;</span><span class="st"> </span>df<span class="op">$</span>agea<span class="op">&lt;</span><span class="dv">76</span>]&lt;-<span class="st">&quot;66-75&quot;</span></a>
<a class="sourceLine" id="cb8-78" title="78">df<span class="op">$</span>age[df<span class="op">$</span>agea<span class="op">&gt;</span><span class="dv">75</span>]&lt;-<span class="st">&quot;75&gt;&quot;</span></a>
<a class="sourceLine" id="cb8-79" title="79">df<span class="op">$</span>age&lt;-<span class="kw">factor</span>(df<span class="op">$</span>age,<span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&quot;25&lt;&quot;</span>,<span class="st">&quot;26-35&quot;</span>,<span class="st">&quot;36-45&quot;</span>,<span class="st">&quot;46-65&quot;</span>,<span class="st">&quot;66-75&quot;</span>, <span class="st">&quot;75&gt;&quot;</span>))</a>
<a class="sourceLine" id="cb8-80" title="80"></a>
<a class="sourceLine" id="cb8-81" title="81"><span class="kw">saveRDS</span>(df, <span class="st">&quot;./data/dfTrust.rds)&quot;</span>)</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="une-introduction-à-ggplot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-PriseEnMain.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
