<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 5 Analyse bi variée | Introduction aux Data Sciences/nAvec r</title>
  <meta name="description" content="Cours d’analyse de données et de Datascience" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 5 Analyse bi variée | Introduction aux Data Sciences/nAvec r" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours d’analyse de données et de Datascience" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 5 Analyse bi variée | Introduction aux Data Sciences/nAvec r" />
  
  <meta name="twitter:description" content="Cours d’analyse de données et de Datascience" />
  

<meta name="author" content="Christophe Benavent - Université Paris Dauphine" />


<meta name="date" content="2022-10-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analyses-univariées.html"/>
<link rel="next" href="analyse-graphique-multivariée.html"/>
<script src="libs/header-attrs-2.17/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science Book</a></li>

<li class="divider"></li>
<li><a href="index.html#avant-propos" id="toc-avant-propos"><span class="toc-section-number">1</span> Avant propos<span></span></a>
<ul>
<li><a href="index.html#plan-du-manuel" id="toc-plan-du-manuel"><span class="toc-section-number">1.1</span> Plan du manuel<span></span></a></li>
<li><a href="index.html#les-jeux-de-données" id="toc-les-jeux-de-données"><span class="toc-section-number">1.2</span> Les jeux de données<span></span></a></li>
<li><a href="index.html#le-cadre-technique-et-les-packages-utilisés" id="toc-le-cadre-technique-et-les-packages-utilisés"><span class="toc-section-number">1.3</span> Le cadre technique et les packages utilisés<span></span></a></li>
</ul></li>
<li><a href="intro.html#intro" id="toc-intro"><span class="toc-section-number">2</span> Introduction aux data sciences<span></span></a>
<ul>
<li><a href="intro.html#science-art-technique-et-pratiques" id="toc-science-art-technique-et-pratiques"><span class="toc-section-number">2.1</span> Science, art, technique et pratiques<span></span></a></li>
<li><a href="intro.html#une-courte-histoires-des-logiciels-statistiques" id="toc-une-courte-histoires-des-logiciels-statistiques"><span class="toc-section-number">2.2</span> Une courte histoires des logiciels statistiques<span></span></a></li>
<li><a href="intro.html#le-processus-de-traitement-des-données" id="toc-le-processus-de-traitement-des-données"><span class="toc-section-number">2.3</span> Le processus de traitement des données<span></span></a></li>
<li><a href="intro.html#les-facteurs-sociaux-du-développement-des-datasciences" id="toc-les-facteurs-sociaux-du-développement-des-datasciences"><span class="toc-section-number">2.4</span> Les facteurs sociaux du développement des datasciences<span></span></a>
<ul>
<li><a href="intro.html#une-lingua-franca" id="toc-une-lingua-franca"><span class="toc-section-number">2.4.1</span> Une lingua franca<span></span></a></li>
<li><a href="intro.html#une-communauté" id="toc-une-communauté"><span class="toc-section-number">2.4.2</span> Une communauté<span></span></a></li>
<li><a href="intro.html#la-multiplication-des-sources-de-données." id="toc-la-multiplication-des-sources-de-données."><span class="toc-section-number">2.4.3</span> La multiplication des sources de données.<span></span></a></li>
<li><a href="intro.html#de-la-statistique-à-lia" id="toc-de-la-statistique-à-lia"><span class="toc-section-number">2.4.4</span> de la statistique à l’IA<span></span></a></li>
</ul></li>
<li><a href="intro.html#conclusion" id="toc-conclusion"><span class="toc-section-number">2.5</span> Conclusion<span></span></a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#prise-en-main-de-r" id="toc-prise-en-main-de-r"><span class="toc-section-number">3</span> Prise en main de r<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#la-convention-du-rmarkdown" id="toc-la-convention-du-rmarkdown"><span class="toc-section-number">3.1</span> La convention du Rmarkdown<span></span></a></li>
<li><a href="prise-en-main-de-r.html#lire-les-données" id="toc-lire-les-données"><span class="toc-section-number">3.2</span> Lire les données<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#la-diversité-des-formats" id="toc-la-diversité-des-formats"><span class="toc-section-number">3.2.1</span> La diversité des formats<span></span></a></li>
</ul></li>
<li><a href="prise-en-main-de-r.html#dplyr-pour-manipuler-les-données" id="toc-dplyr-pour-manipuler-les-données"><span class="toc-section-number">3.3</span> <code>Dplyr</code> pour manipuler les données<span></span></a>
<ul>
<li><a href="prise-en-main-de-r.html#des-pipes" id="toc-des-pipes"><span class="toc-section-number">3.3.1</span> Des pipes %&gt;%<span></span></a></li>
<li><a href="prise-en-main-de-r.html#des-verbes" id="toc-des-verbes"><span class="toc-section-number">3.3.2</span> Des verbes<span></span></a></li>
<li><a href="prise-en-main-de-r.html#fusionner-les-données" id="toc-fusionner-les-données"><span class="toc-section-number">3.3.3</span> Fusionner les données<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyses-univariées.html#analyses-univariées" id="toc-analyses-univariées"><span class="toc-section-number">4</span> Analyses univariées<span></span></a>
<ul>
<li><a href="analyses-univariées.html#la-grammaire-des-graphiques" id="toc-la-grammaire-des-graphiques"><span class="toc-section-number">4.1</span> La grammaire des graphiques<span></span></a>
<ul>
<li><a href="analyses-univariées.html#un-modèle-en-couche" id="toc-un-modèle-en-couche"><span class="toc-section-number">4.1.1</span> Un modèle en couche<span></span></a></li>
<li><a href="analyses-univariées.html#une-typologie-des-représentations" id="toc-une-typologie-des-représentations"><span class="toc-section-number">4.1.2</span> Une typologie des représentations<span></span></a></li>
<li><a href="analyses-univariées.html#lesthétique" id="toc-lesthétique"><span class="toc-section-number">4.1.3</span> L’esthétique<span></span></a></li>
</ul></li>
<li><a href="analyses-univariées.html#une-étude-de-cas" id="toc-une-étude-de-cas"><span class="toc-section-number">4.2</span> Une étude de cas<span></span></a>
<ul>
<li><a href="analyses-univariées.html#le-cas-des-variables-quantitatives" id="toc-le-cas-des-variables-quantitatives"><span class="toc-section-number">4.2.1</span> Le cas des variables quantitatives<span></span></a></li>
<li><a href="analyses-univariées.html#quand-la-variable-est-qualitative" id="toc-quand-la-variable-est-qualitative"><span class="toc-section-number">4.2.2</span> Quand la variable est qualitative<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyse-bi-variée.html#analyse-bi-variée" id="toc-analyse-bi-variée"><span class="toc-section-number">5</span> Analyse bi variée<span></span></a>
<ul>
<li><a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" id="toc-diagrammes-xy---la-magie-des-corrélations"><span class="toc-section-number">5.1</span> Diagrammes xy - la magie des corrélations<span></span></a></li>
<li><a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" id="toc-comparer-les-distributions-et-des-moyennes"><span class="toc-section-number">5.2</span> Comparer les distributions et des moyennes<span></span></a>
<ul>
<li><a href="analyse-bi-variée.html#comparaison-de-moyennes" id="toc-comparaison-de-moyennes"><span class="toc-section-number">5.2.1</span> Comparaison de moyennes<span></span></a></li>
<li><a href="analyse-bi-variée.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">5.2.2</span> Deux variables qualitatives<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#analyse-graphique-multivariée" id="toc-analyse-graphique-multivariée"><span class="toc-section-number">6</span> Analyse graphique multivariée<span></span></a>
<ul>
<li><a href="analyse-graphique-multivariée.html#la-confiance-institutionnelle-en-détail" id="toc-la-confiance-institutionnelle-en-détail"><span class="toc-section-number">6.1</span> La confiance institutionnelle, en détail<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#table-de-corrélation" id="toc-table-de-corrélation"><span class="toc-section-number">6.2</span> Table de corrélation<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#un-cas-plus-complexe-présidentielle2020" id="toc-un-cas-plus-complexe-présidentielle2020"><span class="toc-section-number">6.3</span> Un cas plus complexe : présidentielle2020<span></span></a></li>
<li><a href="analyse-graphique-multivariée.html#une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre" id="toc-une-boucle-pour-produire-de-multiple-graphe-en-variant-un-paramètre"><span class="toc-section-number">6.4</span> une boucle pour produire de multiple graphe en variant un paramètre<span></span></a>
<ul>
<li><a href="analyse-graphique-multivariée.html#effet-sondeur" id="toc-effet-sondeur"><span class="toc-section-number">6.4.1</span> effet sondeur<span></span></a></li>
</ul></li>
<li><a href="analyse-graphique-multivariée.html#modéliser-le-biais-du-sondeur" id="toc-modéliser-le-biais-du-sondeur"><span class="toc-section-number">6.5</span> Modéliser le biais du sondeur<span></span></a></li>
</ul></li>
<li><a href="données-géographique.html#données-géographique" id="toc-données-géographique"><span class="toc-section-number">7</span> Données géographique<span></span></a></li>
<li><a href="analyses-factorielles.html#analyses-factorielles" id="toc-analyses-factorielles"><span class="toc-section-number">8</span> Analyses factorielles<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#origine-et-histoire" id="toc-origine-et-histoire"><span class="toc-section-number">8.1</span> Origine et histoire<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#une-petite-histoire-de-la-psychométrie" id="toc-une-petite-histoire-de-la-psychométrie"><span class="toc-section-number">8.1.1</span> Une petite histoire de la psychométrie<span></span></a></li>
<li><a href="analyses-factorielles.html#lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales" id="toc-lécole-française-de-lanalyse-des-données-appliquée-aux-sciences-sociales"><span class="toc-section-number">8.1.2</span> L’école française de l’analyse des données appliquée aux sciences sociales<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#le-modèle-factoriel-des-tests-psychologiques" id="toc-le-modèle-factoriel-des-tests-psychologiques"><span class="toc-section-number">8.2</span> Le modèle factoriel des tests psychologiques<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#un-peu-de-théorie" id="toc-un-peu-de-théorie"><span class="toc-section-number">8.2.1</span> Un peu de théorie<span></span></a></li>
<li><a href="analyses-factorielles.html#lestimation" id="toc-lestimation"><span class="toc-section-number">8.2.2</span> L’estimation<span></span></a></li>
<li><a href="analyses-factorielles.html#ressources" id="toc-ressources"><span class="toc-section-number">8.2.3</span> Ressources<span></span></a></li>
<li><a href="analyses-factorielles.html#cas-dapplication" id="toc-cas-dapplication"><span class="toc-section-number">8.2.4</span> Cas d’application<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#examen-de-la-matrice-de-corrélation" id="toc-examen-de-la-matrice-de-corrélation"><span class="toc-section-number">8.3</span> Examen de la matrice de corrélation<span></span></a></li>
<li><a href="analyses-factorielles.html#modèle-factoriel" id="toc-modèle-factoriel"><span class="toc-section-number">8.4</span> Modèle factoriel<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#le-problème-théorique" id="toc-le-problème-théorique"><span class="toc-section-number">8.4.1</span> le problème théorique<span></span></a></li>
<li><a href="analyses-factorielles.html#une-représentation-symbolique" id="toc-une-représentation-symbolique"><span class="toc-section-number">8.4.2</span> Une représentation symbolique<span></span></a></li>
<li><a href="analyses-factorielles.html#application" id="toc-application"><span class="toc-section-number">8.4.3</span> Application<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#une-généralisation-de-lacp-lafc" id="toc-une-généralisation-de-lacp-lafc"><span class="toc-section-number">8.5</span> Une généralisation de l’ACP : l’AFC<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#afcm-multiple" id="toc-afcm-multiple"><span class="toc-section-number">8.5.1</span> AFCM multiple<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#développements" id="toc-développements"><span class="toc-section-number">8.6</span> Développements<span></span></a>
<ul>
<li><a href="analyses-factorielles.html#le-svd" id="toc-le-svd"><span class="toc-section-number">8.6.1</span> le SVD<span></span></a></li>
<li><a href="analyses-factorielles.html#acm-analyse-canonique-analyse-discriminante" id="toc-acm-analyse-canonique-analyse-discriminante"><span class="toc-section-number">8.6.2</span> ACM , analyse canonique , analyse discriminante<span></span></a></li>
</ul></li>
<li><a href="analyses-factorielles.html#en-conclusion" id="toc-en-conclusion"><span class="toc-section-number">8.7</span> En conclusion<span></span></a></li>
</ul></li>
<li><a href="clus.html#clus" id="toc-clus"><span class="toc-section-number">9</span> Clustering<span></span></a>
<ul>
<li><a href="clus.html#les-méthodes-hiérarchiques-ascendantes" id="toc-les-méthodes-hiérarchiques-ascendantes"><span class="toc-section-number">9.1</span> Les méthodes hiérarchiques ascendantes<span></span></a>
<ul>
<li><a href="clus.html#mise-en-oeuvre" id="toc-mise-en-oeuvre"><span class="toc-section-number">9.1.1</span> Mise en oeuvre<span></span></a></li>
</ul></li>
<li><a href="clus.html#segmentation-simplifiée" id="toc-segmentation-simplifiée"><span class="toc-section-number">9.2</span> segmentation simplifiée<span></span></a></li>
<li><a href="clus.html#tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos" id="toc-tableaux-croisés-de-la-typologie-et-des-critères-sociaux-démos"><span class="toc-section-number">9.3</span> tableaux croisés de la typologie et des critères sociaux démos<span></span></a></li>
<li><a href="clus.html#afcm-pour-une-synthèse" id="toc-afcm-pour-une-synthèse"><span class="toc-section-number">9.4</span> AFCM pour une synthèse<span></span></a>
<ul>
<li><a href="clus.html#forces-et-limites" id="toc-forces-et-limites"><span class="toc-section-number">9.4.1</span> Forces et limites<span></span></a></li>
</ul></li>
<li><a href="clus.html#les-méthodes-non-hiérarchiques" id="toc-les-méthodes-non-hiérarchiques"><span class="toc-section-number">9.5</span> Les méthodes non-hiérarchiques<span></span></a>
<ul>
<li><a href="clus.html#principe" id="toc-principe"><span class="toc-section-number">9.5.1</span> principe<span></span></a></li>
<li><a href="clus.html#application-1" id="toc-application-1"><span class="toc-section-number">9.5.2</span> Application<span></span></a></li>
<li><a href="clus.html#le-problème-de-la-détermination-du-nombre-optimal-de-groupe" id="toc-le-problème-de-la-détermination-du-nombre-optimal-de-groupe"><span class="toc-section-number">9.5.3</span> Le problème de la détermination du nombre optimal de groupe<span></span></a></li>
</ul></li>
<li><a href="clus.html#autres-méthodes" id="toc-autres-méthodes"><span class="toc-section-number">9.6</span> Autres méthodes<span></span></a></li>
<li><a href="clus.html#conclusion-1" id="toc-conclusion-1"><span class="toc-section-number">9.7</span> Conclusion<span></span></a></li>
</ul></li>
<li><a href="régression.html#régression" id="toc-régression"><span class="toc-section-number">10</span> 9 - Régression<span></span></a>
<ul>
<li><a href="régression.html#une-étude-de-cas-les-offres-blablacar" id="toc-une-étude-de-cas-les-offres-blablacar"><span class="toc-section-number">10.1</span> Une étude de cas : les offres Blablacar<span></span></a>
<ul>
<li><a href="régression.html#les-caractérisques-de-loffre" id="toc-les-caractérisques-de-loffre"><span class="toc-section-number">10.1.1</span> Les caractérisques de l’offre<span></span></a></li>
</ul></li>
<li><a href="régression.html#notes-prix-et-taux-doccupations" id="toc-notes-prix-et-taux-doccupations"><span class="toc-section-number">10.2</span> Notes, prix et taux d’occupations<span></span></a></li>
<li><a href="régression.html#analyse-des-prix" id="toc-analyse-des-prix"><span class="toc-section-number">10.3</span> Analyse des prix<span></span></a></li>
<li><a href="régression.html#analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation" id="toc-analyser-la-demande-quest-ce-qui-détermine-le-taux-doccupation"><span class="toc-section-number">10.4</span> Analyser la demande : qu’est ce qui détermine le taux d’occupation ?<span></span></a>
<ul>
<li><a href="régression.html#un-modèle-ols" id="toc-un-modèle-ols"><span class="toc-section-number">10.4.1</span> Un modèle OLS<span></span></a></li>
</ul></li>
<li><a href="régression.html#autres-modèles" id="toc-autres-modèles"><span class="toc-section-number">10.5</span> Autres modèles<span></span></a>
<ul>
<li><a href="régression.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">10.5.1</span> Régression logistique<span></span></a></li>
<li><a href="régression.html#modèle-de-comptage" id="toc-modèle-de-comptage"><span class="toc-section-number">10.5.2</span> Modèle de comptage<span></span></a></li>
<li><a href="régression.html#modèle-de-régression-beta" id="toc-modèle-de-régression-beta"><span class="toc-section-number">10.5.3</span> Modèle de régression beta<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="modèle-de-survie.html#modèle-de-survie" id="toc-modèle-de-survie"><span class="toc-section-number">11</span> 10 - Modèle de survie<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#les-modèles-linéaires-hiérarchiques-hlm" id="toc-les-modèles-linéaires-hiérarchiques-hlm"><span class="toc-section-number">12</span> Les modèles linéaires hiérarchiques (HLM)<span></span></a>
<ul>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#en-guise-dintroduction" id="toc-en-guise-dintroduction"><span class="toc-section-number">12.1</span> en guise d’introduction<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#une-application" id="toc-une-application"><span class="toc-section-number">12.2</span> Une application<span></span></a></li>
<li><a href="les-modèles-linéaires-hiérarchiques-hlm.html#sem-avec-lavaan" id="toc-sem-avec-lavaan"><span class="toc-section-number">12.3</span> Sem avec Lavaan<span></span></a></li>
</ul></li>
<li><a href="arbres-de-décision.html#arbres-de-décision" id="toc-arbres-de-décision"><span class="toc-section-number">13</span> Arbres de Décision<span></span></a>
<ul>
<li><a href="arbres-de-décision.html#construire-un-arbre-de-décision" id="toc-construire-un-arbre-de-décision"><span class="toc-section-number">13.1</span> Construire un arbre de décision<span></span></a></li>
<li><a href="arbres-de-décision.html#mise-en-oeuvre-avec-partykit" id="toc-mise-en-oeuvre-avec-partykit"><span class="toc-section-number">13.2</span> Mise en oeuvre avec Partykit<span></span></a></li>
<li><a href="arbres-de-décision.html#forêts-aléatoires" id="toc-forêts-aléatoires"><span class="toc-section-number">13.3</span> forêts aléatoires<span></span></a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#premiers-éléments-de-machine-learning" id="toc-premiers-éléments-de-machine-learning"><span class="toc-section-number">14</span> Premiers éléments de Machine Learning<span></span></a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#une-typologie-de-modèles" id="toc-une-typologie-de-modèles"><span class="toc-section-number">14.1</span> une typologie de modèles<span></span></a>
<ul>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-linéaire" id="toc-le-modèle-linéaire"><span class="toc-section-number">14.1.1</span> le modèle linéaire<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#le-modèle-logit" id="toc-le-modèle-logit"><span class="toc-section-number">14.1.2</span> le modèle logit<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-modèles-à-régularisation" id="toc-les-modèles-à-régularisation"><span class="toc-section-number">14.1.3</span> les modèles à régularisation<span></span></a></li>
<li><a href="premiers-éléments-de-machine-learning.html#les-random-forest" id="toc-les-random-forest"><span class="toc-section-number">14.1.4</span> les random forest<span></span></a></li>
</ul></li>
<li><a href="premiers-éléments-de-machine-learning.html#forêts-aléatoires-1" id="toc-forêts-aléatoires-1"><span class="toc-section-number">14.2</span> forêts aléatoires<span></span></a></li>
</ul></li>
<li><a href="annexes.html#annexes" id="toc-annexes"><span class="toc-section-number">15</span> 20 Annexes<span></span></a>
<ul>
<li><a href="annexes.html#données-eric-ess" id="toc-données-eric-ess"><span class="toc-section-number">15.1</span> Données Eric-ESS<span></span></a></li>
<li><a href="annexes.html#fichier-airbnb-bruxelles" id="toc-fichier-airbnb-bruxelles"><span class="toc-section-number">15.2</span> fichier Airbnb Bruxelles<span></span></a></li>
<li><a href="annexes.html#section" id="toc-section"><span class="toc-section-number">15.3</span> </a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction aux Data Sciences/nAvec r</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analyse-bi-variée" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapitre 5</span> Analyse bi variée<a href="analyse-bi-variée.html#analyse-bi-variée" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Comme son nom l’indique, il s’agit d’examiner la relation entre deux variables et d’étudier leur distribution conjointe. On distinguera 3 situations et on examinera pour chaune les modes de représentations graphiques ainsi que les tests associés qui permette de s’assurer que la relation apparente est effective.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Deux variables quantitatives : scatterplot et corélations</p></li>
<li><p>deux variable qualitatives : tableau croisé et test du chi2</p></li>
<li><p>une variable quanti et une variable quali. Compariaons de moyennes et ANOVA</p></li>
<li><p>par comparer des distribution de plusieurs groupes (variables catégorielles)</p></li>
<li><p>par comparer des moyennes d’une variable dépendante en fonction de plusieurs variables indépendantes catégorielle</p></li>
<li><p>mesurer l’association entre deux variables qualitatives</p></li>
</ol>
<div id="diagrammes-xy---la-magie-des-corrélations" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Diagrammes xy - la magie des corrélations<a href="analyse-bi-variée.html#diagrammes-xy---la-magie-des-corrélations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Venons en à analyser les relations entre deux variables quantitatives.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="analyse-bi-variée.html#cb37-1" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="analyse-bi-variée.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">&quot;FR&quot;</span> <span class="sc">&amp;</span> Year<span class="sc">==</span><span class="st">&quot;2018&quot;</span>) <span class="co">#selection de l&#39;echantillon</span></span>
<span id="cb37-3"><a href="analyse-bi-variée.html#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="analyse-bi-variée.html#cb37-4" aria-hidden="true" tabindex="-1"></a>g31<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span> trust_interpersonnel,<span class="at">y=</span>trust_institut)) <span class="sc">+</span></span>
<span id="cb37-5"><a href="analyse-bi-variée.html#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">size=</span><span class="fl">0.1</span>)</span>
<span id="cb37-6"><a href="analyse-bi-variée.html#cb37-6" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb37-7"><a href="analyse-bi-variée.html#cb37-7" aria-hidden="true" tabindex="-1"></a>g31</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/412-1.png" width="672" /></p>
<p>Ce graphe est peu clair, il y a trop de points qui prennent des valeurs discrètes. Une astuce est de donner une position aléatoire pour sur disperser, on fait mieux apparaitre la densité de points. On ajoute la représentation de deux courbe d’ajustement, l’une linéraire et l’autre non linéaires.</p>
<p>Mais en attendant en voici un calcul élémentaire.</p>
<p>le calcul de la variance</p>
<p><span class="math display">\[{SS}_{xx} = \sum (x - \bar{x})^2 = \sum x^2 - \frac {(\sum x)^2}{n}\]</span>
le calcul de la covariance</p>
<p><span class="math display">\[{SS}_{xy} = \sum (x - \bar{x})(y - \bar{y}) = \sum xy - \frac {(\sum x)(\sum y)}{n}\]</span>
et la corrélation qui est le rapport de la covariance sur la racine carrée du produit des variances de x et y.</p>
<p><span class="math display">\[r = \frac {{SS}_{xy}}{\sqrt {{SS}_{xx}{SS}_{yy}}}\]</span></p>
<p>La corrélation est de l’ordre d’un peu plus de 0,40 ce qui est assez élevé mais laisse une certaine indépendance des variables. Elle désignent des objets liés mais distinct. On peut tester l’hypothèse qu’en réalité cette corrélation est nulle. Le test conduit au rejet de l’hypothèse nulle de manière très nette, compte-tenu de l’échantillon l’intervalle de confiance est compris entre 0.36 et 0.44.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="analyse-bi-variée.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#psych</span></span>
<span id="cb38-2"><a href="analyse-bi-variée.html#cb38-2" aria-hidden="true" tabindex="-1"></a>r<span class="ot">&lt;-</span><span class="fu">cor.test</span>(foo<span class="sc">$</span>trust_interpersonnel, foo<span class="sc">$</span>trust_institut) <span class="co">#le test vient du package psych</span></span>
<span id="cb38-3"><a href="analyse-bi-variée.html#cb38-3" aria-hidden="true" tabindex="-1"></a>r</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  foo$trust_interpersonnel and foo$trust_institut
## t = 18.861, df = 1821, p-value &lt; 2.2e-16
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.3651235 0.4419644
## sample estimates:
##      cor 
## 0.404257</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="analyse-bi-variée.html#cb40-1" aria-hidden="true" tabindex="-1"></a>rp<span class="ot">&lt;-</span><span class="fu">round</span>(r<span class="sc">$</span>estimate,<span class="dv">3</span>)</span>
<span id="cb40-2"><a href="analyse-bi-variée.html#cb40-2" aria-hidden="true" tabindex="-1"></a>rp</span></code></pre></div>
<pre><code>##   cor 
## 0.404</code></pre>
<p>Améliorons le graphe On peut souhaiter ajouter une droite des moindre carrés (calculée pour chaque vague d’enquête pour évaluer la stabilité de la relation dans le temps). Les lignes sont parallèles, la corrélation ne change pas dans le temps, c’est une relation stable. Les deux formes de confiance vont dans le meme sens. On verra dans un autre chapitre comment calculer ces droites de corrélations.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="analyse-bi-variée.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb42-2"><a href="analyse-bi-variée.html#cb42-2" aria-hidden="true" tabindex="-1"></a>g32<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span> trust_interpersonnel,<span class="at">y=</span>trust_institut)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="analyse-bi-variée.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">size=</span><span class="fl">0.1</span>, <span class="at">color=</span><span class="st">&quot;grey&quot;</span>)<span class="sc">+</span></span>
<span id="cb42-4"><a href="analyse-bi-variée.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb42-5"><a href="analyse-bi-variée.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;gam&quot;</span>,<span class="at">color=</span><span class="st">&quot;red&quot;</span>)     <span class="sc">+</span></span>
<span id="cb42-6"><a href="analyse-bi-variée.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relation entre confiance </span><span class="sc">\n</span><span class="st">institutionnelle et interpersonnelle&quot;</span>, </span>
<span id="cb42-7"><a href="analyse-bi-variée.html#cb42-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">&quot;r de pearson: &quot;</span>,rp ),</span>
<span id="cb42-8"><a href="analyse-bi-variée.html#cb42-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span> <span class="st">&quot;Confiance interpersonnelle&quot;</span>,</span>
<span id="cb42-9"><a href="analyse-bi-variée.html#cb42-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">&quot; Confiance institutionnelle&quot;</span>)</span>
<span id="cb42-10"><a href="analyse-bi-variée.html#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="analyse-bi-variée.html#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(g32  ,<span class="at">type =</span> <span class="st">&quot;density&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;Royalblue1&quot;</span>, <span class="at">alpha=</span>.<span class="dv">5</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0415-1.png" width="672" />
Une autre façon de représenter est celle de carte de densité de probabilité.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="analyse-bi-variée.html#cb43-1" aria-hidden="true" tabindex="-1"></a>g32<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span> trust_interpersonnel,<span class="at">y=</span>trust_institut)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="analyse-bi-variée.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">size=</span><span class="fl">0.1</span>, <span class="at">color=</span><span class="st">&quot;grey&quot;</span>)<span class="sc">+</span><span class="fu">geom_density2d</span>()<span class="sc">+</span></span>
<span id="cb43-3"><a href="analyse-bi-variée.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relation entre confiance institutionnelle et interpersonnelles&quot;</span>, <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">&quot;r de pearson: &quot;</span>,rp ))</span>
<span id="cb43-4"><a href="analyse-bi-variée.html#cb43-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-5"><a href="analyse-bi-variée.html#cb43-5" aria-hidden="true" tabindex="-1"></a>g33<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo, <span class="fu">aes</span>(<span class="at">x=</span> trust_interpersonnel,<span class="at">y=</span>trust_institut)) <span class="sc">+</span></span>
<span id="cb43-6"><a href="analyse-bi-variée.html#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density2d_filled</span>(<span class="fu">aes</span>(<span class="at">fill =</span> ..level.., <span class="at">color =</span> ..level..),</span>
<span id="cb43-7"><a href="analyse-bi-variée.html#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">contour_var =</span> <span class="st">&quot;density&quot;</span>)<span class="sc">+</span></span>
<span id="cb43-8"><a href="analyse-bi-variée.html#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relation entre confiance institutionnelle et interpersonnelles&quot;</span>, <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">&quot;r de pearson: &quot;</span>,rp ))<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb43-9"><a href="analyse-bi-variée.html#cb43-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-10"><a href="analyse-bi-variée.html#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="analyse-bi-variée.html#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(g32, g33, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>), <span class="at">label_size =</span> <span class="dv">12</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/416-1.png" width="672" /></p>
</div>
<div id="comparer-les-distributions-et-des-moyennes" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Comparer les distributions et des moyennes<a href="analyse-bi-variée.html#comparer-les-distributions-et-des-moyennes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dans notre base on a pris les données de l’Allemagne et de la France. On va comparer leur distribution. Et tant qu’à faire, puisque qu’on a deux variables, on va faire deux comparaisons : par pays et par type de confiance.</p>
<p>A cette fin, nous construisons un tableau de données spécifique.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="analyse-bi-variée.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#on recode en facteur la variable</span></span>
<span id="cb44-2"><a href="analyse-bi-variée.html#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="analyse-bi-variée.html#cb44-3" aria-hidden="true" tabindex="-1"></a>foo <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="analyse-bi-variée.html#cb44-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(cntry,trust_institut, Year,trust_interpersonnel) <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="analyse-bi-variée.html#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( Year<span class="sc">==</span><span class="st">&quot;2018&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="analyse-bi-variée.html#cb44-6" aria-hidden="true" tabindex="-1"></a> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Year)<span class="sc">%&gt;%</span></span>
<span id="cb44-7"><a href="analyse-bi-variée.html#cb44-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb44-8"><a href="analyse-bi-variée.html#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(variable, value, <span class="sc">-</span>cntry) <span class="co">#attention plutôt utiliser pivot_longer</span></span>
<span id="cb44-9"><a href="analyse-bi-variée.html#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="analyse-bi-variée.html#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(foo)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   cntry        variable       value
##   &lt;chr+lbl&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 DE [Germany] trust_institut  58.6
## 2 DE [Germany] trust_institut  65.7
## 3 DE [Germany] trust_institut  58.6
## 4 DE [Germany] trust_institut  65.7
## 5 DE [Germany] trust_institut  48.6
## 6 DE [Germany] trust_institut  37.1</code></pre>
<p>Pour la représentation, en plus de la représentation en terme de densité, on va choisir une méthode de violon et de boxplot. On utilise une couche de “facetting” pour éclater ainsi la distribution des deux variables selon un critère de pays.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="analyse-bi-variée.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#on peut utiliser &quot;facet&quot;</span></span>
<span id="cb46-2"><a href="analyse-bi-variée.html#cb46-2" aria-hidden="true" tabindex="-1"></a>g20<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>value))<span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">binwidth=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="st">&quot;pink&quot;</span>)<span class="sc">+</span> <span class="fu">facet_grid</span>(cntry<span class="sc">~</span>variable)<span class="sc">+</span>   </span>
<span id="cb46-3"><a href="analyse-bi-variée.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Confiance institutionnnelle&quot;</span>, <span class="at">caption=</span><span class="st">&quot;ESS2002-2018&quot;</span>,<span class="at">y=</span> <span class="st">&quot;frequence&quot;</span>,<span class="at">x=</span><span class="st">&quot;Confiance&quot;</span>)</span>
<span id="cb46-4"><a href="analyse-bi-variée.html#cb46-4" aria-hidden="true" tabindex="-1"></a>g20</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/418-1.png" width="672" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="analyse-bi-variée.html#cb47-1" aria-hidden="true" tabindex="-1"></a>g21<span class="ot">&lt;-</span><span class="fu">ggplot</span>(foo,<span class="fu">aes</span>(<span class="at">x=</span>variable, <span class="at">y=</span>value))<span class="sc">+</span> </span>
<span id="cb47-2"><a href="analyse-bi-variée.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>( <span class="at">fill=</span><span class="st">&quot;pink&quot;</span>) <span class="sc">+</span> </span>
<span id="cb47-3"><a href="analyse-bi-variée.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width=</span><span class="fl">0.1</span>)<span class="sc">+</span></span>
<span id="cb47-4"><a href="analyse-bi-variée.html#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(cntry<span class="sc">~</span>.)<span class="sc">+</span>   </span>
<span id="cb47-5"><a href="analyse-bi-variée.html#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Confiance institutionnnelle&quot;</span>, <span class="at">caption=</span><span class="st">&quot;ESS2002-2018&quot;</span>,<span class="at">y=</span> <span class="st">&quot;frequence&quot;</span>,<span class="at">x=</span><span class="st">&quot;Confiance&quot;</span>)</span>
<span id="cb47-6"><a href="analyse-bi-variée.html#cb47-6" aria-hidden="true" tabindex="-1"></a>g21</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/418-2.png" width="672" /></p>
<div id="comparaison-de-moyennes" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Comparaison de moyennes<a href="analyse-bi-variée.html#comparaison-de-moyennes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Comparer des distributions est une étape initiale nécesséaire, mais en général on sera plutôt intéresser de comparer des moyennes. Par exemple, on souhaiterais savoir si les degrés de confiances institutionnnelle et interpersonnelles varient en France selon les situations de revenu.</p>
<p>Calculons d’abord ces moyennes avec la fonction group_by et summarise.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="analyse-bi-variée.html#cb48-1" aria-hidden="true" tabindex="-1"></a>df_wave<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">&quot;FR&quot;</span> <span class="sc">&amp;</span> Year<span class="sc">==</span><span class="st">&quot;2018&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="analyse-bi-variée.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(revenu) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="analyse-bi-variée.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">trust_interpersonnel=</span><span class="fu">mean</span>(trust_interpersonnel, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb48-4"><a href="analyse-bi-variée.html#cb48-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">trust_institut =</span><span class="fu">mean</span>(trust_institut, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="analyse-bi-variée.html#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revenu)) <span class="sc">%&gt;%</span>                                              <span class="co">#filtrer les valeurs manquantes</span></span>
<span id="cb48-6"><a href="analyse-bi-variée.html#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(variable, value, <span class="sc">-</span>revenu)                                        <span class="co">#fichier long ( pivot longer is better)</span></span>
<span id="cb48-7"><a href="analyse-bi-variée.html#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_wave)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   revenu                        variable             value
##   &lt;fct&gt;                         &lt;chr&gt;                &lt;dbl&gt;
## 1 Vie confortable               trust_interpersonnel  55.6
## 2 Se débrouille avec son revenu trust_interpersonnel  51.7
## 3 Revenu insuffisant            trust_interpersonnel  46.7
## 4 Revenu très insuffisant       trust_interpersonnel  41.4
## 5 Vie confortable               trust_institut        50.2
## 6 Se débrouille avec son revenu trust_institut        44.1</code></pre>
<p>Représentons ces moyennes graphiquement avec un geom_bar.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="analyse-bi-variée.html#cb50-1" aria-hidden="true" tabindex="-1"></a>g06a<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df_wave,<span class="fu">aes</span>(<span class="at">x=</span>revenu,<span class="at">y=</span>value, <span class="at">group=</span>variable))<span class="sc">+</span></span>
<span id="cb50-2"><a href="analyse-bi-variée.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">fill=</span>variable), <span class="at">position =</span><span class="fu">position_dodge</span>())<span class="sc">+</span>            <span class="co">#dodge pour mettre les barres l&#39;une à côté de l&#39;autre</span></span>
<span id="cb50-3"><a href="analyse-bi-variée.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Confiance institutionnnelle&quot;</span>, <span class="at">caption=</span><span class="st">&quot;ESS2002-2018&quot;</span>,<span class="at">y=</span> <span class="st">&quot;frequence&quot;</span>,<span class="at">x=</span><span class="st">&quot;Niveau de Confiance&quot;</span>)<span class="sc">+</span></span>
<span id="cb50-4"><a href="analyse-bi-variée.html#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb50-5"><a href="analyse-bi-variée.html#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="analyse-bi-variée.html#cb50-6" aria-hidden="true" tabindex="-1"></a>g06a</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0420-1.png" width="672" /></p>
<p>On a une solution mais pas la meilleure, on perd l’idée de variance et ce serait bien d’ajouter des barres d’intervalle de confiances , un diagramme en lignes serait plus élégant. On en profite pour corriger l’aspect des labels peu lisibles en les inclinants, et à choisir une échelle qui omettent les valeur supérieur à 70 et inférieure à 30 pour donner une vision plus respectueuses de la totalité de l’échelle qui va de 0 à 100.</p>
<p>Au passage on emploie à nouveau cowplot pour combiner les graphes, et ici plus précisément partager la légende des deux graphiques.</p>
<p>On observera que si le niveau de confiance diminue avec le revenu, la confiance interpersonnelle est plus forte, et de manière parallèle, à la confiance institutionnelle. On remarquera enfin que c’est pour les revenu les plus faibles que l’estimation est la plus imprécise ou la variance la plus grande.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="analyse-bi-variée.html#cb51-1" aria-hidden="true" tabindex="-1"></a>df_wave2<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="analyse-bi-variée.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">&quot;FR&quot;</span> <span class="sc">&amp;</span> Year<span class="sc">==</span><span class="st">&quot;2018&quot;</span>)<span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="analyse-bi-variée.html#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(revenu) <span class="sc">%&gt;%</span> </span>
<span id="cb51-4"><a href="analyse-bi-variée.html#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-5"><a href="analyse-bi-variée.html#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">trust_interpersonnel_se=</span><span class="fu">sd</span>(trust_interpersonnel, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="co">#on calcule l&#39;écartype des deux variables</span></span>
<span id="cb51-6"><a href="analyse-bi-variée.html#cb51-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">trust_institut_se =</span><span class="fu">sd</span>(trust_institut, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb51-7"><a href="analyse-bi-variée.html#cb51-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">n=</span><span class="fu">sum</span>(n),</span>
<span id="cb51-8"><a href="analyse-bi-variée.html#cb51-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">trust_interpersonnel_se=</span> <span class="dv">2</span><span class="sc">*</span>trust_interpersonnel_se<span class="sc">/</span><span class="fu">sqrt</span>(n), <span class="co"># on calcule l&#39;erreur type d&#39;échantillonnage</span></span>
<span id="cb51-9"><a href="analyse-bi-variée.html#cb51-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">trust_institut_se=</span><span class="dv">2</span><span class="sc">*</span>trust_institut_se<span class="sc">/</span><span class="fu">sqrt</span>(n)</span>
<span id="cb51-10"><a href="analyse-bi-variée.html#cb51-10" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb51-11"><a href="analyse-bi-variée.html#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(revenu)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-12"><a href="analyse-bi-variée.html#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(variable, value, <span class="sc">-</span>revenu) <span class="sc">%&gt;%</span> <span class="co">#on passe en format long</span></span>
<span id="cb51-13"><a href="analyse-bi-variée.html#cb51-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>revenu,<span class="sc">-</span>variable)<span class="sc">%&gt;%</span></span>
<span id="cb51-14"><a href="analyse-bi-variée.html#cb51-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">se=</span>value)</span>
<span id="cb51-15"><a href="analyse-bi-variée.html#cb51-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-16"><a href="analyse-bi-variée.html#cb51-16" aria-hidden="true" tabindex="-1"></a>df_wave3<span class="ot">&lt;-</span><span class="fu">cbind</span>(df_wave,df_wave2) <span class="co">#on concatène les moyennes et les erreurs types</span></span>
<span id="cb51-17"><a href="analyse-bi-variée.html#cb51-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-18"><a href="analyse-bi-variée.html#cb51-18" aria-hidden="true" tabindex="-1"></a><span class="co">#on peut enfin produire le graphique</span></span>
<span id="cb51-19"><a href="analyse-bi-variée.html#cb51-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-20"><a href="analyse-bi-variée.html#cb51-20" aria-hidden="true" tabindex="-1"></a>g06a<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df_wave3,<span class="fu">aes</span>(<span class="at">x=</span>revenu,<span class="at">y=</span>value, <span class="at">group=</span>variable))<span class="sc">+</span></span>
<span id="cb51-21"><a href="analyse-bi-variée.html#cb51-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">color=</span>variable), <span class="at">size=</span><span class="fl">1.5</span>)<span class="sc">+</span> </span>
<span id="cb51-22"><a href="analyse-bi-variée.html#cb51-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>value<span class="sc">-</span>se, <span class="at">ymax=</span>value<span class="sc">+</span>se, <span class="at">color=</span>variable), <span class="at">width=</span>.<span class="dv">2</span>,<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb51-23"><a href="analyse-bi-variée.html#cb51-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;Confiance et revenu&quot;</span>,<span class="at">y=</span> <span class="st">&quot;Moyenne&quot;</span>,<span class="at">x=</span><span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb51-24"><a href="analyse-bi-variée.html#cb51-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>( <span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust =</span><span class="dv">1</span>)) <span class="co">#on controle l&#39;angle et la position horizontale du label</span></span>
<span id="cb51-25"><a href="analyse-bi-variée.html#cb51-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-26"><a href="analyse-bi-variée.html#cb51-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-27"><a href="analyse-bi-variée.html#cb51-27" aria-hidden="true" tabindex="-1"></a>g06b<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df_wave3,<span class="fu">aes</span>(<span class="at">x=</span>revenu,<span class="at">y=</span>value, <span class="at">group=</span>variable))<span class="sc">+</span></span>
<span id="cb51-28"><a href="analyse-bi-variée.html#cb51-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="fu">aes</span>(<span class="at">color=</span>variable), <span class="at">size=</span><span class="fl">1.5</span>)<span class="sc">+</span> </span>
<span id="cb51-29"><a href="analyse-bi-variée.html#cb51-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>value<span class="sc">-</span>se, <span class="at">ymax=</span>value<span class="sc">+</span>se, <span class="at">color=</span>variable), <span class="at">width=</span>.<span class="dv">2</span>,<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb51-30"><a href="analyse-bi-variée.html#cb51-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">100</span>)<span class="sc">+</span></span>
<span id="cb51-31"><a href="analyse-bi-variée.html#cb51-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span> <span class="st">&quot;&quot;</span>,<span class="at">y=</span> <span class="st">&quot;Moyenne&quot;</span>,<span class="at">x=</span><span class="cn">NULL</span>)<span class="sc">+</span></span>
<span id="cb51-32"><a href="analyse-bi-variée.html#cb51-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>( <span class="at">angle=</span><span class="dv">45</span>, <span class="at">hjust =</span><span class="dv">1</span>)) <span class="co">#on controle l&#39;angle et la position horizontale du label</span></span>
<span id="cb51-33"><a href="analyse-bi-variée.html#cb51-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-34"><a href="analyse-bi-variée.html#cb51-34" aria-hidden="true" tabindex="-1"></a>prow <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(</span>
<span id="cb51-35"><a href="analyse-bi-variée.html#cb51-35" aria-hidden="true" tabindex="-1"></a>  g06a <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>),</span>
<span id="cb51-36"><a href="analyse-bi-variée.html#cb51-36" aria-hidden="true" tabindex="-1"></a>  g06b <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>),</span>
<span id="cb51-37"><a href="analyse-bi-variée.html#cb51-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">align =</span> <span class="st">&#39;vh&#39;</span>,</span>
<span id="cb51-38"><a href="analyse-bi-variée.html#cb51-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb51-39"><a href="analyse-bi-variée.html#cb51-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">hjust =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb51-40"><a href="analyse-bi-variée.html#cb51-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb51-41"><a href="analyse-bi-variée.html#cb51-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-42"><a href="analyse-bi-variée.html#cb51-42" aria-hidden="true" tabindex="-1"></a><span class="co"># extract a legend that is laid out horizontally</span></span>
<span id="cb51-43"><a href="analyse-bi-variée.html#cb51-43" aria-hidden="true" tabindex="-1"></a>legend_b <span class="ot">&lt;-</span> <span class="fu">get_legend</span>(</span>
<span id="cb51-44"><a href="analyse-bi-variée.html#cb51-44" aria-hidden="true" tabindex="-1"></a>  g06a <span class="sc">+</span> </span>
<span id="cb51-45"><a href="analyse-bi-variée.html#cb51-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb51-46"><a href="analyse-bi-variée.html#cb51-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb51-47"><a href="analyse-bi-variée.html#cb51-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-48"><a href="analyse-bi-variée.html#cb51-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-49"><a href="analyse-bi-variée.html#cb51-49" aria-hidden="true" tabindex="-1"></a><span class="co"># add the legend underneath the row we made earlier. Give it 10%</span></span>
<span id="cb51-50"><a href="analyse-bi-variée.html#cb51-50" aria-hidden="true" tabindex="-1"></a><span class="co"># of the height of one plot (via rel_heights).</span></span>
<span id="cb51-51"><a href="analyse-bi-variée.html#cb51-51" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(prow, legend_b, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">rel_heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, .<span class="dv">1</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0422-1.png" width="672" /></p>
<p>La visualisation est utile, encore faut-il qu’on soit bien certain que les variations ne soit pas le produit du hasard, des fluctuations d’échantillonnage. Si en moyenne la perception du pouvoir d’achat est associée à des moyennes de confiance décroissantes, les différences observées sont-elle significatives? Dans les représentations précédentes c’est le choix de l’échelle qui oriente l’analyse.</p>
<p>On a un besoin d’un test plus objectif. Celui est le très classique test d’analyse de variance (ANOVA).</p>
<p>Celui-çi est le test d’analyse de variance qui consiste à comparer la variance à l’intérieur des groupes ( intra), et la variance entre les moyennes des groupes (inter ou between).</p>
<p>On note qu’ici on introduit la méthode flextable pour présenter des tableaux au formats scientifique. L’astuce ici est d’utiliser aussi xtable.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="analyse-bi-variée.html#cb52-1" aria-hidden="true" tabindex="-1"></a>foo<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="analyse-bi-variée.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cntry<span class="sc">==</span><span class="st">&quot;FR&quot;</span> <span class="sc">&amp;</span> Year<span class="sc">==</span><span class="st">&quot;2018&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="analyse-bi-variée.html#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="co">#selection des données</span></span>
<span id="cb52-4"><a href="analyse-bi-variée.html#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="analyse-bi-variée.html#cb52-5" aria-hidden="true" tabindex="-1"></a>fit<span class="ot">&lt;-</span><span class="fu">lm</span>(trust_institut<span class="sc">~</span>revenu, foo) <span class="co">#calcul du modèle linéaire</span></span>
<span id="cb52-6"><a href="analyse-bi-variée.html#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="analyse-bi-variée.html#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(fit) <span class="co">#test d&#39;analyse de variance</span></span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: trust_institut
##             Df Sum Sq Mean Sq F value    Pr(&gt;F)    
## revenu       3  27651  9217.1  32.052 &lt; 2.2e-16 ***
## Residuals 1686 484846   287.6                      
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="analyse-bi-variée.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xtable) <span class="co">#xtable transforme en table certains type d&#39;objet dont les résultats de l&#39;anova</span></span>
<span id="cb54-2"><a href="analyse-bi-variée.html#cb54-2" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> <span class="fu">xtable_to_flextable</span>(<span class="fu">xtable</span>(<span class="fu">anova</span>(fit)), <span class="at">hline.after =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>)) <span class="co">#la fonction permet d&#39;exploiter flextable.</span></span>
<span id="cb54-3"><a href="analyse-bi-variée.html#cb54-3" aria-hidden="true" tabindex="-1"></a>ft</span></code></pre></div>
<template id="668bc350-3134-4910-8f02-42034ee03b62"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-d710345c{border-collapse:collapse;}.cl-d7073776{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7073777{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7075e68{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d7075e69{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d707ac4c{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac4d{width:52.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac4e{width:58.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac4f{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac50{width:65.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac51{width:69.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac52{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac53{width:58.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac54{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac55{width:52.6pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707ac56{width:65.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d348{width:69.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d349{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d34a{width:52.6pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d34b{width:65.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d34c{width:58.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d34d{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d707d34e{width:69.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-d710345c'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-d707d34d"><p class="cl-d7075e68"><span class="cl-d7073776"></span></p></td><td class="cl-d707d349"><p class="cl-d7075e69"><span class="cl-d7073776">Df</span></p></td><td class="cl-d707d34e"><p class="cl-d7075e69"><span class="cl-d7073776">Sum Sq</span></p></td><td class="cl-d707d34b"><p class="cl-d7075e69"><span class="cl-d7073776">Mean Sq</span></p></td><td class="cl-d707d34c"><p class="cl-d7075e69"><span class="cl-d7073776">F value</span></p></td><td class="cl-d707d34a"><p class="cl-d7075e69"><span class="cl-d7073776">Pr(&gt;F)</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d707ac4f"><p class="cl-d7075e68"><span class="cl-d7073776">revenu</span></p></td><td class="cl-d707ac4c"><p class="cl-d7075e69"><span class="cl-d7073777">3</span></p></td><td class="cl-d707ac51"><p class="cl-d7075e69"><span class="cl-d7073777">27,651.4</span></p></td><td class="cl-d707ac50"><p class="cl-d7075e69"><span class="cl-d7073777">9,217.1</span></p></td><td class="cl-d707ac4e"><p class="cl-d7075e69"><span class="cl-d7073777">32.1</span></p></td><td class="cl-d707ac4d"><p class="cl-d7075e69"><span class="cl-d7073777">0.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d707ac54"><p class="cl-d7075e68"><span class="cl-d7073776">Residuals</span></p></td><td class="cl-d707ac52"><p class="cl-d7075e69"><span class="cl-d7073777">1,686</span></p></td><td class="cl-d707d348"><p class="cl-d7075e69"><span class="cl-d7073777">484,845.7</span></p></td><td class="cl-d707ac56"><p class="cl-d7075e69"><span class="cl-d7073777">287.6</span></p></td><td class="cl-d707ac53"><p class="cl-d7075e69"><span class="cl-d7073777"></span></p></td><td class="cl-d707ac55"><p class="cl-d7075e69"><span class="cl-d7073777"></span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="07374a8d-41da-43ab-8478-df882a3523bc"></div>
<script>
var dest = document.getElementById("07374a8d-41da-43ab-8478-df882a3523bc");
var template = document.getElementById("668bc350-3134-4910-8f02-42034ee03b62");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="deux-variables-qualitatives" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Deux variables qualitatives<a href="analyse-bi-variée.html#deux-variables-qualitatives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’étude de la relation éventuelle entre deux variables qualitative s’apprécie traditionnellement par une méthode de tableau croisé.</p>
<div id="tableau-croisé" class="section level4 hasAnchor" number="5.2.2.1">
<h4><span class="header-section-number">5.2.2.1</span> Tableau croisé<a href="analyse-bi-variée.html#tableau-croisé" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Pour calculer le tableau croisé on utilise la fonction très simple <code>table</code> et la fonction <code>prop.table</code></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="analyse-bi-variée.html#cb55-1" aria-hidden="true" tabindex="-1"></a>t<span class="ot">&lt;-</span><span class="fu">table</span>(foo<span class="sc">$</span>revenu,foo<span class="sc">$</span>habitat)</span>
<span id="cb55-2"><a href="analyse-bi-variée.html#cb55-2" aria-hidden="true" tabindex="-1"></a>t</span></code></pre></div>
<pre><code>##                                
##                                 Big city Suburbs Town Village Countryside
##   Vie confortable                    118      82  161     142          31
##   Se débrouille avec son revenu      120     109  275     227          58
##   Revenu insuffisant                  48      38  129      88          22
##   Revenu très insuffisant              9       5   18      10           0</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="analyse-bi-variée.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(t,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##                                
##                                   Big city    Suburbs       Town    Village
##   Vie confortable               0.40000000 0.35042735 0.27615780 0.30406852
##   Se débrouille avec son revenu 0.40677966 0.46581197 0.47169811 0.48608137
##   Revenu insuffisant            0.16271186 0.16239316 0.22126930 0.18843683
##   Revenu très insuffisant       0.03050847 0.02136752 0.03087479 0.02141328
##                                
##                                 Countryside
##   Vie confortable                0.27927928
##   Se débrouille avec son revenu  0.52252252
##   Revenu insuffisant             0.19819820
##   Revenu très insuffisant        0.00000000</code></pre>
<p>Mais ce n’est pas esthétique, avec la fonction <code>proc_freq</code> de flextable on obtient une meilleure présentation. Elle nous donne en peu de mots les effectif par cellule, les pourcentages en lignes, et en colonnes.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="analyse-bi-variée.html#cb59-1" aria-hidden="true" tabindex="-1"></a>ft1<span class="ot">&lt;-</span> <span class="fu">proc_freq</span>(foo, <span class="st">&quot;revenu&quot;</span>, <span class="st">&quot;habitat&quot;</span>, <span class="at">include.table_percent =</span> <span class="cn">FALSE</span>,</span>
<span id="cb59-2"><a href="analyse-bi-variée.html#cb59-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">include.row_percent =</span> <span class="cn">FALSE</span>, <span class="at">include.column_total =</span> <span class="cn">FALSE</span>,</span>
<span id="cb59-3"><a href="analyse-bi-variée.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">include.column_percent =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-4"><a href="analyse-bi-variée.html#cb59-4" aria-hidden="true" tabindex="-1"></a>ft1</span></code></pre></div>
<template id="07da3103-933f-4a0b-8609-25a9c4085d2e"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-d777d4a4{border-collapse:collapse;}.cl-d76d7b6c{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d76d7b6d{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d76d7b6e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d76d7b6f{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d76dc95a{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc95b{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc95c{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc95d{width:79.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc95e{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc95f{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc960{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc961{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc962{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc963{width:79.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76dc964{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df04c{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df04d{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df04e{width:79.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df04f{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df050{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df051{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df052{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df053{width:79.2pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df054{width:168.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df055{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76df056{width:79.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76e173e{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76e173f{width:45pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76e1740{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d76e1741{width:168.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-d777d4a4'>
<thead><tr style="overflow-wrap:break-word;"><td  colspan="2"class="cl-d76df054"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c"></span></p></td><td  colspan="6"class="cl-d76df051"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">habitat</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d76e1741"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">revenu</span></p></td><td class="cl-d76e1740"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">label</span></p></td><td class="cl-d76e173e"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Big city</span></p></td><td class="cl-d76e173e"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Suburbs</span></p></td><td class="cl-d76e173e"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Town</span></p></td><td class="cl-d76e173e"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Village</span></p></td><td class="cl-d76df056"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Countryside</span></p></td><td class="cl-d76e173f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6c">Total</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d76dc95e"><p class="cl-d76d7b6f"><span class="cl-d76d7b6c">Vie confortable</span></p></td><td class="cl-d76dc95c"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Frequency</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">118</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">82</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">161</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">142</span></p></td><td class="cl-d76dc95d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">31</span></p></td><td class="cl-d76dc95b"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">534</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d76dc962"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Col Pct</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">40%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">35.04%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">27.62%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">30.41%</span></p></td><td class="cl-d76dc963"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">27.93%</span></p></td><td class="cl-d76dc960"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d76dc95e"><p class="cl-d76d7b6f"><span class="cl-d76d7b6c">Se débrouille avec son revenu</span></p></td><td class="cl-d76dc95c"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Frequency</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">120</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">109</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">275</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">227</span></p></td><td class="cl-d76dc95d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">58</span></p></td><td class="cl-d76dc95b"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">789</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d76dc962"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Col Pct</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">40.68%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">46.58%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">47.17%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">48.61%</span></p></td><td class="cl-d76dc963"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">52.25%</span></p></td><td class="cl-d76dc960"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d76dc95e"><p class="cl-d76d7b6f"><span class="cl-d76d7b6c">Revenu insuffisant</span></p></td><td class="cl-d76dc95c"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Frequency</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">48</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">38</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">129</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">88</span></p></td><td class="cl-d76dc95d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">22</span></p></td><td class="cl-d76dc95b"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">325</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d76dc962"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Col Pct</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">16.27%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">16.24%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">22.13%</span></p></td><td class="cl-d76dc95f"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">18.84%</span></p></td><td class="cl-d76dc963"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">19.82%</span></p></td><td class="cl-d76dc960"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d76dc964"><p class="cl-d76d7b6f"><span class="cl-d76d7b6c">Revenu très insuffisant</span></p></td><td class="cl-d76dc95c"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Frequency</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">9</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">5</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">18</span></p></td><td class="cl-d76dc95a"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">10</span></p></td><td class="cl-d76dc95d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">0</span></p></td><td class="cl-d76dc95b"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">42</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d76df04c"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">Col Pct</span></p></td><td class="cl-d76df04d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">3.05%</span></p></td><td class="cl-d76df04d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">2.14%</span></p></td><td class="cl-d76df04d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">3.09%</span></p></td><td class="cl-d76df04d"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">2.14%</span></p></td><td class="cl-d76df04e"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d">0%</span></p></td><td class="cl-d76df050"><p class="cl-d76d7b6e"><span class="cl-d76d7b6d"></span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="eae25db4-7dcc-4927-8cfb-d05f636b8773"></div>
<script>
var dest = document.getElementById("eae25db4-7dcc-4927-8cfb-d05f636b8773");
var template = document.getElementById("07da3103-933f-4a0b-8609-25a9c4085d2e");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="analyse-bi-variée.html#cb60-1" aria-hidden="true" tabindex="-1"></a>ft2<span class="ot">&lt;-</span> <span class="fu">proc_freq</span>(foo, <span class="st">&quot;revenu&quot;</span>, <span class="st">&quot;habitat&quot;</span>, <span class="at">include.table_percent =</span> <span class="cn">FALSE</span>,</span>
<span id="cb60-2"><a href="analyse-bi-variée.html#cb60-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">include.row_percent =</span> <span class="cn">TRUE</span>,</span>
<span id="cb60-3"><a href="analyse-bi-variée.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">include.column_percent =</span> <span class="cn">FALSE</span>)</span>
<span id="cb60-4"><a href="analyse-bi-variée.html#cb60-4" aria-hidden="true" tabindex="-1"></a>ft2</span></code></pre></div>
<template id="2655916e-143a-4e9e-b485-f48c23c1ded0"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-d7c2183e{border-collapse:collapse;}.cl-d7aec4a0{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7aec4a1{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7aeeb92{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d7aeeb93{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d7af3980{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3981{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3982{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3983{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3984{width:84.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3985{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3986{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3987{width:84.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3988{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af3989{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af398a{width:84.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6072{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6073{width:168.5pt;background-color:transparent;vertical-align: top;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6074{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6075{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6076{width:168.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6077{width:84.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6078{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af6079{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af607a{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af607b{width:84.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af607c{width:90.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af8764{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af8765{width:168.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7af8766{width:48.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-d7c2183e'>
<thead><tr style="overflow-wrap:break-word;"><td  colspan="2"class="cl-d7af6076"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0"></span></p></td><td  colspan="6"class="cl-d7af6077"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">habitat</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af8765"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">revenu</span></p></td><td class="cl-d7af8764"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">label</span></p></td><td class="cl-d7af607b"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Big city</span></p></td><td class="cl-d7af607b"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Suburbs</span></p></td><td class="cl-d7af607b"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Town</span></p></td><td class="cl-d7af607b"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Village</span></p></td><td class="cl-d7af607c"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Countryside</span></p></td><td class="cl-d7af8766"><p class="cl-d7aeeb92"><span class="cl-d7aec4a0">Total</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d7af3982"><p class="cl-d7aeeb93"><span class="cl-d7aec4a0">Vie confortable</span></p></td><td class="cl-d7af3980"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Frequency</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">118</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">82</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">161</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">142</span></p></td><td class="cl-d7af3983"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">31</span></p></td><td class="cl-d7af3981"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">534</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af3988"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Row Pct</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">22.1%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">15.36%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">30.15%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">26.59%</span></p></td><td class="cl-d7af3986"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">5.81%</span></p></td><td class="cl-d7af3985"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d7af3982"><p class="cl-d7aeeb93"><span class="cl-d7aec4a0">Se débrouille avec son revenu</span></p></td><td class="cl-d7af3980"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Frequency</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">120</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">109</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">275</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">227</span></p></td><td class="cl-d7af3983"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">58</span></p></td><td class="cl-d7af3981"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">789</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af3988"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Row Pct</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">15.21%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">13.81%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">34.85%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">28.77%</span></p></td><td class="cl-d7af3986"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">7.35%</span></p></td><td class="cl-d7af3985"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d7af3982"><p class="cl-d7aeeb93"><span class="cl-d7aec4a0">Revenu insuffisant</span></p></td><td class="cl-d7af3980"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Frequency</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">48</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">38</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">129</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">88</span></p></td><td class="cl-d7af3983"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">22</span></p></td><td class="cl-d7af3981"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">325</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af3988"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Row Pct</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">14.77%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">11.69%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">39.69%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">27.08%</span></p></td><td class="cl-d7af3986"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">6.77%</span></p></td><td class="cl-d7af3985"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-d7af3982"><p class="cl-d7aeeb93"><span class="cl-d7aec4a0">Revenu très insuffisant</span></p></td><td class="cl-d7af3980"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Frequency</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">9</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">5</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">18</span></p></td><td class="cl-d7af3984"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">10</span></p></td><td class="cl-d7af3983"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">0</span></p></td><td class="cl-d7af3981"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">42</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af3988"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Row Pct</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">21.43%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">11.9%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">42.86%</span></p></td><td class="cl-d7af3987"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">23.81%</span></p></td><td class="cl-d7af3986"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">0%</span></p></td><td class="cl-d7af3985"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7af6073"><p class="cl-d7aeeb93"><span class="cl-d7aec4a0">Total</span></p></td><td class="cl-d7af6072"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">Frequency</span></p></td><td class="cl-d7af398a"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">295</span></p></td><td class="cl-d7af398a"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">234</span></p></td><td class="cl-d7af398a"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">583</span></p></td><td class="cl-d7af398a"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">467</span></p></td><td class="cl-d7af6074"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">111</span></p></td><td class="cl-d7af6075"><p class="cl-d7aeeb92"><span class="cl-d7aec4a1">1690</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="36829f6f-25a9-46c1-95d5-8be7d0e61e23"></div>
<script>
var dest = document.getElementById("36829f6f-25a9-46c1-95d5-8be7d0e61e23");
var template = document.getElementById("2655916e-143a-4e9e-b485-f48c23c1ded0");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="le-valeureux-chi²" class="section level4 hasAnchor" number="5.2.2.2">
<h4><span class="header-section-number">5.2.2.2</span> le valeureux chi²<a href="analyse-bi-variée.html#le-valeureux-chi²" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Le test du chi2 s’appuie sur une idée très simple qui de fait est un théorème : Si deux variables X et Y sont indépendantes, la fréquence de leur combinaison est le produit des fréquences marginales.</p>
<p>On peut donc sur cette base, calculer l’effectif attendu (expected frequency) puis le comparer à ce qu’on a observé pour chacune des cellules du tableau. On somme enfin ces écarts.</p>
<p><span class="math display">\[\chi^2 = \sum \frac {(O_{ij} - E_{ij})^2}{E_{ij}}\]</span></p>
<p>Naturellement , une même valeur de cette quantité pour un petit tableau( 2x2) n’a pas la même signification que si le tableau est grand( par ex 20x 10). On l’appréciera donc en fonction des degrés de liberté (n-1 x m-1).</p>
<p>Le test proprement dit consiste à examiner quelles sont les chances qu’on obtienne la valeur du chi2 calculé, pour un nombre de degré de liberté donné. Si cette probabilité est faible on rejetera l’hypothèse d’indépendance des deux variables.</p>
<p>Avec r la fonction chsq.test nous simplifie</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="analyse-bi-variée.html#cb61-1" aria-hidden="true" tabindex="-1"></a>chi2<span class="ot">&lt;-</span><span class="fu">chisq.test</span>(t)</span>
<span id="cb61-2"><a href="analyse-bi-variée.html#cb61-2" aria-hidden="true" tabindex="-1"></a>chi2</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  t
## X-squared = 23.853, df = 12, p-value = 0.0213</code></pre>
<p>L’objet chi2 est une liste</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="analyse-bi-variée.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On isole les éléments qui nous intéresse</span></span>
<span id="cb63-2"><a href="analyse-bi-variée.html#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="analyse-bi-variée.html#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co">#library()</span></span>
<span id="cb63-4"><a href="analyse-bi-variée.html#cb63-4" aria-hidden="true" tabindex="-1"></a>chi<span class="ot">&lt;-</span><span class="fu">round</span>(chi2<span class="sc">$</span>statistic,<span class="dv">2</span>)</span>
<span id="cb63-5"><a href="analyse-bi-variée.html#cb63-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">round</span>(chi2<span class="sc">$</span>p.value,<span class="dv">3</span>)</span>
<span id="cb63-6"><a href="analyse-bi-variée.html#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co">#V&lt;-cramerV(t, digit=3) ( le package n&#39;est plus maintenu)</span></span></code></pre></div>
</div>
<div id="diagramme-en-mosaique" class="section level4 hasAnchor" number="5.2.2.3">
<h4><span class="header-section-number">5.2.2.3</span> diagramme en mosaique<a href="analyse-bi-variée.html#diagramme-en-mosaique" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Le diagramme en mosaïque détermine la largeur des barres en fonction de l’effectif de la variable en abscisse et leur hauteur en fonction de la variable en ordonnée. Les couleurs permettent de mieux comparer.
On s’aperçoit ici que les plus à l’aise avec leur revenu sont proportionnellement plus nombreux dans les grandes villes, et que ceux qui se débrouille sont plus fréquents dans les campagnes.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="analyse-bi-variée.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmosaic)</span>
<span id="cb64-2"><a href="analyse-bi-variée.html#cb64-2" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> foo) <span class="sc">+</span></span>
<span id="cb64-3"><a href="analyse-bi-variée.html#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_mosaic</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">product</span>( revenu ,habitat), <span class="at">fill =</span> revenu))<span class="sc">+</span>  </span>
<span id="cb64-4"><a href="analyse-bi-variée.html#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>))<span class="sc">+</span> </span>
<span id="cb64-5"><a href="analyse-bi-variée.html#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="sc">+</span></span>
<span id="cb64-6"><a href="analyse-bi-variée.html#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Statut vaccinal </span><span class="sc">\n</span><span class="st">par genre&quot;</span>, </span>
<span id="cb64-7"><a href="analyse-bi-variée.html#cb64-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle=</span><span class="fu">paste0</span>(<span class="st">&quot;chi2 =&quot;</span>,chi, <span class="st">&quot; p = &quot;</span>, p, <span class="st">&quot; - V : &quot;</span>, V))<span class="sc">+</span>    </span>
<span id="cb64-8"><a href="analyse-bi-variée.html#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;RdYlGn&quot;</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) </span>
<span id="cb64-9"><a href="analyse-bi-variée.html#cb64-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-10"><a href="analyse-bi-variée.html#cb64-10" aria-hidden="true" tabindex="-1"></a>g1</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0428-1.png" width="672" /></p>
</div>
<div id="les-chi2s-partiels-et-des-cartes-de-chaleur." class="section level4 hasAnchor" number="5.2.2.4">
<h4><span class="header-section-number">5.2.2.4</span> les chi2s partiels et des cartes de chaleur.<a href="analyse-bi-variée.html#les-chi2s-partiels-et-des-cartes-de-chaleur." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Une carte de chaleur représente une grandeur par un gradient de couleur pour chaque cellule définie par des variable x et y.</p>
<p>Faisons un premier essai pour représenter les effectifs, plutôt qu’avoir un tableau de nombres on va obtenir un tableau de couleurs.</p>
<p>L’arbre qui apparait en ligne et en colonne correspond au résultat d’une classification hiérarchique que nous développons dans le chapitre X.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="analyse-bi-variée.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pheatmap)</span>
<span id="cb65-2"><a href="analyse-bi-variée.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb65-3"><a href="analyse-bi-variée.html#cb65-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-4"><a href="analyse-bi-variée.html#cb65-4" aria-hidden="true" tabindex="-1"></a>table2<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(t) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="analyse-bi-variée.html#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Var1, <span class="at">values_from =</span> Freq) <span class="sc">%&gt;%</span></span>
<span id="cb65-6"><a href="analyse-bi-variée.html#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>( <span class="at">var =</span> <span class="st">&quot;Var2&quot;</span>)</span>
<span id="cb65-7"><a href="analyse-bi-variée.html#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="fu">pheatmap</span>(table2 , <span class="at">color =</span> <span class="fu">rocket</span>(<span class="dv">10</span>,<span class="at">direction =</span><span class="sc">-</span><span class="dv">1</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0429-1.png" width="672" /></p>
<p>On utilise la même technique mais en représenant une grandeur différentes : les tests du chi2 partiels, pour apprécier les sous ou les sur-représentation.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="analyse-bi-variée.html#cb66-1" aria-hidden="true" tabindex="-1"></a>chi2df<span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(chi2<span class="sc">$</span>stdres)</span>
<span id="cb66-2"><a href="analyse-bi-variée.html#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="analyse-bi-variée.html#cb66-3" aria-hidden="true" tabindex="-1"></a>table2<span class="ot">&lt;-</span>chi2df <span class="sc">%&gt;%</span> </span>
<span id="cb66-4"><a href="analyse-bi-variée.html#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Var1, <span class="at">values_from =</span> Freq) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href="analyse-bi-variée.html#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>( <span class="at">var =</span> <span class="st">&quot;Var2&quot;</span>)</span>
<span id="cb66-6"><a href="analyse-bi-variée.html#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="fu">pheatmap</span>(table2 , <span class="at">color =</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">9</span>, <span class="at">name =</span> <span class="st">&quot;RdBu&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0430-1.png" width="672" /></p>
</div>
<div id="les-treemaps-cest-merveilleux" class="section level4 hasAnchor" number="5.2.2.5">
<h4><span class="header-section-number">5.2.2.5</span> Les treemaps, c’est merveilleux<a href="analyse-bi-variée.html#les-treemaps-cest-merveilleux" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>D’autre graphiques et des emboîtements</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="analyse-bi-variée.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb67-2"><a href="analyse-bi-variée.html#cb67-2" aria-hidden="true" tabindex="-1"></a>tree1<span class="ot">&lt;-</span>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n=</span><span class="dv">1</span>)<span class="sc">%&gt;%</span><span class="fu">group_by</span>(cntry,genre,habitat) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">sum</span>(n),<span class="at">mean=</span><span class="fu">mean</span>(trust_interpersonnel, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb67-3"><a href="analyse-bi-variée.html#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="analyse-bi-variée.html#cb67-4" aria-hidden="true" tabindex="-1"></a>g10 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tree1, <span class="fu">aes</span>(<span class="at">area =</span> n, <span class="at">fill=</span>genre,<span class="at">subgroup=</span>cntry)) <span class="sc">+</span></span>
<span id="cb67-5"><a href="analyse-bi-variée.html#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>() <span class="sc">+</span>   </span>
<span id="cb67-6"><a href="analyse-bi-variée.html#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>habitat),<span class="at">colour =</span> <span class="st">&quot;white&quot;</span>, <span class="at">place =</span> <span class="st">&quot;centre&quot;</span>,<span class="at">grow =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb67-7"><a href="analyse-bi-variée.html#cb67-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_treemap_subgroup_text</span>(<span class="at">color=</span><span class="st">&quot;white&quot;</span>,<span class="at">grow =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb67-8"><a href="analyse-bi-variée.html#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_subgroup_border</span>()</span>
<span id="cb67-9"><a href="analyse-bi-variée.html#cb67-9" aria-hidden="true" tabindex="-1"></a>g10</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/0431-1.png" width="672" /></p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analyses-univariées.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analyse-graphique-multivariée.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-GGplotBivar.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
